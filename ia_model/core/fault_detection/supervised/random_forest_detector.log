2025-05-06 23:52:29,426 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-06 23:52:29,428 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-06 23:52:29,428 - RandomForestFaultDetector - INFO - Chargement des données depuis: ../../../../data/clean_workorders.csv
2025-05-06 23:52:29,553 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-06 23:52:29,553 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: ../../../../data/table_location.csv
2025-05-06 23:52:29,634 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-06 23:52:29,634 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: ../../../../data/table_assetnum.csv
2025-05-06 23:52:29,693 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-06 23:52:29,728 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-06 23:52:29,736 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-06 23:52:29,737 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-06 23:52:29,738 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-06 23:52:29,739 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-06 23:52:29,740 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-06 23:52:29,744 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 607, 1: 86}
2025-05-06 23:52:29,750 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-06 23:52:29,753 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-06 23:52:29,758 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-06 23:52:29,771 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-06 23:52:29,777 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-06 23:52:29,782 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-06 23:52:29,794 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-06 23:52:29,794 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-06 23:52:30,093 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-06 23:52:30,123 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.33597285923546183, 'LOCATION': 0.31158250204201143, 'Description': 0.2227242310307641, 'assetnum_description': 0.12418095155146164, 'location_description': 0.00553945614030096}}
2025-05-06 23:52:30,128 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-06 23:52:30,188 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9759615384615384, 'Precision': 0.8888888888888888, 'Recall': 0.9230769230769231, 'F1 Score': 0.9056603773584906, 'ROC AUC': np.float64(0.9752747252747254)}
2025-05-06 23:52:30,188 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.99       182
           1       0.89      0.92      0.91        26

    accuracy                           0.98       208
   macro avg       0.94      0.95      0.95       208
weighted avg       0.98      0.98      0.98       208

2025-05-06 23:52:30,193 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-06 23:52:31,008 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-06 23:52:33,551 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-06 23:52:33,575 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 374.42 KB
2025-05-06 23:52:33,578 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-06 23:52:33,590 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-06 23:52:33,597 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-06 23:52:33,639 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-06 23:52:33,640 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 52.50%, Score de risque: 1.05
2025-05-06 23:52:33,640 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '52.50%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '47.50%', 'panne': '52.50%'}, 'risk_factors': ['Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING']}}}
2025-05-06 23:52:33,643 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-06 23:52:33,651 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-06 23:52:33,658 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-06 23:52:33,688 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-06 23:52:33,692 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-06 23:52:33,694 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK']}}}
2025-05-06 23:52:33,696 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-06 23:52:33,720 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-06 23:52:33,725 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-06 23:52:33,758 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-06 23:52:33,758 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-06 23:52:33,758 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED']}}}
2025-05-07 00:30:25,362 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 00:30:25,362 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 00:30:25,362 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 00:30:25,451 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 00:30:25,451 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 00:30:25,499 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 00:30:25,500 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 00:30:25,537 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 00:30:25,556 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 00:30:25,562 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 00:30:25,563 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 00:30:25,564 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 00:30:25,566 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 00:30:25,566 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 00:30:25,570 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 607, 1: 86}
2025-05-07 00:30:25,572 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 00:30:25,577 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 00:30:25,581 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 00:30:25,587 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 00:30:25,588 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 00:30:25,593 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 00:30:25,604 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 00:30:25,604 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 00:30:25,800 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 00:30:25,824 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.33597285923546183, 'LOCATION': 0.31158250204201143, 'Description': 0.2227242310307641, 'assetnum_description': 0.12418095155146164, 'location_description': 0.00553945614030096}}
2025-05-07 00:30:25,824 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 00:30:25,868 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9759615384615384, 'Precision': 0.8888888888888888, 'Recall': 0.9230769230769231, 'F1 Score': 0.9056603773584906, 'ROC AUC': np.float64(0.9752747252747254)}
2025-05-07 00:30:25,868 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.99       182
           1       0.89      0.92      0.91        26

    accuracy                           0.98       208
   macro avg       0.94      0.95      0.95       208
weighted avg       0.98      0.98      0.98       208

2025-05-07 00:30:25,868 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 00:30:26,424 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 00:30:38,375 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 00:30:38,401 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 374.42 KB
2025-05-07 00:30:38,402 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 00:30:38,409 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 00:30:38,419 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 00:30:38,466 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 00:30:38,483 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 52.50%, Score de risque: 1.05
2025-05-07 00:30:38,501 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '52.50%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '47.50%', 'panne': '52.50%'}, 'risk_factors': ['Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING']}}}
2025-05-07 00:30:38,503 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 00:30:38,505 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 00:30:38,509 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 00:30:38,523 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 00:30:38,523 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 00:30:38,525 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK']}}}
2025-05-07 00:30:38,526 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 00:30:38,529 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 00:30:38,534 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 00:30:38,548 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 00:30:38,548 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 00:30:38,549 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED']}}}
2025-05-07 02:12:08,272 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 02:12:08,274 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 02:12:08,274 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 02:12:08,349 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 02:12:08,350 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 02:12:08,397 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 02:12:08,398 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 02:12:08,443 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 02:12:08,466 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 02:12:08,477 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 02:12:08,478 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 02:12:08,478 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 02:12:08,479 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 02:12:08,480 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 02:12:08,488 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 607, 1: 86}
2025-05-07 02:12:08,494 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 02:12:08,499 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 02:12:08,505 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 02:12:08,512 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 02:12:08,515 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 02:12:08,521 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 02:12:08,537 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 02:12:08,538 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 02:12:08,775 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 02:12:08,795 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.33597285923546183, 'LOCATION': 0.31158250204201143, 'Description': 0.2227242310307641, 'assetnum_description': 0.12418095155146164, 'location_description': 0.00553945614030096}}
2025-05-07 02:12:08,795 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 02:12:08,846 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9759615384615384, 'Precision': 0.8888888888888888, 'Recall': 0.9230769230769231, 'F1 Score': 0.9056603773584906, 'ROC AUC': np.float64(0.9752747252747254)}
2025-05-07 02:12:08,846 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.99       182
           1       0.89      0.92      0.91        26

    accuracy                           0.98       208
   macro avg       0.94      0.95      0.95       208
weighted avg       0.98      0.98      0.98       208

2025-05-07 02:12:08,847 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 02:12:09,522 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 02:12:11,701 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 02:12:11,732 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 374.44 KB
2025-05-07 02:12:11,732 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9759615384615384
2025-05-07 02:12:11,734 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 02:12:11,743 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 02:12:11,748 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 02:12:11,772 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 02:12:11,773 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 52.50%, Score de risque: 1.05
2025-05-07 02:12:11,773 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '52.50%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '47.50%', 'panne': '52.50%'}, 'risk_factors': ['Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING']}}}
2025-05-07 02:12:11,775 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 02:12:11,777 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 02:12:11,780 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 02:12:11,799 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 02:12:11,800 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 02:12:11,801 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK']}}}
2025-05-07 02:12:11,805 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 02:12:11,812 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 02:12:11,818 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 02:12:11,861 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 02:12:11,863 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 02:12:11,865 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED']}}}
2025-05-07 13:46:15,099 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 13:46:15,099 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 13:46:15,099 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 13:46:15,186 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 13:46:15,187 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 13:46:15,233 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 13:46:15,234 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 13:46:15,275 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 13:46:15,292 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 13:46:15,297 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 13:46:15,297 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 13:46:15,298 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 13:46:15,298 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 13:46:15,299 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 13:46:15,302 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 607, 1: 86}
2025-05-07 13:46:15,306 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 13:46:15,309 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 13:46:15,312 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 13:46:15,318 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 13:46:15,320 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 13:46:15,324 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 13:46:15,332 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 13:46:15,332 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 13:46:15,483 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 13:46:15,498 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.33597285923546183, 'LOCATION': 0.31158250204201143, 'Description': 0.2227242310307641, 'assetnum_description': 0.12418095155146164, 'location_description': 0.00553945614030096}}
2025-05-07 13:46:15,499 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 13:46:15,532 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9759615384615384, 'Precision': 0.8888888888888888, 'Recall': 0.9230769230769231, 'F1 Score': 0.9056603773584906, 'ROC AUC': np.float64(0.9752747252747254)}
2025-05-07 13:46:15,532 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.99       182
           1       0.89      0.92      0.91        26

    accuracy                           0.98       208
   macro avg       0.94      0.95      0.95       208
weighted avg       0.98      0.98      0.98       208

2025-05-07 13:46:15,533 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 13:46:17,475 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 13:46:19,151 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 13:46:19,171 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 374.44 KB
2025-05-07 13:46:19,172 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9759615384615384
2025-05-07 13:46:19,175 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 13:46:19,183 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 13:46:19,189 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 13:46:19,212 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 13:46:19,212 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 52.50%, Score de risque: 1.05
2025-05-07 13:46:19,213 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '52.50%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '47.50%', 'panne': '52.50%'}, 'risk_factors': ['Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING']}}}
2025-05-07 13:46:19,215 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 13:46:19,218 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 13:46:19,224 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 13:46:19,245 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 13:46:19,246 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 13:46:19,247 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK']}}}
2025-05-07 13:46:19,248 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 13:46:19,252 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 13:46:19,260 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 13:46:19,280 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 13:46:19,281 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 13:46:19,281 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED']}}}
2025-05-07 15:45:35,419 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 15:45:35,419 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 15:45:35,419 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 15:45:35,516 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 15:45:35,517 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 15:45:35,559 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 15:45:35,559 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 15:45:35,601 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 15:45:35,623 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 15:45:35,629 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 15:45:35,629 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 15:45:35,631 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 15:45:35,632 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 15:45:35,633 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 15:45:35,638 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 607, 1: 86}
2025-05-07 15:45:35,642 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 15:45:35,647 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 15:45:35,652 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 15:45:35,657 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 15:45:35,663 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 15:45:35,669 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 15:45:35,677 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 15:45:35,677 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 15:45:35,917 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 15:45:35,943 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.33597285923546183, 'LOCATION': 0.31158250204201143, 'Description': 0.2227242310307641, 'assetnum_description': 0.12418095155146164, 'location_description': 0.00553945614030096}}
2025-05-07 15:45:35,943 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 15:45:35,992 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9759615384615384, 'Precision': 0.8888888888888888, 'Recall': 0.9230769230769231, 'F1 Score': 0.9056603773584906, 'ROC AUC': np.float64(0.9752747252747254)}
2025-05-07 15:45:35,994 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.99       182
           1       0.89      0.92      0.91        26

    accuracy                           0.98       208
   macro avg       0.94      0.95      0.95       208
weighted avg       0.98      0.98      0.98       208

2025-05-07 15:45:35,994 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 15:45:36,636 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 15:45:48,079 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 15:45:48,103 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 374.44 KB
2025-05-07 15:45:48,105 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9759615384615384
2025-05-07 15:45:48,107 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 15:45:48,117 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 15:45:48,121 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 15:45:48,149 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 15:45:48,150 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 52.50%, Score de risque: 1.05
2025-05-07 15:45:48,151 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '52.50%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '47.50%', 'panne': '52.50%'}, 'risk_factors': ['Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING']}}}
2025-05-07 15:45:48,153 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 15:45:48,157 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 15:45:48,165 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 15:45:48,189 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 15:45:48,190 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 15:45:48,191 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK']}}}
2025-05-07 15:45:48,194 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 15:45:48,200 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 15:45:48,204 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 15:45:48,222 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 15:45:48,223 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 15:45:48,224 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED']}}}
2025-05-07 15:57:38,124 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 15:57:38,124 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 15:57:38,125 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 15:57:38,201 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 15:57:38,202 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 15:57:38,231 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 15:57:38,231 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 15:57:38,272 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 15:57:38,293 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 15:57:38,297 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 15:57:38,297 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 15:57:38,298 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 15:57:38,298 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 15:57:38,298 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 15:57:38,300 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 607, 1: 86}
2025-05-07 15:57:38,303 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 15:57:38,305 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 15:57:38,309 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 15:57:38,313 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 15:57:38,316 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 15:57:38,320 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 15:57:38,324 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 15:57:38,325 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 15:57:38,469 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 15:57:38,485 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.33597285923546183, 'LOCATION': 0.31158250204201143, 'Description': 0.2227242310307641, 'assetnum_description': 0.12418095155146164, 'location_description': 0.00553945614030096}}
2025-05-07 15:57:38,486 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 15:57:38,523 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9759615384615384, 'Precision': 0.8888888888888888, 'Recall': 0.9230769230769231, 'F1 Score': 0.9056603773584906, 'ROC AUC': np.float64(0.9752747252747254)}
2025-05-07 15:57:38,523 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.99       182
           1       0.89      0.92      0.91        26

    accuracy                           0.98       208
   macro avg       0.94      0.95      0.95       208
weighted avg       0.98      0.98      0.98       208

2025-05-07 15:57:38,524 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 15:57:38,877 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 15:57:41,944 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 15:57:41,961 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 374.44 KB
2025-05-07 15:57:41,962 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9759615384615384
2025-05-07 15:57:41,963 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 15:57:41,967 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 15:57:41,970 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 15:57:41,987 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 15:57:41,987 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 52.50%, Score de risque: 1.05
2025-05-07 15:57:41,988 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '52.50%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '47.50%', 'panne': '52.50%'}, 'risk_factors': ['Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING']}}}
2025-05-07 15:57:41,988 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 15:57:41,992 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 15:57:41,997 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 15:57:42,007 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 15:57:42,007 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 15:57:42,007 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK']}}}
2025-05-07 15:57:42,009 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 15:57:42,013 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 15:57:42,017 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 15:57:42,026 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 15:57:42,027 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 15:57:42,027 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED']}}}
2025-05-07 16:08:00,815 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:08:00,816 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:08:00,817 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:08:00,934 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:08:00,935 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:08:00,996 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:08:00,997 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:08:01,046 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:08:01,073 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:08:01,085 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:08:01,086 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:08:01,087 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:08:01,089 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:08:01,090 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:08:01,098 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 603, 1: 90}
2025-05-07 16:08:01,103 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:08:01,107 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:08:01,111 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:08:01,119 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:08:01,122 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:08:01,125 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:08:01,136 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:08:01,137 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:08:01,510 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:08:01,552 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.32492241906213176, 'LOCATION': 0.30529666222196916, 'Description': 0.24589906552915905, 'assetnum_description': 0.10806819568650412, 'location_description': 0.015813657500235927}}
2025-05-07 16:08:01,553 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:08:01,637 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8888888888888888, 'Recall': 0.8888888888888888, 'F1 Score': 0.8888888888888888, 'ROC AUC': np.float64(0.9710456312666257)}
2025-05-07 16:08:01,637 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      0.98      0.98       181
           1       0.89      0.89      0.89        27

    accuracy                           0.97       208
   macro avg       0.94      0.94      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:08:01,637 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:08:02,103 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:08:06,946 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:08:06,968 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 433.77 KB
2025-05-07 16:08:06,969 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 16:08:06,971 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:08:06,980 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:08:06,985 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:08:07,007 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:08:07,007 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 52.50%, Score de risque: 1.05
2025-05-07 16:08:07,009 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '52.50%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '47.50%', 'panne': '52.50%'}, 'risk_factors': ['Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING']}}}
2025-05-07 16:08:07,010 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:08:07,015 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:08:07,022 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:08:07,066 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:08:07,069 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 16:08:07,070 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK']}}}
2025-05-07 16:08:07,071 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:08:07,076 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:08:07,083 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:08:07,104 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:08:07,105 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 16:08:07,105 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED']}}}
2025-05-07 16:15:03,723 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:15:03,725 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:15:03,726 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:15:03,813 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:15:03,813 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:15:03,854 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:15:03,854 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:15:03,894 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:15:03,923 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:15:03,935 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:15:03,936 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:15:03,936 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:15:03,937 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:15:03,938 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:15:03,945 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 603, 1: 90}
2025-05-07 16:15:03,950 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:15:03,954 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:15:03,957 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:15:03,965 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:15:03,969 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:15:03,972 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:15:03,982 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:15:03,982 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:15:04,173 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:15:04,190 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.32492241906213176, 'LOCATION': 0.30529666222196916, 'Description': 0.24589906552915905, 'assetnum_description': 0.10806819568650412, 'location_description': 0.015813657500235927}}
2025-05-07 16:15:04,191 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:15:04,235 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8888888888888888, 'Recall': 0.8888888888888888, 'F1 Score': 0.8888888888888888, 'ROC AUC': np.float64(0.9710456312666257)}
2025-05-07 16:15:04,236 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      0.98      0.98       181
           1       0.89      0.89      0.89        27

    accuracy                           0.97       208
   macro avg       0.94      0.94      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:15:04,236 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:15:04,730 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:15:10,243 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:15:10,264 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 433.77 KB
2025-05-07 16:15:10,265 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 16:15:10,267 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:15:10,273 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:15:10,279 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:15:10,310 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:15:10,311 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 52.50%, Score de risque: 1.05
2025-05-07 16:15:10,314 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '52.50%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '47.50%', 'panne': '52.50%'}, 'risk_factors': ['Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING']}}}
2025-05-07 16:15:10,318 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:15:10,323 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:15:10,332 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:15:10,361 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:15:10,361 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 16:15:10,362 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK']}}}
2025-05-07 16:15:10,365 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:15:10,369 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:15:10,373 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:15:10,401 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:15:10,402 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 16:15:10,402 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED']}}}
2025-05-07 16:20:35,542 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:20:35,544 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:20:35,545 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:20:35,630 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:20:35,631 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:20:35,669 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:20:35,669 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:20:35,707 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:20:35,731 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:20:35,767 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:20:35,769 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:20:35,770 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:20:35,771 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:20:35,772 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:20:35,791 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 603, 1: 90}
2025-05-07 16:20:35,799 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:20:35,808 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:20:35,814 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:20:35,825 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:20:35,835 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:20:35,839 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:20:35,863 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:20:35,864 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:20:36,218 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:20:36,237 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.32492241906213176, 'LOCATION': 0.30529666222196916, 'Description': 0.24589906552915905, 'assetnum_description': 0.10806819568650412, 'location_description': 0.015813657500235927}}
2025-05-07 16:20:36,238 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:20:36,288 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8888888888888888, 'Recall': 0.8888888888888888, 'F1 Score': 0.8888888888888888, 'ROC AUC': np.float64(0.9710456312666257)}
2025-05-07 16:20:36,288 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      0.98      0.98       181
           1       0.89      0.89      0.89        27

    accuracy                           0.97       208
   macro avg       0.94      0.94      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:20:36,289 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:20:36,816 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:20:38,817 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:20:38,838 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 433.77 KB
2025-05-07 16:20:38,839 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 16:20:38,841 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:20:38,842 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:20:38,849 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:20:38,856 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:20:38,888 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:20:38,888 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.4500000000000002
2025-05-07 16:20:38,890 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:20:38,893 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:20:38.891293', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:20:38,895 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:20:38,900 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:20:38,903 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:20:38,919 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:20:38,920 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 80.00%, Score de risque: 1.0
2025-05-07 16:20:38,921 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:20:38,921 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '80.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '20.00%', 'panne': '80.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:20:38.921881', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:20:38,924 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:20:38,924 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:20:38,928 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:20:38,934 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:20:38,966 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:20:38,967 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.4000000000000001
2025-05-07 16:20:38,968 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:20:38,969 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:20:38.969764', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:24:21,697 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:24:21,701 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:24:21,702 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:24:21,836 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:24:21,836 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:24:21,902 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:24:21,902 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:24:21,973 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:24:22,004 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:24:22,013 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:24:22,014 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:24:22,014 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:24:22,015 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:24:22,017 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:24:22,023 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 603, 1: 90}
2025-05-07 16:24:22,029 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:24:22,035 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:24:22,042 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:24:22,056 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:24:22,063 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:24:22,069 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:24:22,081 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:24:22,082 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:24:22,421 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:24:22,452 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.32492241906213176, 'LOCATION': 0.30529666222196916, 'Description': 0.24589906552915905, 'assetnum_description': 0.10806819568650412, 'location_description': 0.015813657500235927}}
2025-05-07 16:24:22,453 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:24:22,625 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8888888888888888, 'Recall': 0.8888888888888888, 'F1 Score': 0.8888888888888888, 'ROC AUC': np.float64(0.9710456312666257)}
2025-05-07 16:24:22,625 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      0.98      0.98       181
           1       0.89      0.89      0.89        27

    accuracy                           0.97       208
   macro avg       0.94      0.94      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:24:22,625 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:24:23,343 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:24:24,558 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:24:24,579 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 433.79 KB
2025-05-07 16:24:24,580 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 16:24:24,581 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:24:24,582 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:24:24,590 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:24:24,595 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:24:24,626 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:24:24,626 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.4500000000000002
2025-05-07 16:24:24,628 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:24:24,631 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:24:24.629542', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:24:24,636 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:24:24,643 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:24:24,647 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:24:24,696 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:24:24,702 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 80.00%, Score de risque: 1.0
2025-05-07 16:24:24,706 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:24:24,707 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '80.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '20.00%', 'panne': '80.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:24:24.707718', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:24:24,710 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:24:24,711 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:24:24,713 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:24:24,715 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:24:24,741 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:24:24,741 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.4000000000000001
2025-05-07 16:24:24,742 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:24:24,743 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:24:24.743549', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:27:42,851 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:27:42,854 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:27:42,854 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:27:43,001 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:27:43,002 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:27:43,072 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:27:43,073 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:27:43,136 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:27:43,176 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:27:43,194 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:27:43,195 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:27:43,196 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:27:43,197 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:27:43,198 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:27:43,204 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:27:43,208 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:27:43,217 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:27:43,224 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:27:43,233 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:27:43,239 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:27:43,244 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:27:43,256 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:27:43,257 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:27:43,516 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:27:43,539 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:27:43,539 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:27:43,605 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:27:43,605 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:28:08,591 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:28:08,592 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:28:08,593 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:28:08,684 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:28:08,684 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:28:08,715 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:28:08,716 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:28:08,759 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:28:08,784 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:28:08,798 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:28:08,809 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:28:08,815 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:28:08,816 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:28:08,818 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:28:08,830 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:28:08,839 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:28:08,848 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:28:08,855 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:28:08,864 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:28:08,871 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:28:08,879 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:28:08,887 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:28:08,888 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:28:09,201 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:28:09,225 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:28:09,226 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:28:09,301 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:28:09,303 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:28:09,303 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:28:09,970 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:28:14,939 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:28:14,965 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-07 16:28:14,966 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-07 16:28:14,967 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:28:14,967 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:28:14,976 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:28:14,983 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:28:15,008 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:28:15,009 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.5500000000000003
2025-05-07 16:28:15,011 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:28:15,016 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:28:15.012561', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:28:15,018 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:28:15,024 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:28:15,029 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:28:15,072 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:28:15,079 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 88.00%, Score de risque: 1.1
2025-05-07 16:28:15,084 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:28:15,086 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '88.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '12.00%', 'panne': '88.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:28:15.086116', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:28:15,096 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:28:15,097 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:28:15,103 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:28:15,111 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:28:15,153 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:28:15,154 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.5000000000000002
2025-05-07 16:28:15,159 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:28:15,168 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:28:15.162239', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:31:55,189 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:31:55,191 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:31:55,192 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:31:55,252 - RandomForestFaultDetector - INFO - Données chargées avec l'encodage utf-8: 67687 enregistrements
2025-05-07 16:31:55,252 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:31:55,255 - RandomForestFaultDetector - INFO - Données de location chargées avec l'encodage utf-8
2025-05-07 16:31:55,285 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:31:55,285 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:31:55,287 - RandomForestFaultDetector - WARNING - Échec du chargement d'assetnum avec l'encodage utf-8, essai suivant...
2025-05-07 16:31:55,292 - RandomForestFaultDetector - INFO - Données d'assetnum chargées avec l'encodage latin-1
2025-05-07 16:31:55,320 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:31:55,336 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:31:55,342 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:31:55,342 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:31:55,342 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:31:55,346 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:31:55,347 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:31:55,351 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 603, 1: 90}
2025-05-07 16:31:55,354 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:31:55,358 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:31:55,360 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:31:55,366 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:31:55,368 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:31:55,371 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:31:55,379 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:31:55,379 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:31:55,510 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:31:55,524 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.32492241906213176, 'LOCATION': 0.30529666222196916, 'Description': 0.24589906552915905, 'assetnum_description': 0.10806819568650412, 'location_description': 0.015813657500235927}}
2025-05-07 16:31:55,524 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:31:55,567 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8888888888888888, 'Recall': 0.8888888888888888, 'F1 Score': 0.8888888888888888, 'ROC AUC': np.float64(0.9710456312666257)}
2025-05-07 16:31:55,567 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      0.98      0.98       181
           1       0.89      0.89      0.89        27

    accuracy                           0.97       208
   macro avg       0.94      0.94      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:31:55,568 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:31:56,273 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:31:58,374 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:31:58,394 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 433.77 KB
2025-05-07 16:31:58,394 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 16:31:58,397 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:31:58,399 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:31:58,404 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:31:58,406 - RandomForestFaultDetector - WARNING - Échec du chargement d'assetnum avec l'encodage utf-8, essai suivant...
2025-05-07 16:31:58,408 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:31:58,423 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:31:58,424 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.4500000000000002
2025-05-07 16:31:58,448 - RandomForestFaultDetector - WARNING - Erreur lors du chargement des facteurs d'influence: 'type_panne'
2025-05-07 16:31:58,449 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:31:58.448192', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:31:58,450 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:31:58,452 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:31:58,452 - RandomForestFaultDetector - WARNING - Échec du chargement d'assetnum avec l'encodage utf-8, essai suivant...
2025-05-07 16:31:58,452 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:31:58,475 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:31:58,475 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 80.00%, Score de risque: 1.0
2025-05-07 16:31:58,477 - RandomForestFaultDetector - WARNING - Erreur lors du chargement des facteurs d'influence: 'type_panne'
2025-05-07 16:31:58,477 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '80.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '20.00%', 'panne': '80.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:31:58.477684', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:31:58,480 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:31:58,480 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:31:58,487 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:31:58,488 - RandomForestFaultDetector - WARNING - Échec du chargement d'assetnum avec l'encodage utf-8, essai suivant...
2025-05-07 16:31:58,490 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:31:58,504 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:31:58,505 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.4000000000000001
2025-05-07 16:31:58,506 - RandomForestFaultDetector - WARNING - Erreur lors du chargement des facteurs d'influence: 'type_panne'
2025-05-07 16:31:58,506 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:31:58.506875', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:33:01,740 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:33:01,741 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:33:01,743 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:33:01,856 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:33:01,856 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:33:01,909 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:33:01,910 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:33:01,959 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:33:01,988 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:33:02,000 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:33:02,000 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:33:02,001 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:33:02,003 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:33:02,003 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:33:02,009 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:33:02,014 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:33:02,020 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:33:02,028 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:33:02,035 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:33:02,038 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:33:02,041 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:33:02,057 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:33:02,058 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:33:02,399 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:33:02,424 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:33:02,424 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:33:02,480 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:33:02,480 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:33:02,481 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:33:03,090 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:33:05,611 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:33:05,639 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-07 16:33:05,640 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-07 16:33:05,642 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:33:05,643 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:33:05,652 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:33:05,656 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:33:05,690 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:33:05,691 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.5500000000000003
2025-05-07 16:33:05,695 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:33:05,702 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:33:05.697419', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:33:05,704 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:33:05,710 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:33:05,716 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:33:05,754 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:33:05,755 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 88.00%, Score de risque: 1.1
2025-05-07 16:33:05,758 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:33:05,760 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '88.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '12.00%', 'panne': '88.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:33:05.760316', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:33:05,768 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:33:05,769 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:33:05,778 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:33:05,787 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:33:05,839 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:33:05,841 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.5000000000000002
2025-05-07 16:33:05,861 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:33:05,866 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:33:05.866435', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:35:14,872 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:35:14,872 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:35:14,881 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:35:14,937 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:35:14,937 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:35:14,962 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:35:14,962 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:35:14,990 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:35:15,006 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:35:15,015 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:35:15,015 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:35:15,016 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:35:15,017 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:35:15,017 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:35:15,020 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:35:15,024 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:35:15,028 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:35:15,031 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:35:15,037 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:35:15,040 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:35:15,043 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:35:15,047 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:35:15,047 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:35:15,198 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:35:15,215 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:35:15,215 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:35:15,243 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:35:15,243 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:35:15,251 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:35:15,812 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:35:17,681 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:35:17,704 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-07 16:35:17,704 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-07 16:35:17,707 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:35:17,708 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:35:17,709 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:35:17,709 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:35:17,717 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:35:17,727 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:35:17,757 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:35:17,758 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.5499999999999994
2025-05-07 16:35:17,759 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:35:17,760 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:35:17.760602', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:35:17,762 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:35:17,765 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:35:17,769 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:35:17,796 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:35:17,796 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.1
2025-05-07 16:35:17,798 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:35:17,798 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:35:17.798653', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:35:17,800 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:35:17,800 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:35:17,801 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:35:17,807 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:35:17,812 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:35:17,833 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:35:17,834 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 2.5999999999999996
2025-05-07 16:35:17,835 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:35:17,836 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:35:17.835007', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:38:00,688 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:38:00,690 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:38:00,691 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:38:00,865 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:38:00,866 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:38:00,965 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:38:00,966 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:38:01,026 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:38:01,098 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:38:01,127 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:38:01,128 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:38:01,129 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:38:01,132 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:38:01,133 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:38:01,144 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:38:01,150 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:38:01,158 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:38:01,198 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:38:01,217 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:38:01,225 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:38:01,231 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:38:01,255 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:38:01,255 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:38:01,615 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:38:01,641 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:38:01,642 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:38:01,708 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:38:01,708 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:38:01,708 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:38:02,406 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:38:04,130 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:38:04,156 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-07 16:38:04,157 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-07 16:38:04,159 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:38:04,160 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:38:04,160 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:38:04,160 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:38:04,170 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:38:04,182 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:38:04,203 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:38:04,203 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.55
2025-05-07 16:38:04,204 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:38:04,209 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:38:04.205947', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:38:04,212 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:38:04,216 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:38:04,219 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:38:04,238 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:38:04,239 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.1
2025-05-07 16:38:04,240 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:38:04,241 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:38:04.240368', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:38:04,242 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:38:04,242 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:38:04,243 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:38:04,254 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:38:04,258 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:38:04,293 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:38:04,294 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.1999999999999993
2025-05-07 16:38:04,298 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:38:04,299 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:38:04.299355', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:40:46,941 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:40:46,942 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:40:46,942 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:40:47,011 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:40:47,012 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:40:47,037 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:40:47,037 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:40:47,076 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:40:47,101 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:40:47,112 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:40:47,113 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:40:47,113 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:40:47,113 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:40:47,113 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:40:47,113 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:40:47,121 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:40:47,124 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:40:47,124 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:40:47,133 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:40:47,137 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:40:47,142 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:40:47,148 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:40:47,148 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:40:47,321 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:40:47,337 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:40:47,339 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:40:47,382 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:40:47,382 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:40:47,383 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:40:47,693 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:40:49,280 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:40:49,300 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-07 16:40:49,300 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-07 16:40:49,301 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:40:49,301 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:40:49,302 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:40:49,304 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:40:49,313 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:40:49,318 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:40:49,350 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:40:49,351 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.55
2025-05-07 16:40:49,356 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:40:49,357 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:40:49.357883', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:40:49,361 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:40:49,367 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:40:49,374 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:40:49,395 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:40:49,395 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.1
2025-05-07 16:40:49,395 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:40:49,395 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:40:49.395474', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:40:49,401 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:40:49,402 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:40:49,402 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:40:49,407 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:40:49,411 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:40:49,426 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:40:49,427 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.1999999999999993
2025-05-07 16:40:49,428 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:40:49,429 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:40:49.429723', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:42:01,698 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:42:01,699 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:42:01,699 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:42:01,807 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:42:01,808 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:42:01,846 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:42:01,847 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:42:01,892 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:42:01,920 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:42:01,930 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:42:01,931 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:42:01,932 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:42:01,933 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:42:01,934 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:42:01,938 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:42:01,942 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:42:01,946 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:42:01,950 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:42:01,958 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:42:01,962 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:42:01,967 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:42:01,975 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:42:01,976 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:42:02,249 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:42:02,269 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:42:02,271 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:42:02,333 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:42:02,333 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:42:02,333 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:42:02,817 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:42:04,374 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:42:04,388 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-07 16:42:04,389 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-07 16:42:04,390 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:42:04,392 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:42:04,393 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:42:04,394 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:42:04,403 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:42:04,412 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:42:04,446 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:42:04,447 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.55
2025-05-07 16:42:04,452 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:42:04,454 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:42:04.454373', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:42:04,460 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:42:04,470 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:42:04,477 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:42:04,510 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:42:04,510 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.1
2025-05-07 16:42:04,513 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:42:04,514 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:42:04.513280', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:42:04,520 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:42:04,521 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:42:04,522 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:42:04,527 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:42:04,532 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:42:04,560 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:42:04,560 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.1999999999999993
2025-05-07 16:42:04,561 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:42:04,563 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:42:04.562541', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:45:04,363 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:45:04,364 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:45:04,364 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:45:04,424 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:45:04,424 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:45:04,450 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:45:04,451 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:45:04,481 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:45:04,503 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:45:04,512 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:45:04,512 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:45:04,513 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:45:04,513 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:45:04,514 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:45:04,516 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:45:04,519 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:45:04,522 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:45:04,525 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:45:04,531 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:45:04,534 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:45:04,536 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:45:04,543 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:45:04,544 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:45:04,674 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:45:04,686 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:45:04,687 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:45:04,720 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:45:04,720 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:45:21,259 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:45:21,260 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:45:21,263 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:45:21,398 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:45:21,401 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:45:21,457 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:45:21,457 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:45:21,509 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:45:21,539 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:45:21,554 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:45:21,556 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:45:21,557 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:45:21,558 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:45:21,559 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:45:21,564 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:45:21,570 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:45:21,578 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:45:21,584 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:45:21,595 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:45:21,599 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:45:21,605 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:45:21,615 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:45:21,616 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:45:21,929 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:45:21,951 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:45:21,952 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:45:22,018 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:45:22,018 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:45:22,018 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:45:22,617 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:45:24,402 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:45:24,422 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-07 16:45:24,423 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-07 16:45:24,425 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:45:24,426 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:45:24,426 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:45:24,427 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:45:24,434 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:45:24,439 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:45:24,470 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:45:24,471 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.55
2025-05-07 16:45:24,473 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:45:24,474 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:45:24.474767', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:45:24,480 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:45:24,485 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:45:24,488 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:45:24,520 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:45:24,520 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.1
2025-05-07 16:45:24,522 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:45:24,523 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:45:24.523620', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:45:24,529 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:45:24,531 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:45:24,532 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:45:24,536 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:45:24,541 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:45:24,569 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:45:24,570 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.1999999999999993
2025-05-07 16:45:24,575 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:45:24,576 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:45:24.575783', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:47:02,968 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:47:02,968 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:47:02,968 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:47:03,025 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:47:03,025 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:47:03,051 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:47:03,052 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:47:03,108 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:47:03,142 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:47:03,153 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:47:03,154 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:47:03,155 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:47:03,156 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:47:03,157 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:47:03,160 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:47:03,165 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:47:03,169 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:47:03,174 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:47:03,180 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:47:03,187 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:47:03,195 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:47:03,205 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:47:03,206 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:47:03,488 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:47:03,510 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:47:03,511 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:47:03,570 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:47:03,571 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:47:03,572 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:47:04,191 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:47:05,682 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:47:05,704 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-07 16:47:05,705 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-07 16:47:05,706 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:47:05,706 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:47:05,707 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:47:05,707 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:47:05,713 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:47:05,717 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:47:05,732 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:47:05,732 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 5.75
2025-05-07 16:47:05,733 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:47:05,734 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:47:05.734171', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:47:05,736 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:47:05,741 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:47:05,743 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:47:05,754 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:47:05,754 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.1
2025-05-07 16:47:05,756 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:47:05,756 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:47:05.756227', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:47:05,758 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:47:05,758 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:47:05,759 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:47:05,762 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:47:05,766 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:47:05,796 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:47:05,797 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.8999999999999995
2025-05-07 16:47:05,799 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:47:05,800 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:47:05.800235', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:51:24,992 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:51:24,994 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:51:24,994 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:51:25,070 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:51:25,070 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:51:25,113 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:51:25,114 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:51:25,150 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:51:25,174 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:51:25,184 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:51:25,185 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-07 16:51:25,186 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:51:25,186 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:51:25,187 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:51:25,189 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:51:25,195 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:51:25,199 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:51:25,205 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:51:25,209 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-07 16:51:25,214 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:51:25,219 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:51:25,222 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:51:25,228 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:51:25,233 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:51:25,234 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:51:25,434 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:51:25,454 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-07 16:51:25,455 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:51:25,540 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-07 16:51:25,541 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:51:25,542 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:51:25,872 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:51:27,554 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:51:27,576 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-07 16:51:27,578 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 16:51:27,582 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:51:27,583 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:51:27,583 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:51:27,584 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:51:27,590 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:51:27,600 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:51:27,610 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: The feature names should match those that were passed during fit.
Feature names seen at fit time, yet now missing:
- WOPRIORITY
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 374, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2919, in validate_data
    _check_feature_names(_estimator, X, reset=reset)
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2777, in _check_feature_names
    raise ValueError(message)
ValueError: The feature names should match those that were passed during fit.
Feature names seen at fit time, yet now missing:
- WOPRIORITY

2025-05-07 16:51:27,669 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:51:27,681 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:51:27,688 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:51:27,699 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: The feature names should match those that were passed during fit.
Feature names seen at fit time, yet now missing:
- WOPRIORITY
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 374, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2919, in validate_data
    _check_feature_names(_estimator, X, reset=reset)
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2777, in _check_feature_names
    raise ValueError(message)
ValueError: The feature names should match those that were passed during fit.
Feature names seen at fit time, yet now missing:
- WOPRIORITY

2025-05-07 16:51:27,702 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:51:27,703 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:51:27,703 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:51:27,709 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:51:27,715 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:51:27,720 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: The feature names should match those that were passed during fit.
Feature names seen at fit time, yet now missing:
- WOPRIORITY
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 374, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2919, in validate_data
    _check_feature_names(_estimator, X, reset=reset)
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2777, in _check_feature_names
    raise ValueError(message)
ValueError: The feature names should match those that were passed during fit.
Feature names seen at fit time, yet now missing:
- WOPRIORITY

2025-05-07 16:54:58,549 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:54:58,550 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:54:58,550 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:54:58,655 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:54:58,655 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:54:58,712 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:54:58,712 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:54:58,754 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:54:58,784 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:54:58,799 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:54:58,800 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-07 16:54:58,801 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:54:58,802 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:54:58,803 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:54:58,804 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:54:58,810 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:54:58,813 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:54:58,819 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:54:58,823 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-07 16:54:58,827 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:54:58,833 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:54:58,838 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:54:58,844 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:54:58,856 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:54:58,858 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:54:59,086 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:54:59,110 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-07 16:54:59,110 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:54:59,167 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-07 16:54:59,167 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:54:59,167 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:54:59,724 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:55:01,683 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:55:01,712 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-07 16:55:01,712 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 16:55:01,716 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:55:01,717 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:55:01,718 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:55:01,718 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:55:01,726 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:55:01,733 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:55:01,756 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 16:55:01,756 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 6.05
2025-05-07 16:55:01,758 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:55:01,763 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine', 'Unknown LOCATION: BR300', 'Unknown STATUS: OPEN', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:55:01.759587', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:55:01,769 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:55:01,773 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:55:01,777 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:55:01,853 - RandomForestFaultDetector - INFO - Probabilités de base: [0.97 0.03]
2025-05-07 16:55:01,859 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.1
2025-05-07 16:55:01,862 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:55:01,863 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:55:01.862783', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:55:01,868 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:55:01,868 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:55:01,869 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:55:01,874 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:55:01,884 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:55:01,912 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 16:55:01,912 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.8999999999999995
2025-05-07 16:55:01,915 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:55:01,916 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:55:01.916501', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:57:19,430 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:57:19,431 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:57:19,431 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:57:19,533 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:57:19,533 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:57:19,583 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:57:19,584 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:57:19,632 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:57:19,655 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:57:19,668 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:57:19,668 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-07 16:57:19,668 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:57:19,670 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:57:19,670 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:57:19,671 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:57:19,677 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:57:19,683 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:57:19,687 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:57:19,692 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-07 16:57:19,696 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:57:19,707 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:57:19,712 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:57:19,718 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:57:19,732 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:57:19,732 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:57:19,985 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:57:20,012 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-07 16:57:20,013 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:57:20,097 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-07 16:57:20,097 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:57:20,099 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:57:20,717 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:57:22,134 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:57:22,164 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-07 16:57:22,164 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 16:57:22,165 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:57:22,166 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:57:22,166 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:57:22,176 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:57:22,183 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:57:22,232 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 16:57:22,235 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-07 16:57:22,238 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:57:22,245 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:57:22.239759', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:57:22,253 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:57:22,260 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:57:22,320 - RandomForestFaultDetector - INFO - Probabilités de base: [0.97 0.03]
2025-05-07 16:57:22,329 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 43.00%, Score de risque: 0.2
2025-05-07 16:57:22,333 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:57:22,348 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '57.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '57.00%', 'panne': '43.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:57:22.346551', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:57:22,350 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:57:22,351 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:57:22,365 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:57:22,371 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:57:22,420 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 16:57:22,426 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-07 16:57:22,432 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:57:22,435 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:57:22.435406', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:59:20,075 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:59:20,076 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:59:20,076 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:59:20,143 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:59:20,143 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:59:20,166 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:59:20,166 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:59:20,193 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:59:20,212 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:59:20,221 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:59:20,221 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-07 16:59:20,222 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:59:20,222 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:59:20,223 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:59:20,223 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:59:20,225 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:59:20,228 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:59:20,231 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:59:20,235 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-07 16:59:20,238 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:59:20,243 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:59:20,246 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:59:20,248 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:59:20,255 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:59:20,255 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:59:20,395 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:59:20,408 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-07 16:59:20,409 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:59:20,450 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-07 16:59:20,450 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:59:20,451 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:59:20,768 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:59:22,259 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:59:22,280 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-07 16:59:22,282 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 16:59:22,283 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:59:22,284 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:59:22,285 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:59:22,292 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:59:22,298 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:59:22,330 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 16:59:22,330 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-07 16:59:22,333 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:59:22,334 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:59:22.334763', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-07 16:59:22,344 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:59:22,348 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:59:22,383 - RandomForestFaultDetector - INFO - Probabilités de base: [0.97 0.03]
2025-05-07 16:59:22,386 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 43.00%, Score de risque: 0.2
2025-05-07 16:59:22,389 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:59:22,390 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '57.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '57.00%', 'panne': '43.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:59:22.390971', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-07 16:59:22,392 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:59:22,392 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:59:22,398 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:59:22,404 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:59:22,437 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 16:59:22,440 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-07 16:59:22,443 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:59:22,444 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:59:22.444886', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-07 17:04:46,003 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 17:04:46,005 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 17:04:46,005 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 17:04:46,138 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 17:04:46,138 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 17:04:46,191 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 17:04:46,192 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 17:04:46,243 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 17:04:46,272 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 17:04:46,284 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 17:04:46,285 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-07 17:04:46,285 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 17:04:46,288 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 17:04:46,289 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 17:04:46,290 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 17:04:46,296 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 17:04:46,301 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 17:04:46,306 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 17:04:46,310 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-07 17:04:46,313 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 17:04:46,328 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 17:04:46,334 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 17:04:46,341 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 17:04:46,361 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 17:04:46,361 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 17:04:46,675 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 17:04:46,697 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-07 17:04:46,698 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 17:04:46,764 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-07 17:04:46,764 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 17:04:46,765 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 17:04:47,390 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 17:04:48,862 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 17:04:48,887 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-07 17:04:48,888 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 17:04:48,890 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 17:04:48,891 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 17:04:48,893 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 17:04:48,905 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 17:04:48,912 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 17:04:48,949 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 17:04:48,950 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-07 17:04:48,958 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:04:48,964 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:04:48.960752', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-07 17:04:48,972 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 17:04:48,979 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 17:04:49,012 - RandomForestFaultDetector - INFO - Probabilités de base: [0.97 0.03]
2025-05-07 17:04:49,013 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 43.00%, Score de risque: 0.2
2025-05-07 17:04:49,014 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:04:49,015 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '57.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '57.00%', 'panne': '43.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:04:49.014996', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-07 17:04:49,016 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 17:04:49,016 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 17:04:49,025 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 17:04:49,029 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 17:04:49,068 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 17:04:49,068 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-07 17:04:49,076 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:04:49,077 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:04:49.076311', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-07 17:45:02,335 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 17:45:02,337 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 17:45:02,337 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 17:45:02,430 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 17:45:02,431 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 17:45:02,481 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 17:45:02,482 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 17:45:02,522 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 17:45:02,553 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 17:45:02,570 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 17:45:02,572 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-07 17:45:02,573 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 17:45:02,573 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 17:45:02,575 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 17:45:02,575 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 17:45:02,582 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 17:45:02,629 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 17:45:02,670 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 17:45:02,675 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-07 17:45:02,681 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 17:45:02,690 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 17:45:02,744 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 17:45:02,749 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 17:45:02,786 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 17:45:02,787 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 17:45:03,174 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 17:45:03,191 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-07 17:45:03,192 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 17:45:03,249 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-07 17:45:03,250 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 17:45:03,251 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 17:45:03,859 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 17:45:08,628 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 17:45:08,651 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-07 17:45:08,651 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 17:45:08,652 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 17:45:08,653 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 17:45:08,654 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 17:45:08,662 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 17:45:08,668 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 17:45:08,692 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 17:45:08,692 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-07 17:45:08,693 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:45:08,699 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:45:08.695792', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-07 17:45:08,704 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 17:45:08,708 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 17:45:08,740 - RandomForestFaultDetector - INFO - Probabilités de base: [0.97 0.03]
2025-05-07 17:45:08,740 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 43.00%, Score de risque: 0.2
2025-05-07 17:45:08,742 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:45:08,743 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '57.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '57.00%', 'panne': '43.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:45:08.743975', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-07 17:45:08,746 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 17:45:08,746 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 17:45:08,750 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 17:45:08,754 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 17:45:08,781 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 17:45:08,783 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-07 17:45:08,788 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:45:08,788 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:45:08.788487', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-07 17:46:50,887 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 17:46:50,888 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 17:46:50,888 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 17:46:50,966 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 17:46:50,966 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 17:46:51,006 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 17:46:51,007 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 17:46:51,039 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 17:46:51,071 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 17:46:51,082 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 17:46:51,082 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-07 17:46:51,083 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 17:46:51,083 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 17:46:51,083 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 17:46:51,084 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 17:46:51,088 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 17:46:51,092 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 17:46:51,096 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 17:46:51,099 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-07 17:46:51,103 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 17:46:51,108 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 17:46:51,111 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 17:46:51,115 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 17:46:51,123 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 17:46:51,123 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 17:46:51,349 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 17:46:51,380 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-07 17:46:51,381 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 17:46:51,478 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-07 17:46:51,479 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 17:46:51,480 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 17:46:52,372 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 17:46:53,652 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 17:46:53,680 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-07 17:46:53,681 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 17:46:53,682 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 17:46:53,682 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 17:46:53,682 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 17:46:53,691 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 17:46:53,698 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 17:46:53,735 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 17:46:53,735 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-07 17:46:53,738 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:46:53,745 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:46:53.739123', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-07 17:46:53,753 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 17:46:53,759 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 17:46:53,809 - RandomForestFaultDetector - INFO - Probabilités de base: [0.97 0.03]
2025-05-07 17:46:53,812 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 43.00%, Score de risque: 0.2
2025-05-07 17:46:53,818 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:46:53,820 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '57.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '57.00%', 'panne': '43.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:46:53.820708', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-07 17:46:53,829 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 17:46:53,830 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 17:46:53,839 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 17:46:53,850 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 17:46:53,888 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 17:46:53,891 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-07 17:46:53,902 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:46:53,903 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:46:53.903285', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-07 17:54:10,558 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 17:54:10,558 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 17:54:10,558 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 17:54:10,665 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 17:54:10,665 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 17:54:10,729 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 17:54:10,730 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 17:54:10,777 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 17:54:10,802 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 17:54:10,820 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 17:54:10,822 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-07 17:54:10,822 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 17:54:10,827 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 17:54:10,828 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 17:54:10,830 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 17:54:10,838 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 17:54:10,845 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 17:54:10,853 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 17:54:10,861 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-07 17:54:10,864 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 17:54:10,881 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 17:54:10,883 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 17:54:10,883 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 17:54:10,901 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 17:54:10,901 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 17:54:11,259 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 17:54:11,307 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-07 17:54:11,307 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 17:54:11,395 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-07 17:54:11,395 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 17:54:11,395 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 17:54:12,303 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 17:54:14,273 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 17:54:14,308 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-07 17:54:14,309 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 17:54:14,310 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 17:54:14,311 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 17:54:14,312 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 17:54:14,332 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 17:54:14,337 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 17:54:14,386 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 17:54:14,386 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-07 17:54:14,391 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:54:14,401 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:54:14.395579', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-07 17:54:14,412 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 17:54:14,420 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 17:54:14,460 - RandomForestFaultDetector - INFO - Probabilités de base: [0.97 0.03]
2025-05-07 17:54:14,460 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 43.00%, Score de risque: 0.2
2025-05-07 17:54:14,466 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:54:14,468 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '57.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '57.00%', 'panne': '43.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:54:14.466081', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-07 17:54:14,484 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 17:54:14,486 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 17:54:14,497 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 17:54:14,502 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 17:54:14,538 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 17:54:14,541 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-07 17:54:14,546 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:54:14,547 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:54:14.547445', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-08 01:50:59,632 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-08 01:50:59,632 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-08 01:50:59,632 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-08 01:50:59,802 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-08 01:50:59,802 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-08 01:50:59,877 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-08 01:50:59,880 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-08 01:50:59,935 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-08 01:50:59,984 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-08 01:51:00,002 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-08 01:51:00,002 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-08 01:51:00,002 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-08 01:51:00,002 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-08 01:51:00,005 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-08 01:51:00,008 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-08 01:51:00,019 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-08 01:51:00,025 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-08 01:51:00,032 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-08 01:51:00,036 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-08 01:51:00,047 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-08 01:51:00,056 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-08 01:51:00,062 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-08 01:51:00,072 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-08 01:51:00,083 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-08 01:51:00,090 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-08 01:51:00,486 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-08 01:51:00,524 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-08 01:51:00,526 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-08 01:51:00,642 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-08 01:51:00,643 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-08 01:51:00,643 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-08 01:51:03,196 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-08 01:51:05,594 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-08 01:51:05,624 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-08 01:51:05,626 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-08 01:51:05,626 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-08 01:51:05,628 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-08 01:51:05,628 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-08 01:51:05,636 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-08 01:51:05,642 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-08 01:51:05,665 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-08 01:51:05,666 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-08 01:51:05,666 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 01:51:05,672 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T01:51:05.666614', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-08 01:51:05,684 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-08 01:51:05,690 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-08 01:51:05,732 - RandomForestFaultDetector - INFO - Probabilités de base: [0.97 0.03]
2025-05-08 01:51:05,734 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 43.00%, Score de risque: 0.2
2025-05-08 01:51:05,736 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 01:51:05,738 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '57.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '57.00%', 'panne': '43.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T01:51:05.738672', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-08 01:51:05,742 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-08 01:51:05,748 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-08 01:51:05,816 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-08 01:51:05,868 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-08 01:51:05,947 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-08 01:51:05,950 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-08 01:51:05,952 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 01:51:05,954 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T01:51:05.954766', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-08 09:24:28,235 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-08 09:24:28,235 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-08 09:24:28,235 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-08 09:24:28,342 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-08 09:24:28,344 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-08 09:24:28,401 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-08 09:24:28,401 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-08 09:24:28,460 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-08 09:24:28,487 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-08 09:24:28,501 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-08 09:24:28,503 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-08 09:24:28,503 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-08 09:24:28,503 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-08 09:24:28,503 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-08 09:24:28,503 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-08 09:24:28,503 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-08 09:24:28,517 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-08 09:24:28,523 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-08 09:24:28,525 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-08 09:24:28,531 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-08 09:24:28,542 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-08 09:24:28,546 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-08 09:24:28,552 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-08 09:24:28,559 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-08 09:24:28,559 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-08 09:24:28,851 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-08 09:24:28,877 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-08 09:24:28,877 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-08 09:24:28,928 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-08 09:24:28,930 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-08 09:24:28,930 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-08 09:24:29,400 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-08 09:24:32,401 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-08 09:24:32,422 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-08 09:24:32,423 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-08 09:24:32,424 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-08 09:24:32,425 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-08 09:24:32,426 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-08 09:24:32,430 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-08 09:24:32,436 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-08 09:24:32,454 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-08 09:24:32,455 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-08 09:24:32,456 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 09:24:32,459 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T09:24:32.458127', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-08 09:24:32,464 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-08 09:24:32,468 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-08 09:24:32,495 - RandomForestFaultDetector - INFO - Probabilités de base: [0.97 0.03]
2025-05-08 09:24:32,496 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 43.00%, Score de risque: 0.2
2025-05-08 09:24:32,497 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 09:24:32,498 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '57.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '57.00%', 'panne': '43.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T09:24:32.497322', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-08 09:24:32,506 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-08 09:24:32,506 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-08 09:24:32,510 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-08 09:24:32,516 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-08 09:24:32,554 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-08 09:24:32,554 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-08 09:24:32,554 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 09:24:32,554 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T09:24:32.554046', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-08 10:31:02,658 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-08 10:31:02,674 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-08 10:31:02,674 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-08 10:31:02,763 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-08 10:31:02,763 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-08 10:31:02,815 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-08 10:31:02,815 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-08 10:31:02,854 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-08 10:31:02,881 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-08 10:31:02,899 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-08 10:31:02,900 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-08 10:31:02,900 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-08 10:31:02,901 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-08 10:31:02,902 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-08 10:31:02,903 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-08 10:31:02,910 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-08 10:31:02,916 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-08 10:31:02,921 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-08 10:31:02,924 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-08 10:31:02,930 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-08 10:31:02,940 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-08 10:31:02,945 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-08 10:31:02,950 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-08 10:31:02,959 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-08 10:31:02,961 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-08 10:31:03,173 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-08 10:31:03,203 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.28746077684230625, 'Description': 0.28001989658502474, 'ASSETNUM': 0.2662539406764113, 'assetnum_description': 0.09629542745973324, 'STATUS': 0.04649010022058706, 'location_description': 0.023479858215937448}}
2025-05-08 10:31:03,204 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-08 10:31:03,253 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9567307692307693, 'Precision': 0.7941176470588235, 'Recall': 0.9310344827586207, 'F1 Score': 0.8571428571428571, 'ROC AUC': np.float64(0.9688884607975343)}
2025-05-08 10:31:03,254 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.96      0.97       179
           1       0.79      0.93      0.86        29

    accuracy                           0.96       208
   macro avg       0.89      0.95      0.92       208
weighted avg       0.96      0.96      0.96       208

2025-05-08 10:31:03,254 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-08 10:31:03,887 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-08 10:31:15,380 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-08 10:31:15,407 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 534.25 KB
2025-05-08 10:31:15,407 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9567307692307693
2025-05-08 10:31:15,409 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-08 10:31:15,409 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-08 10:31:15,410 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-08 10:31:15,418 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-08 10:31:15,423 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-08 10:31:15,438 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-08 10:31:15,439 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-08 10:31:15,440 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 10:31:15,442 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T10:31:15.441497', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-08 10:31:15,449 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-08 10:31:15,451 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-08 10:31:15,475 - RandomForestFaultDetector - INFO - Probabilités de base: [0.98 0.02]
2025-05-08 10:31:15,479 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 42.00%, Score de risque: 0.2
2025-05-08 10:31:15,482 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 10:31:15,484 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '58.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '58.00%', 'panne': '42.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T10:31:15.484642', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-08 10:31:15,489 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-08 10:31:15,490 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-08 10:31:15,497 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-08 10:31:15,503 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-08 10:31:15,535 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-08 10:31:15,535 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-08 10:31:15,539 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 10:31:15,540 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T10:31:15.539595', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-08 10:32:53,331 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-08 10:32:53,331 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-08 10:32:53,333 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-08 10:32:53,443 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-08 10:32:53,443 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-08 10:32:53,495 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-08 10:32:53,495 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-08 10:32:53,566 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-08 10:32:53,603 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-08 10:32:53,619 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-08 10:32:53,623 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-08 10:32:53,624 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-08 10:32:53,626 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-08 10:32:53,627 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-08 10:32:53,631 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-08 10:32:53,632 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-08 10:32:53,645 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-08 10:32:53,665 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-08 10:32:53,680 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-08 10:32:53,690 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-08 10:32:53,697 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-08 10:32:53,704 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-08 10:32:53,704 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-08 10:32:54,171 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-08 10:32:54,210 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-08 10:32:54,210 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-08 10:32:54,315 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-08 10:32:54,315 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-08 10:32:54,317 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-08 10:32:54,757 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-08 10:32:56,539 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-08 10:32:56,558 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-08 10:32:56,559 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-08 10:32:56,564 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-08 10:32:56,564 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-08 10:32:56,565 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-08 10:32:56,574 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-08 10:32:56,580 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-08 10:32:56,615 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-08 10:32:56,615 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-08 10:32:56,617 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 10:32:56,618 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T10:32:56.618904', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-08 10:32:56,628 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-08 10:32:56,632 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-08 10:32:56,664 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-08 10:32:56,664 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 40.00%, Score de risque: 0.2
2025-05-08 10:32:56,668 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 10:32:56,676 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '60.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '60.00%', 'panne': '40.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T10:32:56.674230', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-08 10:32:56,680 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-08 10:32:56,680 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-08 10:32:56,698 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-08 10:32:56,703 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-08 10:32:56,731 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-08 10:32:56,733 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-08 10:32:56,735 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 10:32:56,736 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T10:32:56.736250', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
