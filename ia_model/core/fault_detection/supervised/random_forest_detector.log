2025-05-06 23:52:29,426 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-06 23:52:29,428 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-06 23:52:29,428 - RandomForestFaultDetector - INFO - Chargement des données depuis: ../../../../data/clean_workorders.csv
2025-05-06 23:52:29,553 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-06 23:52:29,553 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: ../../../../data/table_location.csv
2025-05-06 23:52:29,634 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-06 23:52:29,634 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: ../../../../data/table_assetnum.csv
2025-05-06 23:52:29,693 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-06 23:52:29,728 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-06 23:52:29,736 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-06 23:52:29,737 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-06 23:52:29,738 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-06 23:52:29,739 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-06 23:52:29,740 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-06 23:52:29,744 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 607, 1: 86}
2025-05-06 23:52:29,750 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-06 23:52:29,753 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-06 23:52:29,758 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-06 23:52:29,771 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-06 23:52:29,777 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-06 23:52:29,782 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-06 23:52:29,794 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-06 23:52:29,794 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-06 23:52:30,093 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-06 23:52:30,123 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.33597285923546183, 'LOCATION': 0.31158250204201143, 'Description': 0.2227242310307641, 'assetnum_description': 0.12418095155146164, 'location_description': 0.00553945614030096}}
2025-05-06 23:52:30,128 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-06 23:52:30,188 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9759615384615384, 'Precision': 0.8888888888888888, 'Recall': 0.9230769230769231, 'F1 Score': 0.9056603773584906, 'ROC AUC': np.float64(0.9752747252747254)}
2025-05-06 23:52:30,188 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.99       182
           1       0.89      0.92      0.91        26

    accuracy                           0.98       208
   macro avg       0.94      0.95      0.95       208
weighted avg       0.98      0.98      0.98       208

2025-05-06 23:52:30,193 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-06 23:52:31,008 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-06 23:52:33,551 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-06 23:52:33,575 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 374.42 KB
2025-05-06 23:52:33,578 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-06 23:52:33,590 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-06 23:52:33,597 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-06 23:52:33,639 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-06 23:52:33,640 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 52.50%, Score de risque: 1.05
2025-05-06 23:52:33,640 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '52.50%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '47.50%', 'panne': '52.50%'}, 'risk_factors': ['Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING']}}}
2025-05-06 23:52:33,643 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-06 23:52:33,651 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-06 23:52:33,658 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-06 23:52:33,688 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-06 23:52:33,692 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-06 23:52:33,694 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK']}}}
2025-05-06 23:52:33,696 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-06 23:52:33,720 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-06 23:52:33,725 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-06 23:52:33,758 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-06 23:52:33,758 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-06 23:52:33,758 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED']}}}
2025-05-07 00:30:25,362 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 00:30:25,362 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 00:30:25,362 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 00:30:25,451 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 00:30:25,451 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 00:30:25,499 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 00:30:25,500 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 00:30:25,537 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 00:30:25,556 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 00:30:25,562 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 00:30:25,563 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 00:30:25,564 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 00:30:25,566 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 00:30:25,566 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 00:30:25,570 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 607, 1: 86}
2025-05-07 00:30:25,572 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 00:30:25,577 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 00:30:25,581 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 00:30:25,587 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 00:30:25,588 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 00:30:25,593 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 00:30:25,604 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 00:30:25,604 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 00:30:25,800 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 00:30:25,824 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.33597285923546183, 'LOCATION': 0.31158250204201143, 'Description': 0.2227242310307641, 'assetnum_description': 0.12418095155146164, 'location_description': 0.00553945614030096}}
2025-05-07 00:30:25,824 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 00:30:25,868 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9759615384615384, 'Precision': 0.8888888888888888, 'Recall': 0.9230769230769231, 'F1 Score': 0.9056603773584906, 'ROC AUC': np.float64(0.9752747252747254)}
2025-05-07 00:30:25,868 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.99       182
           1       0.89      0.92      0.91        26

    accuracy                           0.98       208
   macro avg       0.94      0.95      0.95       208
weighted avg       0.98      0.98      0.98       208

2025-05-07 00:30:25,868 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 00:30:26,424 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 00:30:38,375 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 00:30:38,401 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 374.42 KB
2025-05-07 00:30:38,402 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 00:30:38,409 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 00:30:38,419 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 00:30:38,466 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 00:30:38,483 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 52.50%, Score de risque: 1.05
2025-05-07 00:30:38,501 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '52.50%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '47.50%', 'panne': '52.50%'}, 'risk_factors': ['Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING']}}}
2025-05-07 00:30:38,503 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 00:30:38,505 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 00:30:38,509 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 00:30:38,523 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 00:30:38,523 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 00:30:38,525 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK']}}}
2025-05-07 00:30:38,526 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 00:30:38,529 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 00:30:38,534 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 00:30:38,548 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 00:30:38,548 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 00:30:38,549 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED']}}}
2025-05-07 02:12:08,272 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 02:12:08,274 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 02:12:08,274 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 02:12:08,349 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 02:12:08,350 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 02:12:08,397 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 02:12:08,398 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 02:12:08,443 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 02:12:08,466 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 02:12:08,477 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 02:12:08,478 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 02:12:08,478 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 02:12:08,479 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 02:12:08,480 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 02:12:08,488 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 607, 1: 86}
2025-05-07 02:12:08,494 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 02:12:08,499 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 02:12:08,505 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 02:12:08,512 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 02:12:08,515 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 02:12:08,521 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 02:12:08,537 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 02:12:08,538 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 02:12:08,775 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 02:12:08,795 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.33597285923546183, 'LOCATION': 0.31158250204201143, 'Description': 0.2227242310307641, 'assetnum_description': 0.12418095155146164, 'location_description': 0.00553945614030096}}
2025-05-07 02:12:08,795 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 02:12:08,846 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9759615384615384, 'Precision': 0.8888888888888888, 'Recall': 0.9230769230769231, 'F1 Score': 0.9056603773584906, 'ROC AUC': np.float64(0.9752747252747254)}
2025-05-07 02:12:08,846 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.99       182
           1       0.89      0.92      0.91        26

    accuracy                           0.98       208
   macro avg       0.94      0.95      0.95       208
weighted avg       0.98      0.98      0.98       208

2025-05-07 02:12:08,847 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 02:12:09,522 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 02:12:11,701 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 02:12:11,732 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 374.44 KB
2025-05-07 02:12:11,732 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9759615384615384
2025-05-07 02:12:11,734 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 02:12:11,743 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 02:12:11,748 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 02:12:11,772 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 02:12:11,773 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 52.50%, Score de risque: 1.05
2025-05-07 02:12:11,773 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '52.50%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '47.50%', 'panne': '52.50%'}, 'risk_factors': ['Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING']}}}
2025-05-07 02:12:11,775 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 02:12:11,777 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 02:12:11,780 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 02:12:11,799 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 02:12:11,800 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 02:12:11,801 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK']}}}
2025-05-07 02:12:11,805 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 02:12:11,812 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 02:12:11,818 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 02:12:11,861 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 02:12:11,863 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 02:12:11,865 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED']}}}
2025-05-07 13:46:15,099 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 13:46:15,099 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 13:46:15,099 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 13:46:15,186 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 13:46:15,187 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 13:46:15,233 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 13:46:15,234 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 13:46:15,275 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 13:46:15,292 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 13:46:15,297 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 13:46:15,297 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 13:46:15,298 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 13:46:15,298 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 13:46:15,299 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 13:46:15,302 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 607, 1: 86}
2025-05-07 13:46:15,306 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 13:46:15,309 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 13:46:15,312 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 13:46:15,318 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 13:46:15,320 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 13:46:15,324 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 13:46:15,332 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 13:46:15,332 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 13:46:15,483 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 13:46:15,498 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.33597285923546183, 'LOCATION': 0.31158250204201143, 'Description': 0.2227242310307641, 'assetnum_description': 0.12418095155146164, 'location_description': 0.00553945614030096}}
2025-05-07 13:46:15,499 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 13:46:15,532 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9759615384615384, 'Precision': 0.8888888888888888, 'Recall': 0.9230769230769231, 'F1 Score': 0.9056603773584906, 'ROC AUC': np.float64(0.9752747252747254)}
2025-05-07 13:46:15,532 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.99       182
           1       0.89      0.92      0.91        26

    accuracy                           0.98       208
   macro avg       0.94      0.95      0.95       208
weighted avg       0.98      0.98      0.98       208

2025-05-07 13:46:15,533 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 13:46:17,475 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 13:46:19,151 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 13:46:19,171 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 374.44 KB
2025-05-07 13:46:19,172 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9759615384615384
2025-05-07 13:46:19,175 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 13:46:19,183 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 13:46:19,189 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 13:46:19,212 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 13:46:19,212 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 52.50%, Score de risque: 1.05
2025-05-07 13:46:19,213 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '52.50%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '47.50%', 'panne': '52.50%'}, 'risk_factors': ['Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING']}}}
2025-05-07 13:46:19,215 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 13:46:19,218 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 13:46:19,224 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 13:46:19,245 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 13:46:19,246 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 13:46:19,247 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK']}}}
2025-05-07 13:46:19,248 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 13:46:19,252 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 13:46:19,260 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 13:46:19,280 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 13:46:19,281 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 13:46:19,281 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED']}}}
2025-05-07 15:45:35,419 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 15:45:35,419 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 15:45:35,419 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 15:45:35,516 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 15:45:35,517 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 15:45:35,559 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 15:45:35,559 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 15:45:35,601 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 15:45:35,623 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 15:45:35,629 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 15:45:35,629 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 15:45:35,631 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 15:45:35,632 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 15:45:35,633 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 15:45:35,638 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 607, 1: 86}
2025-05-07 15:45:35,642 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 15:45:35,647 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 15:45:35,652 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 15:45:35,657 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 15:45:35,663 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 15:45:35,669 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 15:45:35,677 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 15:45:35,677 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 15:45:35,917 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 15:45:35,943 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.33597285923546183, 'LOCATION': 0.31158250204201143, 'Description': 0.2227242310307641, 'assetnum_description': 0.12418095155146164, 'location_description': 0.00553945614030096}}
2025-05-07 15:45:35,943 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 15:45:35,992 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9759615384615384, 'Precision': 0.8888888888888888, 'Recall': 0.9230769230769231, 'F1 Score': 0.9056603773584906, 'ROC AUC': np.float64(0.9752747252747254)}
2025-05-07 15:45:35,994 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.99       182
           1       0.89      0.92      0.91        26

    accuracy                           0.98       208
   macro avg       0.94      0.95      0.95       208
weighted avg       0.98      0.98      0.98       208

2025-05-07 15:45:35,994 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 15:45:36,636 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 15:45:48,079 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 15:45:48,103 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 374.44 KB
2025-05-07 15:45:48,105 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9759615384615384
2025-05-07 15:45:48,107 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 15:45:48,117 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 15:45:48,121 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 15:45:48,149 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 15:45:48,150 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 52.50%, Score de risque: 1.05
2025-05-07 15:45:48,151 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '52.50%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '47.50%', 'panne': '52.50%'}, 'risk_factors': ['Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING']}}}
2025-05-07 15:45:48,153 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 15:45:48,157 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 15:45:48,165 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 15:45:48,189 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 15:45:48,190 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 15:45:48,191 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK']}}}
2025-05-07 15:45:48,194 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 15:45:48,200 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 15:45:48,204 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 15:45:48,222 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 15:45:48,223 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 15:45:48,224 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED']}}}
2025-05-07 15:57:38,124 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 15:57:38,124 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 15:57:38,125 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 15:57:38,201 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 15:57:38,202 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 15:57:38,231 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 15:57:38,231 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 15:57:38,272 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 15:57:38,293 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 15:57:38,297 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 15:57:38,297 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 15:57:38,298 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 15:57:38,298 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 15:57:38,298 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 15:57:38,300 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 607, 1: 86}
2025-05-07 15:57:38,303 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 15:57:38,305 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 15:57:38,309 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 15:57:38,313 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 15:57:38,316 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 15:57:38,320 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 15:57:38,324 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 15:57:38,325 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 15:57:38,469 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 15:57:38,485 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.33597285923546183, 'LOCATION': 0.31158250204201143, 'Description': 0.2227242310307641, 'assetnum_description': 0.12418095155146164, 'location_description': 0.00553945614030096}}
2025-05-07 15:57:38,486 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 15:57:38,523 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9759615384615384, 'Precision': 0.8888888888888888, 'Recall': 0.9230769230769231, 'F1 Score': 0.9056603773584906, 'ROC AUC': np.float64(0.9752747252747254)}
2025-05-07 15:57:38,523 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.99       182
           1       0.89      0.92      0.91        26

    accuracy                           0.98       208
   macro avg       0.94      0.95      0.95       208
weighted avg       0.98      0.98      0.98       208

2025-05-07 15:57:38,524 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 15:57:38,877 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 15:57:41,944 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 15:57:41,961 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 374.44 KB
2025-05-07 15:57:41,962 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9759615384615384
2025-05-07 15:57:41,963 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 15:57:41,967 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 15:57:41,970 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 15:57:41,987 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 15:57:41,987 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 52.50%, Score de risque: 1.05
2025-05-07 15:57:41,988 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '52.50%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '47.50%', 'panne': '52.50%'}, 'risk_factors': ['Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING']}}}
2025-05-07 15:57:41,988 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 15:57:41,992 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 15:57:41,997 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 15:57:42,007 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 15:57:42,007 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 15:57:42,007 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK']}}}
2025-05-07 15:57:42,009 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 15:57:42,013 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 15:57:42,017 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 15:57:42,026 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 15:57:42,027 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 15:57:42,027 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED']}}}
2025-05-07 16:08:00,815 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:08:00,816 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:08:00,817 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:08:00,934 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:08:00,935 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:08:00,996 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:08:00,997 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:08:01,046 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:08:01,073 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:08:01,085 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:08:01,086 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:08:01,087 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:08:01,089 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:08:01,090 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:08:01,098 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 603, 1: 90}
2025-05-07 16:08:01,103 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:08:01,107 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:08:01,111 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:08:01,119 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:08:01,122 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:08:01,125 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:08:01,136 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:08:01,137 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:08:01,510 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:08:01,552 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.32492241906213176, 'LOCATION': 0.30529666222196916, 'Description': 0.24589906552915905, 'assetnum_description': 0.10806819568650412, 'location_description': 0.015813657500235927}}
2025-05-07 16:08:01,553 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:08:01,637 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8888888888888888, 'Recall': 0.8888888888888888, 'F1 Score': 0.8888888888888888, 'ROC AUC': np.float64(0.9710456312666257)}
2025-05-07 16:08:01,637 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      0.98      0.98       181
           1       0.89      0.89      0.89        27

    accuracy                           0.97       208
   macro avg       0.94      0.94      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:08:01,637 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:08:02,103 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:08:06,946 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:08:06,968 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 433.77 KB
2025-05-07 16:08:06,969 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 16:08:06,971 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:08:06,980 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:08:06,985 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:08:07,007 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:08:07,007 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 52.50%, Score de risque: 1.05
2025-05-07 16:08:07,009 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '52.50%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '47.50%', 'panne': '52.50%'}, 'risk_factors': ['Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING']}}}
2025-05-07 16:08:07,010 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:08:07,015 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:08:07,022 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:08:07,066 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:08:07,069 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 16:08:07,070 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK']}}}
2025-05-07 16:08:07,071 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:08:07,076 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:08:07,083 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:08:07,104 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:08:07,105 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 16:08:07,105 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED']}}}
2025-05-07 16:15:03,723 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:15:03,725 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:15:03,726 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:15:03,813 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:15:03,813 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:15:03,854 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:15:03,854 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:15:03,894 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:15:03,923 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:15:03,935 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:15:03,936 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:15:03,936 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:15:03,937 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:15:03,938 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:15:03,945 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 603, 1: 90}
2025-05-07 16:15:03,950 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:15:03,954 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:15:03,957 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:15:03,965 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:15:03,969 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:15:03,972 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:15:03,982 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:15:03,982 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:15:04,173 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:15:04,190 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.32492241906213176, 'LOCATION': 0.30529666222196916, 'Description': 0.24589906552915905, 'assetnum_description': 0.10806819568650412, 'location_description': 0.015813657500235927}}
2025-05-07 16:15:04,191 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:15:04,235 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8888888888888888, 'Recall': 0.8888888888888888, 'F1 Score': 0.8888888888888888, 'ROC AUC': np.float64(0.9710456312666257)}
2025-05-07 16:15:04,236 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      0.98      0.98       181
           1       0.89      0.89      0.89        27

    accuracy                           0.97       208
   macro avg       0.94      0.94      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:15:04,236 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:15:04,730 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:15:10,243 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:15:10,264 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 433.77 KB
2025-05-07 16:15:10,265 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 16:15:10,267 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:15:10,273 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:15:10,279 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:15:10,310 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:15:10,311 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 52.50%, Score de risque: 1.05
2025-05-07 16:15:10,314 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '52.50%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '47.50%', 'panne': '52.50%'}, 'risk_factors': ['Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING']}}}
2025-05-07 16:15:10,318 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:15:10,323 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:15:10,332 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:15:10,361 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:15:10,361 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 16:15:10,362 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK']}}}
2025-05-07 16:15:10,365 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:15:10,369 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:15:10,373 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:15:10,401 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:15:10,402 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 50.00%, Score de risque: 1.0
2025-05-07 16:15:10,402 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '50.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '50.00%', 'panne': '50.00%'}, 'risk_factors': ['Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED']}}}
2025-05-07 16:20:35,542 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:20:35,544 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:20:35,545 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:20:35,630 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:20:35,631 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:20:35,669 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:20:35,669 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:20:35,707 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:20:35,731 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:20:35,767 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:20:35,769 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:20:35,770 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:20:35,771 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:20:35,772 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:20:35,791 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 603, 1: 90}
2025-05-07 16:20:35,799 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:20:35,808 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:20:35,814 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:20:35,825 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:20:35,835 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:20:35,839 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:20:35,863 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:20:35,864 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:20:36,218 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:20:36,237 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.32492241906213176, 'LOCATION': 0.30529666222196916, 'Description': 0.24589906552915905, 'assetnum_description': 0.10806819568650412, 'location_description': 0.015813657500235927}}
2025-05-07 16:20:36,238 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:20:36,288 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8888888888888888, 'Recall': 0.8888888888888888, 'F1 Score': 0.8888888888888888, 'ROC AUC': np.float64(0.9710456312666257)}
2025-05-07 16:20:36,288 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      0.98      0.98       181
           1       0.89      0.89      0.89        27

    accuracy                           0.97       208
   macro avg       0.94      0.94      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:20:36,289 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:20:36,816 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:20:38,817 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:20:38,838 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 433.77 KB
2025-05-07 16:20:38,839 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 16:20:38,841 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:20:38,842 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:20:38,849 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:20:38,856 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:20:38,888 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:20:38,888 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.4500000000000002
2025-05-07 16:20:38,890 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:20:38,893 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:20:38.891293', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:20:38,895 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:20:38,900 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:20:38,903 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:20:38,919 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:20:38,920 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 80.00%, Score de risque: 1.0
2025-05-07 16:20:38,921 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:20:38,921 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '80.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '20.00%', 'panne': '80.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:20:38.921881', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:20:38,924 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:20:38,924 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:20:38,928 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:20:38,934 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:20:38,966 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:20:38,967 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.4000000000000001
2025-05-07 16:20:38,968 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:20:38,969 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:20:38.969764', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:24:21,697 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:24:21,701 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:24:21,702 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:24:21,836 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:24:21,836 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:24:21,902 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:24:21,902 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:24:21,973 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:24:22,004 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:24:22,013 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:24:22,014 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:24:22,014 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:24:22,015 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:24:22,017 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:24:22,023 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 603, 1: 90}
2025-05-07 16:24:22,029 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:24:22,035 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:24:22,042 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:24:22,056 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:24:22,063 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:24:22,069 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:24:22,081 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:24:22,082 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:24:22,421 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:24:22,452 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.32492241906213176, 'LOCATION': 0.30529666222196916, 'Description': 0.24589906552915905, 'assetnum_description': 0.10806819568650412, 'location_description': 0.015813657500235927}}
2025-05-07 16:24:22,453 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:24:22,625 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8888888888888888, 'Recall': 0.8888888888888888, 'F1 Score': 0.8888888888888888, 'ROC AUC': np.float64(0.9710456312666257)}
2025-05-07 16:24:22,625 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      0.98      0.98       181
           1       0.89      0.89      0.89        27

    accuracy                           0.97       208
   macro avg       0.94      0.94      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:24:22,625 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:24:23,343 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:24:24,558 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:24:24,579 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 433.79 KB
2025-05-07 16:24:24,580 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 16:24:24,581 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:24:24,582 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:24:24,590 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:24:24,595 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:24:24,626 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:24:24,626 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.4500000000000002
2025-05-07 16:24:24,628 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:24:24,631 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:24:24.629542', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:24:24,636 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:24:24,643 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:24:24,647 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:24:24,696 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:24:24,702 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 80.00%, Score de risque: 1.0
2025-05-07 16:24:24,706 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:24:24,707 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '80.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '20.00%', 'panne': '80.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:24:24.707718', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:24:24,710 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:24:24,711 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:24:24,713 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:24:24,715 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:24:24,741 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:24:24,741 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.4000000000000001
2025-05-07 16:24:24,742 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:24:24,743 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:24:24.743549', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:27:42,851 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:27:42,854 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:27:42,854 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:27:43,001 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:27:43,002 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:27:43,072 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:27:43,073 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:27:43,136 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:27:43,176 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:27:43,194 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:27:43,195 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:27:43,196 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:27:43,197 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:27:43,198 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:27:43,204 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:27:43,208 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:27:43,217 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:27:43,224 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:27:43,233 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:27:43,239 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:27:43,244 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:27:43,256 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:27:43,257 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:27:43,516 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:27:43,539 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:27:43,539 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:27:43,605 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:27:43,605 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:28:08,591 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:28:08,592 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:28:08,593 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:28:08,684 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:28:08,684 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:28:08,715 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:28:08,716 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:28:08,759 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:28:08,784 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:28:08,798 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:28:08,809 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:28:08,815 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:28:08,816 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:28:08,818 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:28:08,830 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:28:08,839 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:28:08,848 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:28:08,855 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:28:08,864 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:28:08,871 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:28:08,879 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:28:08,887 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:28:08,888 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:28:09,201 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:28:09,225 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:28:09,226 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:28:09,301 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:28:09,303 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:28:09,303 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:28:09,970 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:28:14,939 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:28:14,965 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-07 16:28:14,966 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-07 16:28:14,967 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:28:14,967 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:28:14,976 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:28:14,983 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:28:15,008 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:28:15,009 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.5500000000000003
2025-05-07 16:28:15,011 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:28:15,016 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:28:15.012561', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:28:15,018 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:28:15,024 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:28:15,029 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:28:15,072 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:28:15,079 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 88.00%, Score de risque: 1.1
2025-05-07 16:28:15,084 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:28:15,086 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '88.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '12.00%', 'panne': '88.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:28:15.086116', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:28:15,096 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:28:15,097 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:28:15,103 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:28:15,111 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:28:15,153 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:28:15,154 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.5000000000000002
2025-05-07 16:28:15,159 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:28:15,168 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:28:15.162239', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:31:55,189 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:31:55,191 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:31:55,192 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:31:55,252 - RandomForestFaultDetector - INFO - Données chargées avec l'encodage utf-8: 67687 enregistrements
2025-05-07 16:31:55,252 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:31:55,255 - RandomForestFaultDetector - INFO - Données de location chargées avec l'encodage utf-8
2025-05-07 16:31:55,285 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:31:55,285 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:31:55,287 - RandomForestFaultDetector - WARNING - Échec du chargement d'assetnum avec l'encodage utf-8, essai suivant...
2025-05-07 16:31:55,292 - RandomForestFaultDetector - INFO - Données d'assetnum chargées avec l'encodage latin-1
2025-05-07 16:31:55,320 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:31:55,336 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:31:55,342 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:31:55,342 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:31:55,342 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:31:55,346 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:31:55,347 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:31:55,351 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 603, 1: 90}
2025-05-07 16:31:55,354 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:31:55,358 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:31:55,360 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:31:55,366 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:31:55,368 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:31:55,371 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:31:55,379 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:31:55,379 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:31:55,510 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:31:55,524 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.32492241906213176, 'LOCATION': 0.30529666222196916, 'Description': 0.24589906552915905, 'assetnum_description': 0.10806819568650412, 'location_description': 0.015813657500235927}}
2025-05-07 16:31:55,524 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:31:55,567 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8888888888888888, 'Recall': 0.8888888888888888, 'F1 Score': 0.8888888888888888, 'ROC AUC': np.float64(0.9710456312666257)}
2025-05-07 16:31:55,567 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      0.98      0.98       181
           1       0.89      0.89      0.89        27

    accuracy                           0.97       208
   macro avg       0.94      0.94      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:31:55,568 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:31:56,273 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:31:58,374 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:31:58,394 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 433.77 KB
2025-05-07 16:31:58,394 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 16:31:58,397 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:31:58,399 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:31:58,404 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:31:58,406 - RandomForestFaultDetector - WARNING - Échec du chargement d'assetnum avec l'encodage utf-8, essai suivant...
2025-05-07 16:31:58,408 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:31:58,423 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:31:58,424 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.4500000000000002
2025-05-07 16:31:58,448 - RandomForestFaultDetector - WARNING - Erreur lors du chargement des facteurs d'influence: 'type_panne'
2025-05-07 16:31:58,449 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:31:58.448192', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:31:58,450 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:31:58,452 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:31:58,452 - RandomForestFaultDetector - WARNING - Échec du chargement d'assetnum avec l'encodage utf-8, essai suivant...
2025-05-07 16:31:58,452 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:31:58,475 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:31:58,475 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 80.00%, Score de risque: 1.0
2025-05-07 16:31:58,477 - RandomForestFaultDetector - WARNING - Erreur lors du chargement des facteurs d'influence: 'type_panne'
2025-05-07 16:31:58,477 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '80.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '20.00%', 'panne': '80.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:31:58.477684', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:31:58,480 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:31:58,480 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:31:58,487 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:31:58,488 - RandomForestFaultDetector - WARNING - Échec du chargement d'assetnum avec l'encodage utf-8, essai suivant...
2025-05-07 16:31:58,490 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:31:58,504 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:31:58,505 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.4000000000000001
2025-05-07 16:31:58,506 - RandomForestFaultDetector - WARNING - Erreur lors du chargement des facteurs d'influence: 'type_panne'
2025-05-07 16:31:58,506 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:31:58.506875', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:33:01,740 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:33:01,741 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:33:01,743 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:33:01,856 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:33:01,856 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:33:01,909 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:33:01,910 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:33:01,959 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:33:01,988 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:33:02,000 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:33:02,000 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:33:02,001 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:33:02,003 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:33:02,003 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:33:02,009 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:33:02,014 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:33:02,020 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:33:02,028 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:33:02,035 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:33:02,038 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:33:02,041 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:33:02,057 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:33:02,058 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:33:02,399 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:33:02,424 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:33:02,424 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:33:02,480 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:33:02,480 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:33:02,481 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:33:03,090 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:33:05,611 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:33:05,639 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-07 16:33:05,640 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-07 16:33:05,642 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:33:05,643 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:33:05,652 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:33:05,656 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:33:05,690 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:33:05,691 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.5500000000000003
2025-05-07 16:33:05,695 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:33:05,702 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:33:05.697419', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:33:05,704 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:33:05,710 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:33:05,716 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:33:05,754 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:33:05,755 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 88.00%, Score de risque: 1.1
2025-05-07 16:33:05,758 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:33:05,760 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '88.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '12.00%', 'panne': '88.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:33:05.760316', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:33:05,768 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:33:05,769 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:33:05,778 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:33:05,787 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:33:05,839 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:33:05,841 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.5000000000000002
2025-05-07 16:33:05,861 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:33:05,866 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:33:05.866435', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:35:14,872 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:35:14,872 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:35:14,881 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:35:14,937 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:35:14,937 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:35:14,962 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:35:14,962 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:35:14,990 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:35:15,006 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:35:15,015 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:35:15,015 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:35:15,016 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:35:15,017 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:35:15,017 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:35:15,020 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:35:15,024 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:35:15,028 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:35:15,031 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:35:15,037 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:35:15,040 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:35:15,043 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:35:15,047 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:35:15,047 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:35:15,198 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:35:15,215 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:35:15,215 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:35:15,243 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:35:15,243 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:35:15,251 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:35:15,812 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:35:17,681 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:35:17,704 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-07 16:35:17,704 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-07 16:35:17,707 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:35:17,708 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:35:17,709 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:35:17,709 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:35:17,717 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:35:17,727 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:35:17,757 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:35:17,758 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.5499999999999994
2025-05-07 16:35:17,759 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:35:17,760 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:35:17.760602', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:35:17,762 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:35:17,765 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:35:17,769 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:35:17,796 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:35:17,796 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.1
2025-05-07 16:35:17,798 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:35:17,798 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:35:17.798653', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:35:17,800 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:35:17,800 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:35:17,801 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:35:17,807 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:35:17,812 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:35:17,833 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:35:17,834 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 2.5999999999999996
2025-05-07 16:35:17,835 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:35:17,836 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:35:17.835007', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:38:00,688 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:38:00,690 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:38:00,691 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:38:00,865 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:38:00,866 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:38:00,965 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:38:00,966 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:38:01,026 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:38:01,098 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:38:01,127 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:38:01,128 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:38:01,129 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:38:01,132 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:38:01,133 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:38:01,144 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:38:01,150 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:38:01,158 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:38:01,198 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:38:01,217 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:38:01,225 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:38:01,231 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:38:01,255 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:38:01,255 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:38:01,615 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:38:01,641 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:38:01,642 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:38:01,708 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:38:01,708 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:38:01,708 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:38:02,406 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:38:04,130 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:38:04,156 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-07 16:38:04,157 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-07 16:38:04,159 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:38:04,160 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:38:04,160 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:38:04,160 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:38:04,170 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:38:04,182 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:38:04,203 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:38:04,203 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.55
2025-05-07 16:38:04,204 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:38:04,209 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:38:04.205947', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:38:04,212 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:38:04,216 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:38:04,219 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:38:04,238 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:38:04,239 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.1
2025-05-07 16:38:04,240 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:38:04,241 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:38:04.240368', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:38:04,242 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:38:04,242 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:38:04,243 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:38:04,254 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:38:04,258 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:38:04,293 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:38:04,294 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.1999999999999993
2025-05-07 16:38:04,298 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:38:04,299 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:38:04.299355', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:40:46,941 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:40:46,942 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:40:46,942 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:40:47,011 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:40:47,012 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:40:47,037 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:40:47,037 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:40:47,076 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:40:47,101 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:40:47,112 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:40:47,113 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:40:47,113 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:40:47,113 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:40:47,113 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:40:47,113 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:40:47,121 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:40:47,124 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:40:47,124 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:40:47,133 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:40:47,137 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:40:47,142 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:40:47,148 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:40:47,148 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:40:47,321 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:40:47,337 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:40:47,339 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:40:47,382 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:40:47,382 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:40:47,383 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:40:47,693 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:40:49,280 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:40:49,300 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-07 16:40:49,300 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-07 16:40:49,301 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:40:49,301 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:40:49,302 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:40:49,304 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:40:49,313 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:40:49,318 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:40:49,350 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:40:49,351 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.55
2025-05-07 16:40:49,356 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:40:49,357 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:40:49.357883', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:40:49,361 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:40:49,367 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:40:49,374 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:40:49,395 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:40:49,395 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.1
2025-05-07 16:40:49,395 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:40:49,395 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:40:49.395474', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:40:49,401 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:40:49,402 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:40:49,402 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:40:49,407 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:40:49,411 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:40:49,426 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:40:49,427 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.1999999999999993
2025-05-07 16:40:49,428 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:40:49,429 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:40:49.429723', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:42:01,698 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:42:01,699 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:42:01,699 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:42:01,807 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:42:01,808 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:42:01,846 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:42:01,847 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:42:01,892 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:42:01,920 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:42:01,930 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:42:01,931 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:42:01,932 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:42:01,933 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:42:01,934 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:42:01,938 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:42:01,942 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:42:01,946 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:42:01,950 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:42:01,958 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:42:01,962 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:42:01,967 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:42:01,975 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:42:01,976 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:42:02,249 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:42:02,269 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:42:02,271 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:42:02,333 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:42:02,333 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:42:02,333 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:42:02,817 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:42:04,374 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:42:04,388 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-07 16:42:04,389 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-07 16:42:04,390 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:42:04,392 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:42:04,393 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:42:04,394 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:42:04,403 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:42:04,412 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:42:04,446 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:42:04,447 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.55
2025-05-07 16:42:04,452 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:42:04,454 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:42:04.454373', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:42:04,460 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:42:04,470 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:42:04,477 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:42:04,510 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:42:04,510 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.1
2025-05-07 16:42:04,513 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:42:04,514 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:42:04.513280', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:42:04,520 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:42:04,521 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:42:04,522 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:42:04,527 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:42:04,532 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:42:04,560 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:42:04,560 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.1999999999999993
2025-05-07 16:42:04,561 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:42:04,563 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:42:04.562541', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:45:04,363 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:45:04,364 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:45:04,364 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:45:04,424 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:45:04,424 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:45:04,450 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:45:04,451 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:45:04,481 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:45:04,503 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:45:04,512 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:45:04,512 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:45:04,513 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:45:04,513 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:45:04,514 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:45:04,516 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:45:04,519 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:45:04,522 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:45:04,525 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:45:04,531 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:45:04,534 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:45:04,536 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:45:04,543 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:45:04,544 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:45:04,674 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:45:04,686 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:45:04,687 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:45:04,720 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:45:04,720 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:45:21,259 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:45:21,260 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:45:21,263 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:45:21,398 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:45:21,401 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:45:21,457 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:45:21,457 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:45:21,509 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:45:21,539 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:45:21,554 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:45:21,556 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:45:21,557 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:45:21,558 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:45:21,559 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:45:21,564 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:45:21,570 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:45:21,578 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:45:21,584 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:45:21,595 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:45:21,599 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:45:21,605 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:45:21,615 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:45:21,616 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:45:21,929 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:45:21,951 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:45:21,952 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:45:22,018 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:45:22,018 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:45:22,018 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:45:22,617 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:45:24,402 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:45:24,422 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-07 16:45:24,423 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-07 16:45:24,425 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:45:24,426 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:45:24,426 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:45:24,427 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:45:24,434 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:45:24,439 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:45:24,470 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:45:24,471 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.55
2025-05-07 16:45:24,473 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:45:24,474 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:45:24.474767', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:45:24,480 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:45:24,485 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:45:24,488 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:45:24,520 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:45:24,520 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.1
2025-05-07 16:45:24,522 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:45:24,523 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:45:24.523620', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:45:24,529 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:45:24,531 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:45:24,532 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:45:24,536 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:45:24,541 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:45:24,569 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:45:24,570 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.1999999999999993
2025-05-07 16:45:24,575 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:45:24,576 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:45:24.575783', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:47:02,968 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:47:02,968 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:47:02,968 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:47:03,025 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:47:03,025 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:47:03,051 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:47:03,052 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:47:03,108 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:47:03,142 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:47:03,153 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:47:03,154 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:47:03,155 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:47:03,156 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:47:03,157 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:47:03,160 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:47:03,165 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:47:03,169 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:47:03,174 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:47:03,180 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:47:03,187 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:47:03,195 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:47:03,205 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:47:03,206 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:47:03,488 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:47:03,510 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-07 16:47:03,511 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:47:03,570 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-07 16:47:03,571 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:47:03,572 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:47:04,191 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:47:05,682 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:47:05,704 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-07 16:47:05,705 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-07 16:47:05,706 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:47:05,706 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:47:05,707 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:47:05,707 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:47:05,713 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:47:05,717 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:47:05,732 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:47:05,732 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 5.75
2025-05-07 16:47:05,733 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:47:05,734 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine', 'Unknown LOCATION: BR300', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:47:05.734171', 'input_data': {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:47:05,736 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:47:05,741 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:47:05,743 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:47:05,754 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:47:05,754 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.1
2025-05-07 16:47:05,756 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:47:05,756 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:47:05.756227', 'input_data': {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:47:05,758 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:47:05,758 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:47:05,759 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:47:05,762 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:47:05,766 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:47:05,796 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-07 16:47:05,797 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.8999999999999995
2025-05-07 16:47:05,799 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:47:05,800 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:47:05.800235', 'input_data': {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:51:24,992 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:51:24,994 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:51:24,994 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:51:25,070 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:51:25,070 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:51:25,113 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:51:25,114 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:51:25,150 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:51:25,174 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:51:25,184 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:51:25,185 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-07 16:51:25,186 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:51:25,186 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:51:25,187 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:51:25,189 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:51:25,195 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:51:25,199 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:51:25,205 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:51:25,209 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-07 16:51:25,214 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:51:25,219 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:51:25,222 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:51:25,228 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:51:25,233 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:51:25,234 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:51:25,434 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:51:25,454 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-07 16:51:25,455 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:51:25,540 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-07 16:51:25,541 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:51:25,542 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:51:25,872 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:51:27,554 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:51:27,576 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-07 16:51:27,578 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 16:51:27,582 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:51:27,583 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:51:27,583 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:51:27,584 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:51:27,590 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:51:27,600 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:51:27,610 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: The feature names should match those that were passed during fit.
Feature names seen at fit time, yet now missing:
- WOPRIORITY
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 374, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2919, in validate_data
    _check_feature_names(_estimator, X, reset=reset)
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2777, in _check_feature_names
    raise ValueError(message)
ValueError: The feature names should match those that were passed during fit.
Feature names seen at fit time, yet now missing:
- WOPRIORITY

2025-05-07 16:51:27,669 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:51:27,681 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:51:27,688 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:51:27,699 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: The feature names should match those that were passed during fit.
Feature names seen at fit time, yet now missing:
- WOPRIORITY
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 374, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2919, in validate_data
    _check_feature_names(_estimator, X, reset=reset)
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2777, in _check_feature_names
    raise ValueError(message)
ValueError: The feature names should match those that were passed during fit.
Feature names seen at fit time, yet now missing:
- WOPRIORITY

2025-05-07 16:51:27,702 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:51:27,703 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:51:27,703 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:51:27,709 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:51:27,715 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:51:27,720 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: The feature names should match those that were passed during fit.
Feature names seen at fit time, yet now missing:
- WOPRIORITY
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 374, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2919, in validate_data
    _check_feature_names(_estimator, X, reset=reset)
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2777, in _check_feature_names
    raise ValueError(message)
ValueError: The feature names should match those that were passed during fit.
Feature names seen at fit time, yet now missing:
- WOPRIORITY

2025-05-07 16:54:58,549 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:54:58,550 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:54:58,550 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:54:58,655 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:54:58,655 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:54:58,712 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:54:58,712 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:54:58,754 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:54:58,784 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:54:58,799 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:54:58,800 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-07 16:54:58,801 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:54:58,802 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:54:58,803 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:54:58,804 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:54:58,810 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:54:58,813 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:54:58,819 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:54:58,823 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-07 16:54:58,827 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:54:58,833 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:54:58,838 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:54:58,844 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:54:58,856 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:54:58,858 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:54:59,086 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:54:59,110 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-07 16:54:59,110 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:54:59,167 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-07 16:54:59,167 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:54:59,167 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:54:59,724 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:55:01,683 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:55:01,712 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-07 16:55:01,712 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 16:55:01,716 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-07 16:55:01,717 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:55:01,718 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:55:01,718 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:55:01,726 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:55:01,733 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:55:01,756 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 16:55:01,756 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 6.05
2025-05-07 16:55:01,758 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:55:01,763 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine', 'Unknown LOCATION: BR300', 'Unknown STATUS: OPEN', 'Unknown ASSETNUM: EQP123', 'Unknown Description: MACHINE STOPPED DUE TO OVERHEATING'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:55:01.759587', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:55:01,769 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-07 16:55:01,773 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:55:01,777 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:55:01,853 - RandomForestFaultDetector - INFO - Probabilités de base: [0.97 0.03]
2025-05-07 16:55:01,859 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 1.1
2025-05-07 16:55:01,862 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:55:01,863 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Unknown LOCATION: NEW_LOC', 'Unknown ASSETNUM: NEW_EQP', 'Unknown Description: REGULAR MAINTENANCE CHECK'], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:55:01.862783', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:55:01,868 - RandomForestFaultDetector - INFO - Prédiction pour les données: {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-07 16:55:01,868 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:55:01,869 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:55:01,874 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:55:01,884 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:55:01,912 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 16:55:01,912 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.8999999999999995
2025-05-07 16:55:01,915 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:55:01,916 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment', 'Unknown LOCATION: LOC02', 'Unknown ASSETNUM: EQP456', 'Unknown Description: EQUIPMENT MALFUNCTION DETECTED'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:55:01.916501', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:57:19,430 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:57:19,431 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:57:19,431 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:57:19,533 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:57:19,533 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:57:19,583 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:57:19,584 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:57:19,632 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:57:19,655 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:57:19,668 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:57:19,668 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-07 16:57:19,668 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:57:19,670 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:57:19,670 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:57:19,671 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:57:19,677 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:57:19,683 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:57:19,687 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:57:19,692 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-07 16:57:19,696 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:57:19,707 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:57:19,712 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:57:19,718 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:57:19,732 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:57:19,732 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:57:19,985 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:57:20,012 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-07 16:57:20,013 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:57:20,097 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-07 16:57:20,097 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:57:20,099 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:57:20,717 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:57:22,134 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:57:22,164 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-07 16:57:22,164 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 16:57:22,165 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:57:22,166 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:57:22,166 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:57:22,176 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:57:22,183 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:57:22,232 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 16:57:22,235 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-07 16:57:22,238 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:57:22,245 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:57:22.239759', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'High risk of mechanical stress and vibrations impacting equipment lifespan', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:57:22,253 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:57:22,260 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:57:22,320 - RandomForestFaultDetector - INFO - Probabilités de base: [0.97 0.03]
2025-05-07 16:57:22,329 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 43.00%, Score de risque: 0.2
2025-05-07 16:57:22,333 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:57:22,348 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '57.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '57.00%', 'panne': '43.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:57:22.346551', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:57:22,350 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:57:22,351 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:57:22,365 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:57:22,371 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:57:22,420 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 16:57:22,426 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-07 16:57:22,432 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:57:22,435 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:57:22.435406', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}}}
2025-05-07 16:59:20,075 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 16:59:20,076 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 16:59:20,076 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 16:59:20,143 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 16:59:20,143 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 16:59:20,166 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 16:59:20,166 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 16:59:20,193 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 16:59:20,212 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 16:59:20,221 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 16:59:20,221 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-07 16:59:20,222 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 16:59:20,222 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 16:59:20,223 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 16:59:20,223 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 16:59:20,225 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 16:59:20,228 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 16:59:20,231 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 16:59:20,235 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-07 16:59:20,238 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 16:59:20,243 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 16:59:20,246 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 16:59:20,248 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 16:59:20,255 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 16:59:20,255 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 16:59:20,395 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 16:59:20,408 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-07 16:59:20,409 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 16:59:20,450 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-07 16:59:20,450 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 16:59:20,451 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 16:59:20,768 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 16:59:22,259 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 16:59:22,280 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-07 16:59:22,282 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 16:59:22,283 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 16:59:22,284 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 16:59:22,285 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 16:59:22,292 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 16:59:22,298 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 16:59:22,330 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 16:59:22,330 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-07 16:59:22,333 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:59:22,334 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:59:22.334763', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-07 16:59:22,344 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 16:59:22,348 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 16:59:22,383 - RandomForestFaultDetector - INFO - Probabilités de base: [0.97 0.03]
2025-05-07 16:59:22,386 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 43.00%, Score de risque: 0.2
2025-05-07 16:59:22,389 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:59:22,390 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '57.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '57.00%', 'panne': '43.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:59:22.390971', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-07 16:59:22,392 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 16:59:22,392 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 16:59:22,398 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 16:59:22,404 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 16:59:22,437 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 16:59:22,440 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-07 16:59:22,443 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 16:59:22,444 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T16:59:22.444886', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-07 17:04:46,003 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 17:04:46,005 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 17:04:46,005 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 17:04:46,138 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 17:04:46,138 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 17:04:46,191 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 17:04:46,192 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 17:04:46,243 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 17:04:46,272 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 17:04:46,284 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 17:04:46,285 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-07 17:04:46,285 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 17:04:46,288 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 17:04:46,289 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 17:04:46,290 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 17:04:46,296 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 17:04:46,301 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 17:04:46,306 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 17:04:46,310 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-07 17:04:46,313 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 17:04:46,328 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 17:04:46,334 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 17:04:46,341 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 17:04:46,361 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 17:04:46,361 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 17:04:46,675 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 17:04:46,697 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-07 17:04:46,698 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 17:04:46,764 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-07 17:04:46,764 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 17:04:46,765 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 17:04:47,390 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 17:04:48,862 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 17:04:48,887 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-07 17:04:48,888 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 17:04:48,890 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 17:04:48,891 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 17:04:48,893 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 17:04:48,905 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 17:04:48,912 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 17:04:48,949 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 17:04:48,950 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-07 17:04:48,958 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:04:48,964 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:04:48.960752', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-07 17:04:48,972 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 17:04:48,979 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 17:04:49,012 - RandomForestFaultDetector - INFO - Probabilités de base: [0.97 0.03]
2025-05-07 17:04:49,013 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 43.00%, Score de risque: 0.2
2025-05-07 17:04:49,014 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:04:49,015 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '57.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '57.00%', 'panne': '43.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:04:49.014996', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-07 17:04:49,016 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 17:04:49,016 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 17:04:49,025 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 17:04:49,029 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 17:04:49,068 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 17:04:49,068 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-07 17:04:49,076 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:04:49,077 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:04:49.076311', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-07 17:45:02,335 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 17:45:02,337 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 17:45:02,337 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 17:45:02,430 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 17:45:02,431 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 17:45:02,481 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 17:45:02,482 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 17:45:02,522 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 17:45:02,553 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 17:45:02,570 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 17:45:02,572 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-07 17:45:02,573 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 17:45:02,573 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 17:45:02,575 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 17:45:02,575 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 17:45:02,582 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 17:45:02,629 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 17:45:02,670 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 17:45:02,675 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-07 17:45:02,681 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 17:45:02,690 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 17:45:02,744 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 17:45:02,749 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 17:45:02,786 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 17:45:02,787 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 17:45:03,174 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 17:45:03,191 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-07 17:45:03,192 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 17:45:03,249 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-07 17:45:03,250 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 17:45:03,251 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 17:45:03,859 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 17:45:08,628 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 17:45:08,651 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-07 17:45:08,651 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 17:45:08,652 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 17:45:08,653 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 17:45:08,654 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 17:45:08,662 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 17:45:08,668 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 17:45:08,692 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 17:45:08,692 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-07 17:45:08,693 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:45:08,699 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:45:08.695792', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-07 17:45:08,704 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 17:45:08,708 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 17:45:08,740 - RandomForestFaultDetector - INFO - Probabilités de base: [0.97 0.03]
2025-05-07 17:45:08,740 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 43.00%, Score de risque: 0.2
2025-05-07 17:45:08,742 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:45:08,743 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '57.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '57.00%', 'panne': '43.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:45:08.743975', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-07 17:45:08,746 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 17:45:08,746 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 17:45:08,750 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 17:45:08,754 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 17:45:08,781 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 17:45:08,783 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-07 17:45:08,788 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:45:08,788 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:45:08.788487', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-07 17:46:50,887 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 17:46:50,888 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 17:46:50,888 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 17:46:50,966 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 17:46:50,966 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 17:46:51,006 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 17:46:51,007 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 17:46:51,039 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 17:46:51,071 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 17:46:51,082 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 17:46:51,082 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-07 17:46:51,083 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 17:46:51,083 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 17:46:51,083 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 17:46:51,084 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 17:46:51,088 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 17:46:51,092 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 17:46:51,096 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 17:46:51,099 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-07 17:46:51,103 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 17:46:51,108 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 17:46:51,111 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 17:46:51,115 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 17:46:51,123 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 17:46:51,123 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 17:46:51,349 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 17:46:51,380 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-07 17:46:51,381 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 17:46:51,478 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-07 17:46:51,479 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 17:46:51,480 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 17:46:52,372 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 17:46:53,652 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 17:46:53,680 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-07 17:46:53,681 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 17:46:53,682 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 17:46:53,682 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 17:46:53,682 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 17:46:53,691 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 17:46:53,698 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 17:46:53,735 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 17:46:53,735 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-07 17:46:53,738 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:46:53,745 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:46:53.739123', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-07 17:46:53,753 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 17:46:53,759 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 17:46:53,809 - RandomForestFaultDetector - INFO - Probabilités de base: [0.97 0.03]
2025-05-07 17:46:53,812 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 43.00%, Score de risque: 0.2
2025-05-07 17:46:53,818 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:46:53,820 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '57.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '57.00%', 'panne': '43.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:46:53.820708', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-07 17:46:53,829 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 17:46:53,830 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 17:46:53,839 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 17:46:53,850 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 17:46:53,888 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 17:46:53,891 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-07 17:46:53,902 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:46:53,903 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:46:53.903285', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-07 17:54:10,558 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-07 17:54:10,558 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-07 17:54:10,558 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-07 17:54:10,665 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-07 17:54:10,665 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-07 17:54:10,729 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-07 17:54:10,730 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-07 17:54:10,777 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-07 17:54:10,802 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-07 17:54:10,820 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-07 17:54:10,822 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-07 17:54:10,822 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-07 17:54:10,827 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-07 17:54:10,828 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-07 17:54:10,830 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-07 17:54:10,838 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-07 17:54:10,845 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-07 17:54:10,853 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-07 17:54:10,861 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-07 17:54:10,864 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-07 17:54:10,881 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-07 17:54:10,883 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-07 17:54:10,883 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-07 17:54:10,901 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-07 17:54:10,901 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-07 17:54:11,259 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-07 17:54:11,307 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-07 17:54:11,307 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-07 17:54:11,395 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-07 17:54:11,395 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-07 17:54:11,395 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-07 17:54:12,303 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-07 17:54:14,273 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-07 17:54:14,308 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-07 17:54:14,309 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-07 17:54:14,310 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-07 17:54:14,311 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-07 17:54:14,312 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-07 17:54:14,332 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-07 17:54:14,337 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-07 17:54:14,386 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 17:54:14,386 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-07 17:54:14,391 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:54:14,401 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:54:14.395579', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-07 17:54:14,412 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-07 17:54:14,420 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-07 17:54:14,460 - RandomForestFaultDetector - INFO - Probabilités de base: [0.97 0.03]
2025-05-07 17:54:14,460 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 43.00%, Score de risque: 0.2
2025-05-07 17:54:14,466 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:54:14,468 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '57.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '57.00%', 'panne': '43.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:54:14.466081', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-07 17:54:14,484 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-07 17:54:14,486 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-07 17:54:14,497 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-07 17:54:14,502 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-07 17:54:14,538 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-07 17:54:14,541 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-07 17:54:14,546 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-07 17:54:14,547 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-07T17:54:14.547445', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-08 01:50:59,632 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-08 01:50:59,632 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-08 01:50:59,632 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-08 01:50:59,802 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-08 01:50:59,802 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-08 01:50:59,877 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-08 01:50:59,880 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-08 01:50:59,935 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-08 01:50:59,984 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-08 01:51:00,002 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-08 01:51:00,002 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-08 01:51:00,002 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-08 01:51:00,002 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-08 01:51:00,005 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-08 01:51:00,008 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-08 01:51:00,019 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-08 01:51:00,025 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-08 01:51:00,032 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-08 01:51:00,036 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-08 01:51:00,047 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-08 01:51:00,056 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-08 01:51:00,062 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-08 01:51:00,072 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-08 01:51:00,083 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-08 01:51:00,090 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-08 01:51:00,486 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-08 01:51:00,524 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-08 01:51:00,526 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-08 01:51:00,642 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-08 01:51:00,643 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-08 01:51:00,643 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-08 01:51:03,196 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-08 01:51:05,594 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-08 01:51:05,624 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-08 01:51:05,626 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-08 01:51:05,626 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-08 01:51:05,628 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-08 01:51:05,628 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-08 01:51:05,636 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-08 01:51:05,642 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-08 01:51:05,665 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-08 01:51:05,666 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-08 01:51:05,666 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 01:51:05,672 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T01:51:05.666614', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-08 01:51:05,684 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-08 01:51:05,690 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-08 01:51:05,732 - RandomForestFaultDetector - INFO - Probabilités de base: [0.97 0.03]
2025-05-08 01:51:05,734 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 43.00%, Score de risque: 0.2
2025-05-08 01:51:05,736 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 01:51:05,738 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '57.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '57.00%', 'panne': '43.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T01:51:05.738672', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-08 01:51:05,742 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-08 01:51:05,748 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-08 01:51:05,816 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-08 01:51:05,868 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-08 01:51:05,947 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-08 01:51:05,950 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-08 01:51:05,952 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 01:51:05,954 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T01:51:05.954766', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-08 09:24:28,235 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-08 09:24:28,235 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'WOPRIORITY', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-08 09:24:28,235 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-08 09:24:28,342 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-08 09:24:28,344 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-08 09:24:28,401 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-08 09:24:28,401 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-08 09:24:28,460 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-08 09:24:28,487 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-08 09:24:28,501 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-08 09:24:28,503 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-08 09:24:28,503 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-08 09:24:28,503 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-08 09:24:28,503 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-08 09:24:28,503 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-08 09:24:28,503 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-08 09:24:28,517 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-08 09:24:28,523 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-08 09:24:28,525 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-08 09:24:28,531 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-08 09:24:28,542 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-08 09:24:28,546 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-08 09:24:28,552 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-08 09:24:28,559 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-08 09:24:28,559 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-08 09:24:28,851 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-08 09:24:28,877 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.2687164167631922, 'ASSETNUM': 0.2319342280957055, 'Description': 0.21274333223176015, 'assetnum_description': 0.14242897220769607, 'STATUS': 0.07222587271750916, 'WOPRIORITY': 0.0389516337800383, 'location_description': 0.03299954420409885}}
2025-05-08 09:24:28,877 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-08 09:24:28,928 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9711538461538461, 'Precision': 0.8709677419354839, 'Recall': 0.9310344827586207, 'F1 Score': 0.9, 'ROC AUC': np.float64(0.9529955692544789)}
2025-05-08 09:24:28,930 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.98      0.98       179
           1       0.87      0.93      0.90        29

    accuracy                           0.97       208
   macro avg       0.93      0.95      0.94       208
weighted avg       0.97      0.97      0.97       208

2025-05-08 09:24:28,930 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-08 09:24:29,400 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-08 09:24:32,401 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-08 09:24:32,422 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 561.62 KB
2025-05-08 09:24:32,423 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9711538461538461
2025-05-08 09:24:32,424 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-08 09:24:32,425 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-08 09:24:32,426 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-08 09:24:32,430 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-08 09:24:32,436 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-08 09:24:32,454 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-08 09:24:32,455 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-08 09:24:32,456 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 09:24:32,459 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T09:24:32.458127', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-08 09:24:32,464 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-08 09:24:32,468 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-08 09:24:32,495 - RandomForestFaultDetector - INFO - Probabilités de base: [0.97 0.03]
2025-05-08 09:24:32,496 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 43.00%, Score de risque: 0.2
2025-05-08 09:24:32,497 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 09:24:32,498 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '57.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '57.00%', 'panne': '43.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T09:24:32.497322', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-08 09:24:32,506 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-08 09:24:32,506 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-08 09:24:32,510 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-08 09:24:32,516 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-08 09:24:32,554 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-08 09:24:32,554 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-08 09:24:32,554 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 09:24:32,554 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T09:24:32.554046', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-08 10:31:02,658 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-08 10:31:02,674 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'STATUS', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-08 10:31:02,674 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-08 10:31:02,763 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-08 10:31:02,763 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-08 10:31:02,815 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-08 10:31:02,815 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-08 10:31:02,854 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-08 10:31:02,881 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-08 10:31:02,899 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-08 10:31:02,900 - RandomForestFaultDetector - INFO - Catégories pour STATUS: 10 valeurs uniques
2025-05-08 10:31:02,900 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-08 10:31:02,901 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-08 10:31:02,902 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-08 10:31:02,903 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-08 10:31:02,910 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-08 10:31:02,916 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-08 10:31:02,921 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-08 10:31:02,924 - RandomForestFaultDetector - INFO - Encodage de STATUS terminé avec 10 classes
2025-05-08 10:31:02,930 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-08 10:31:02,940 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-08 10:31:02,945 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-08 10:31:02,950 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-08 10:31:02,959 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-08 10:31:02,961 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-08 10:31:03,173 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-08 10:31:03,203 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'LOCATION': 0.28746077684230625, 'Description': 0.28001989658502474, 'ASSETNUM': 0.2662539406764113, 'assetnum_description': 0.09629542745973324, 'STATUS': 0.04649010022058706, 'location_description': 0.023479858215937448}}
2025-05-08 10:31:03,204 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-08 10:31:03,253 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9567307692307693, 'Precision': 0.7941176470588235, 'Recall': 0.9310344827586207, 'F1 Score': 0.8571428571428571, 'ROC AUC': np.float64(0.9688884607975343)}
2025-05-08 10:31:03,254 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.96      0.97       179
           1       0.79      0.93      0.86        29

    accuracy                           0.96       208
   macro avg       0.89      0.95      0.92       208
weighted avg       0.96      0.96      0.96       208

2025-05-08 10:31:03,254 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-08 10:31:03,887 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-08 10:31:15,380 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-08 10:31:15,407 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 534.25 KB
2025-05-08 10:31:15,407 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9567307692307693
2025-05-08 10:31:15,409 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-08 10:31:15,409 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-08 10:31:15,410 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-08 10:31:15,418 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-08 10:31:15,423 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-08 10:31:15,438 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-08 10:31:15,439 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-08 10:31:15,440 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 10:31:15,442 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T10:31:15.441497', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-08 10:31:15,449 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-08 10:31:15,451 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-08 10:31:15,475 - RandomForestFaultDetector - INFO - Probabilités de base: [0.98 0.02]
2025-05-08 10:31:15,479 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 42.00%, Score de risque: 0.2
2025-05-08 10:31:15,482 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 10:31:15,484 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '58.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '58.00%', 'panne': '42.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T10:31:15.484642', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-08 10:31:15,489 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-08 10:31:15,490 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-08 10:31:15,497 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-08 10:31:15,503 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-08 10:31:15,535 - RandomForestFaultDetector - INFO - Probabilités de base: [0.96 0.04]
2025-05-08 10:31:15,535 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-08 10:31:15,539 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 10:31:15,540 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T10:31:15.539595', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-08 10:32:53,331 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-08 10:32:53,331 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-08 10:32:53,333 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-08 10:32:53,443 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-08 10:32:53,443 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-08 10:32:53,495 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-08 10:32:53,495 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-08 10:32:53,566 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-08 10:32:53,603 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-08 10:32:53,619 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-08 10:32:53,623 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-08 10:32:53,624 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-08 10:32:53,626 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-08 10:32:53,627 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-08 10:32:53,631 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-08 10:32:53,632 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-08 10:32:53,645 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-08 10:32:53,665 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-08 10:32:53,680 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-08 10:32:53,690 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-08 10:32:53,697 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-08 10:32:53,704 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-08 10:32:53,704 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-08 10:32:54,171 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-08 10:32:54,210 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-08 10:32:54,210 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-08 10:32:54,315 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-08 10:32:54,315 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-08 10:32:54,317 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-08 10:32:54,757 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-08 10:32:56,539 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-08 10:32:56,558 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-08 10:32:56,559 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-08 10:32:56,564 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-08 10:32:56,564 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-08 10:32:56,565 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-08 10:32:56,574 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-08 10:32:56,580 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-08 10:32:56,615 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-08 10:32:56,615 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-08 10:32:56,617 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 10:32:56,618 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T10:32:56.618904', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-08 10:32:56,628 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-08 10:32:56,632 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-08 10:32:56,664 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-08 10:32:56,664 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 40.00%, Score de risque: 0.2
2025-05-08 10:32:56,668 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 10:32:56,676 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '60.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '60.00%', 'panne': '40.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T10:32:56.674230', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-08 10:32:56,680 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-08 10:32:56,680 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-08 10:32:56,698 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-08 10:32:56,703 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-08 10:32:56,731 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-08 10:32:56,733 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-08 10:32:56,735 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 10:32:56,736 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T10:32:56.736250', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-08 13:41:46,849 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-08 13:41:46,851 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-08 13:41:46,852 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-08 13:41:46,998 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-08 13:41:47,000 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-08 13:41:47,066 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-08 13:41:47,067 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-08 13:41:47,122 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-08 13:41:47,154 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-08 13:41:47,179 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-08 13:41:47,180 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-08 13:41:47,180 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-08 13:41:47,181 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-08 13:41:47,182 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-08 13:41:47,191 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-08 13:41:47,198 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-08 13:41:47,205 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-08 13:41:47,209 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-08 13:41:47,214 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-08 13:41:47,219 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-08 13:41:47,225 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-08 13:41:47,236 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-08 13:41:47,237 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-08 13:41:47,464 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-08 13:41:47,487 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-08 13:41:47,489 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-08 13:41:47,559 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-08 13:41:47,560 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-08 13:41:47,560 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-08 13:41:49,644 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-08 13:41:51,400 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-08 13:41:51,423 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-08 13:41:51,425 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-08 13:41:51,426 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-08 13:41:51,427 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-08 13:41:51,427 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-08 13:41:51,438 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-08 13:41:51,446 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-08 13:41:51,466 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-08 13:41:51,466 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-08 13:41:51,467 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 13:41:51,479 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T13:41:51.468699', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-08 13:41:51,483 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-08 13:41:51,487 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-08 13:41:51,550 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-08 13:41:51,565 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 40.00%, Score de risque: 0.2
2025-05-08 13:41:51,574 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 13:41:51,583 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '60.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '60.00%', 'panne': '40.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T13:41:51.583764', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-08 13:41:51,708 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-08 13:41:51,712 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-08 13:41:51,720 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-08 13:41:51,727 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-08 13:41:51,787 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-08 13:41:51,829 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-08 13:41:51,885 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-08 13:41:51,886 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-08T13:41:51.885066', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-10 12:39:52,026 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-10 12:39:52,028 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-10 12:39:52,028 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-10 12:39:52,150 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-10 12:39:52,152 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-10 12:39:52,231 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-10 12:39:52,232 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-10 12:39:52,295 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-10 12:39:52,320 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-10 12:39:52,333 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-10 12:39:52,334 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-10 12:39:52,337 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-10 12:39:52,338 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-10 12:39:52,339 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-10 12:39:52,346 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-10 12:39:52,350 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-10 12:39:52,356 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-10 12:39:52,363 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-10 12:39:52,371 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-10 12:39:52,377 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-10 12:39:52,384 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-10 12:39:52,399 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-10 12:39:52,401 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-10 12:39:52,618 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-10 12:39:52,641 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-10 12:39:52,642 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-10 12:39:52,705 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-10 12:39:52,706 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-10 12:39:52,706 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-10 12:39:54,269 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-10 12:39:56,585 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-10 12:39:56,610 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-10 12:39:56,610 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-10 12:39:56,613 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-10 12:39:56,614 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-10 12:39:56,615 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-10 12:39:56,622 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-10 12:39:56,625 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-10 12:39:56,645 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-10 12:39:56,646 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-10 12:39:56,648 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-10 12:39:56,653 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-10T12:39:56.649197', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-10 12:39:56,658 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-10 12:39:56,662 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-10 12:39:56,680 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-10 12:39:56,680 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 40.00%, Score de risque: 0.2
2025-05-10 12:39:56,682 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-10 12:39:56,683 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '60.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '60.00%', 'panne': '40.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-10T12:39:56.683850', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-10 12:39:56,685 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-10 12:39:56,685 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-10 12:39:56,689 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-10 12:39:56,693 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-10 12:39:56,711 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-10 12:39:56,712 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-10 12:39:56,714 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-10 12:39:56,716 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-10T12:39:56.714713', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-10 12:48:17,865 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-10 12:48:17,868 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-10 12:48:17,868 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-10 12:48:17,968 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-10 12:48:17,968 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-10 12:48:18,033 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-10 12:48:18,033 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-10 12:48:18,084 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-10 12:48:18,117 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-10 12:48:18,129 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-10 12:48:18,129 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-10 12:48:18,130 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-10 12:48:18,132 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-10 12:48:18,132 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-10 12:48:18,139 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-10 12:48:18,145 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-10 12:48:18,152 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-10 12:48:18,158 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-10 12:48:18,164 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-10 12:48:18,168 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-10 12:48:18,175 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-10 12:48:18,187 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-10 12:48:18,189 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-10 12:48:18,438 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-10 12:48:18,462 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-10 12:48:18,463 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-10 12:48:18,525 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-10 12:48:18,526 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-10 12:48:18,527 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-10 12:48:19,195 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-10 12:48:21,865 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-10 12:48:21,887 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-10 12:48:21,889 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-10 12:48:21,890 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-10 12:48:21,891 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-10 12:48:21,892 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-10 12:48:21,899 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-10 12:48:21,907 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-10 12:48:21,943 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-10 12:48:21,944 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 9.2
2025-05-10 12:48:21,946 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-10 12:48:21,952 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-10T12:48:21.946839', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-10 12:48:21,961 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-10 12:48:21,965 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-10 12:48:22,014 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-10 12:48:22,018 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 60.00%, Score de risque: 0.2
2025-05-10 12:48:22,026 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-10 12:48:22,028 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '60.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '40.00%', 'panne': '60.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-10T12:48:22.027020', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-10 12:48:22,031 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-10 12:48:22,032 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-10 12:48:22,040 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-10 12:48:22,048 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-10 12:48:22,082 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-10 12:48:22,083 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 5.7
2025-05-10 12:48:22,085 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-10 12:48:22,087 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-10T12:48:22.086616', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-10 13:26:16,693 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-10 13:26:16,694 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-10 13:26:16,694 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-10 13:26:16,777 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-10 13:26:16,778 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-10 13:26:16,819 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-10 13:26:16,819 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-10 13:26:16,858 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-10 13:26:16,884 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-10 13:26:16,897 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-10 13:26:16,898 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-10 13:26:16,898 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-10 13:26:16,899 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-10 13:26:16,900 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-10 13:26:16,904 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 596, 1: 97}
2025-05-10 13:26:16,908 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-10 13:26:16,912 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-10 13:26:16,916 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-10 13:26:16,921 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-10 13:26:16,925 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-10 13:26:16,930 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-10 13:26:16,944 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-10 13:26:16,946 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-10 13:26:17,148 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-10 13:26:17,166 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.3421163527294227, 'Description': 0.2848546979770887, 'LOCATION': 0.26613591100448725, 'assetnum_description': 0.08949109987363162, 'location_description': 0.01740193841536981}}
2025-05-10 13:26:17,166 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-10 13:26:17,218 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9855769230769231, 'Precision': 0.9333333333333333, 'Recall': 0.9655172413793104, 'F1 Score': 0.9491525423728814, 'ROC AUC': np.float64(0.9787131573877865)}
2025-05-10 13:26:17,219 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.99      0.99       179
           1       0.93      0.97      0.95        29

    accuracy                           0.99       208
   macro avg       0.96      0.98      0.97       208
weighted avg       0.99      0.99      0.99       208

2025-05-10 13:26:17,219 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-10 13:26:17,716 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-10 13:26:25,551 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-10 13:26:25,566 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 550.78 KB
2025-05-10 13:26:25,567 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9855769230769231
2025-05-10 13:26:25,570 - RandomForestFaultDetector - INFO - Données d'entrée pour la prédiction: {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-10 13:26:25,571 - RandomForestFaultDetector - INFO - Analyse de la description: machine stopped due to overheating
2025-05-10 13:26:25,571 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped, score actuel: 3.5
2025-05-10 13:26:25,573 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating, score actuel: 6.5
2025-05-10 13:26:25,574 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine, score actuel: 9.5
2025-05-10 13:26:25,575 - RandomForestFaultDetector - INFO - Bonus pour mots-clés multiples: +4.0, score total: 13.5
2025-05-10 13:26:25,584 - RandomForestFaultDetector - INFO - Features préparées pour la prédiction: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}
2025-05-10 13:26:25,584 - RandomForestFaultDetector - INFO - Score de risque très élevé (13.5), déclenchement direct de la panne
2025-05-10 13:26:25,585 - RandomForestFaultDetector - INFO - Décision directe: Panne avec probabilité 95.00%
2025-05-10 13:26:25,586 - RandomForestFaultDetector - INFO - Diagnostic final: En panne, avec confiance: 95.00%
2025-05-10 13:26:25,586 - RandomForestFaultDetector - INFO - Facteurs de risque identifiés: ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés (3): stopped, overheating, machine...']
2025-05-10 13:26:25,593 - RandomForestFaultDetector - INFO - Résultat final de la prédiction: En panne
2025-05-10 13:26:25,596 - RandomForestFaultDetector - INFO - Données d'entrée pour la prédiction: {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-10 13:26:25,597 - RandomForestFaultDetector - INFO - Analyse de la description: regular maintenance check
2025-05-10 13:26:25,597 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: maintenance, score actuel: 3.5
2025-05-10 13:26:25,601 - RandomForestFaultDetector - INFO - Features préparées pour la prédiction: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}
2025-05-10 13:26:25,631 - RandomForestFaultDetector - INFO - Probabilités brutes du modèle: [0.97 0.03]
2025-05-10 13:26:25,632 - RandomForestFaultDetector - INFO - Probabilité finale après ajustement: 38.00%
2025-05-10 13:26:25,633 - RandomForestFaultDetector - INFO - Diagnostic final: Fonctionnel, avec confiance: 62.00%
2025-05-10 13:26:25,633 - RandomForestFaultDetector - INFO - Facteurs de risque identifiés: ['Mot-clé détecté: maintenance']
2025-05-10 13:26:25,633 - RandomForestFaultDetector - INFO - Résultat final de la prédiction: Fonctionnel
2025-05-10 13:26:25,635 - RandomForestFaultDetector - INFO - Données d'entrée pour la prédiction: {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-10 13:26:25,636 - RandomForestFaultDetector - INFO - Analyse de la description: equipment malfunction detected
2025-05-10 13:26:25,636 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction, score actuel: 3.5
2025-05-10 13:26:25,637 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment, score actuel: 6.5
2025-05-10 13:26:25,638 - RandomForestFaultDetector - INFO - Bonus pour mots-clés multiples: +2.0, score total: 8.5
2025-05-10 13:26:25,641 - RandomForestFaultDetector - INFO - Features préparées pour la prédiction: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}
2025-05-10 13:26:25,643 - RandomForestFaultDetector - INFO - Score de risque très élevé (8.5), déclenchement direct de la panne
2025-05-10 13:26:25,645 - RandomForestFaultDetector - INFO - Décision directe: Panne avec probabilité 95.00%
2025-05-10 13:26:25,646 - RandomForestFaultDetector - INFO - Diagnostic final: En panne, avec confiance: 95.00%
2025-05-10 13:26:25,647 - RandomForestFaultDetector - INFO - Facteurs de risque identifiés: ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés (2): malfunction, equipment...']
2025-05-10 13:26:25,648 - RandomForestFaultDetector - INFO - Résultat final de la prédiction: En panne
2025-05-10 13:38:00,265 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-10 13:38:00,268 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-10 13:38:00,268 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-10 13:38:00,331 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-10 13:38:00,332 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-10 13:38:00,363 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-10 13:38:00,364 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-10 13:38:00,390 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-10 13:38:00,409 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-10 13:38:00,419 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-10 13:38:00,419 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-10 13:38:00,419 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-10 13:38:00,420 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-10 13:38:00,420 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-10 13:38:00,424 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 596, 1: 97}
2025-05-10 13:38:00,427 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-10 13:38:00,431 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-10 13:38:00,433 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-10 13:38:00,436 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-10 13:38:00,439 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-10 13:38:00,442 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-10 13:38:00,449 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-10 13:38:00,450 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-10 13:38:00,579 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-10 13:38:00,602 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.3421163527294227, 'Description': 0.2848546979770887, 'LOCATION': 0.26613591100448725, 'assetnum_description': 0.08949109987363162, 'location_description': 0.01740193841536981}}
2025-05-10 13:38:00,603 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-10 13:38:00,677 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9855769230769231, 'Precision': 0.9333333333333333, 'Recall': 0.9655172413793104, 'F1 Score': 0.9491525423728814, 'ROC AUC': np.float64(0.9787131573877865)}
2025-05-10 13:38:00,677 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.99      0.99       179
           1       0.93      0.97      0.95        29

    accuracy                           0.99       208
   macro avg       0.96      0.98      0.97       208
weighted avg       0.99      0.99      0.99       208

2025-05-10 13:38:00,678 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-10 13:38:01,272 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-10 13:38:04,285 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-10 13:38:04,317 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 550.78 KB
2025-05-10 13:38:04,318 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9855769230769231
2025-05-10 13:38:04,319 - RandomForestFaultDetector - INFO - Données d'entrée pour la prédiction: {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-10 13:38:04,319 - RandomForestFaultDetector - INFO - Analyse de la description: machine stopped due to overheating
2025-05-10 13:38:04,319 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped, score actuel: 3.5
2025-05-10 13:38:04,320 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating, score actuel: 6.5
2025-05-10 13:38:04,320 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine, score actuel: 9.5
2025-05-10 13:38:04,321 - RandomForestFaultDetector - INFO - Bonus pour mots-clés multiples: +4.0, score total: 13.5
2025-05-10 13:38:04,326 - RandomForestFaultDetector - INFO - Features préparées pour la prédiction: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}
2025-05-10 13:38:04,326 - RandomForestFaultDetector - INFO - Score de risque très élevé (13.5), déclenchement direct de la panne
2025-05-10 13:38:04,327 - RandomForestFaultDetector - INFO - Décision directe: Panne avec probabilité 95.00%
2025-05-10 13:38:04,328 - RandomForestFaultDetector - INFO - Diagnostic final: En panne, avec confiance: 95.00%
2025-05-10 13:38:04,330 - RandomForestFaultDetector - INFO - Facteurs de risque identifiés: ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés (3): stopped, overheating, machine...']
2025-05-10 13:38:04,333 - RandomForestFaultDetector - INFO - Résultat final de la prédiction: En panne
2025-05-10 13:38:04,336 - RandomForestFaultDetector - INFO - Données d'entrée pour la prédiction: {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-10 13:38:04,336 - RandomForestFaultDetector - INFO - Analyse de la description: regular maintenance check
2025-05-10 13:38:04,337 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: maintenance, score actuel: 3.5
2025-05-10 13:38:04,338 - RandomForestFaultDetector - INFO - Features préparées pour la prédiction: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}
2025-05-10 13:38:04,362 - RandomForestFaultDetector - INFO - Probabilités brutes du modèle: [0.97 0.03]
2025-05-10 13:38:04,365 - RandomForestFaultDetector - INFO - Probabilité finale après ajustement: 38.00%
2025-05-10 13:38:04,366 - RandomForestFaultDetector - INFO - Diagnostic final: Fonctionnel, avec confiance: 62.00%
2025-05-10 13:38:04,366 - RandomForestFaultDetector - INFO - Facteurs de risque identifiés: ['Mot-clé détecté: maintenance']
2025-05-10 13:38:04,367 - RandomForestFaultDetector - INFO - Résultat final de la prédiction: Fonctionnel
2025-05-10 13:38:04,369 - RandomForestFaultDetector - INFO - Données d'entrée pour la prédiction: {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-10 13:38:04,369 - RandomForestFaultDetector - INFO - Analyse de la description: equipment malfunction detected
2025-05-10 13:38:04,370 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction, score actuel: 3.5
2025-05-10 13:38:04,370 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment, score actuel: 6.5
2025-05-10 13:38:04,371 - RandomForestFaultDetector - INFO - Bonus pour mots-clés multiples: +2.0, score total: 8.5
2025-05-10 13:38:04,374 - RandomForestFaultDetector - INFO - Features préparées pour la prédiction: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}
2025-05-10 13:38:04,374 - RandomForestFaultDetector - INFO - Score de risque très élevé (8.5), déclenchement direct de la panne
2025-05-10 13:38:04,375 - RandomForestFaultDetector - INFO - Décision directe: Panne avec probabilité 95.00%
2025-05-10 13:38:04,375 - RandomForestFaultDetector - INFO - Diagnostic final: En panne, avec confiance: 95.00%
2025-05-10 13:38:04,376 - RandomForestFaultDetector - INFO - Facteurs de risque identifiés: ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés (2): malfunction, equipment...']
2025-05-10 13:38:04,377 - RandomForestFaultDetector - INFO - Résultat final de la prédiction: En panne
2025-05-10 21:10:50,473 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-10 21:13:02,547 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-10 21:13:02,548 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'WOPRIORITY', 'STATUS', 'EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 21:13:02,550 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-10 21:13:02,568 - RandomForestFaultDetector - INFO - Données chargées: 131 enregistrements
2025-05-10 21:13:02,568 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-10 21:13:02,600 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-10 21:13:02,601 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-10 21:13:02,606 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: You are trying to merge on int64 and object columns for key 'ASSETNUM'. If you wish to proceed you should use pd.concat
2025-05-10 21:13:02,610 - RandomForestFaultDetector - INFO - Génération de la feature synthétique EQUIPMENT_AGE
2025-05-10 21:13:02,614 - RandomForestFaultDetector - INFO - Génération de la feature synthétique MAINTENANCE_FREQUENCY
2025-05-10 21:13:02,617 - RandomForestFaultDetector - INFO - Features disponibles: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 21:13:02,655 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 15 valeurs uniques
2025-05-10 21:13:02,658 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 27 valeurs uniques
2025-05-10 21:13:02,659 - RandomForestFaultDetector - INFO - Catégories pour Description: 94 valeurs uniques
2025-05-10 21:13:02,659 - RandomForestFaultDetector - INFO - Catégories pour location_description: 6 valeurs uniques
2025-05-10 21:13:02,659 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 1 valeurs uniques
2025-05-10 21:13:02,664 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 107, 1: 24}
2025-05-10 21:13:02,668 - RandomForestFaultDetector - INFO - Types de pannes: {'AUCUNE': 125, 'ARRET': 2, 'USURE': 1, 'SURCHAUFFE': 1, 'FUITE': 1, 'DYSFONCTIONNEMENT': 1}
2025-05-10 21:13:02,668 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-10 21:13:02,674 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 15 classes
2025-05-10 21:13:02,678 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 27 classes
2025-05-10 21:13:02,681 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 94 classes
2025-05-10 21:13:02,684 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-10 21:13:02,687 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-10 21:13:02,697 - RandomForestFaultDetector - INFO - Normalisation des features numériques: ['EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 21:13:02,709 - RandomForestFaultDetector - INFO - Données divisées: 91 échantillons d'entraînement, 40 échantillons de test
2025-05-10 21:13:02,709 - RandomForestFaultDetector - INFO - Application de SMOTE pour équilibrer les classes
2025-05-10 21:13:02,727 - RandomForestFaultDetector - INFO - Après SMOTE: 148 échantillons d'entraînement
2025-05-10 21:13:02,728 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-10 21:13:02,729 - RandomForestFaultDetector - INFO - Optimisation des hyperparamètres avec GridSearchCV
2025-05-10 21:16:08,612 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-10 21:16:08,612 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'WOPRIORITY', 'STATUS', 'EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 21:16:08,613 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-10 21:16:08,615 - RandomForestFaultDetector - INFO - Données chargées: 131 enregistrements
2025-05-10 21:16:08,616 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-10 21:16:08,621 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-10 21:16:08,622 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-10 21:16:08,625 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: You are trying to merge on int64 and object columns for key 'ASSETNUM'. If you wish to proceed you should use pd.concat
2025-05-10 21:16:08,626 - RandomForestFaultDetector - INFO - Génération de la feature synthétique EQUIPMENT_AGE
2025-05-10 21:16:08,626 - RandomForestFaultDetector - INFO - Génération de la feature synthétique MAINTENANCE_FREQUENCY
2025-05-10 21:16:08,627 - RandomForestFaultDetector - INFO - Features disponibles: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 21:16:08,649 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 15 valeurs uniques
2025-05-10 21:16:08,649 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 27 valeurs uniques
2025-05-10 21:16:08,650 - RandomForestFaultDetector - INFO - Catégories pour Description: 94 valeurs uniques
2025-05-10 21:16:08,650 - RandomForestFaultDetector - INFO - Catégories pour location_description: 6 valeurs uniques
2025-05-10 21:16:08,651 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 1 valeurs uniques
2025-05-10 21:16:08,652 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 107, 1: 24}
2025-05-10 21:16:08,655 - RandomForestFaultDetector - INFO - Types de pannes: {'AUCUNE': 125, 'ARRET': 2, 'USURE': 1, 'SURCHAUFFE': 1, 'FUITE': 1, 'DYSFONCTIONNEMENT': 1}
2025-05-10 21:16:08,655 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-10 21:16:08,658 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 15 classes
2025-05-10 21:16:08,660 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 27 classes
2025-05-10 21:16:08,661 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 94 classes
2025-05-10 21:16:08,664 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-10 21:16:08,666 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-10 21:16:08,671 - RandomForestFaultDetector - INFO - Normalisation des features numériques: ['EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 21:16:08,674 - RandomForestFaultDetector - INFO - Données divisées: 91 échantillons d'entraînement, 40 échantillons de test
2025-05-10 21:16:08,674 - RandomForestFaultDetector - INFO - Application de SMOTE pour équilibrer les classes
2025-05-10 21:16:08,683 - RandomForestFaultDetector - INFO - Après SMOTE: 148 échantillons d'entraînement
2025-05-10 21:16:08,683 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-10 21:16:08,683 - RandomForestFaultDetector - INFO - Optimisation des hyperparamètres avec GridSearchCV
2025-05-10 21:16:24,905 - RandomForestFaultDetector - INFO - Meilleurs paramètres trouvés: {'max_depth': None, 'min_samples_leaf': 1, 'min_samples_split': 5, 'n_estimators': 200}
2025-05-10 21:16:25,192 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-10 21:16:25,213 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.35480165086615717, 'EQUIPMENT_AGE': 0.20161016575806648, 'LOCATION': 0.19123746082319856, 'ASSETNUM': 0.1705523521713443, 'location_description': 0.08179837038123353, 'assetnum_description': 0.0, 'MAINTENANCE_FREQUENCY': 0.0}}
2025-05-10 21:16:26,669 - RandomForestFaultDetector - INFO - Importance par permutation: {'Mean Importance': {'Description': 0.2108108108108108, 'LOCATION': 0.13445945945945947, 'EQUIPMENT_AGE': 0.10405405405405403, 'ASSETNUM': 0.07027027027027029, 'location_description': 0.04932432432432432, 'assetnum_description': 0.0, 'MAINTENANCE_FREQUENCY': 0.0}}
2025-05-10 21:16:26,670 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-10 21:16:26,733 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.7, 'Precision': 0.14285714285714285, 'Recall': 0.14285714285714285, 'F1 Score': 0.14285714285714285, 'ROC AUC': np.float64(0.4805194805194805)}
2025-05-10 21:16:26,733 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.82      0.82      0.82        33
           1       0.14      0.14      0.14         7

    accuracy                           0.70        40
   macro avg       0.48      0.48      0.48        40
weighted avg       0.70      0.70      0.70        40

2025-05-10 21:16:26,733 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-10 21:16:29,525 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-10 21:16:36,922 - RandomForestFaultDetector - INFO - Génération de la courbe ROC
2025-05-10 21:23:58,764 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-10 21:23:58,764 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'WOPRIORITY', 'STATUS', 'EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 21:23:58,765 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-10 21:23:58,771 - RandomForestFaultDetector - INFO - Données chargées: 131 enregistrements
2025-05-10 21:23:58,772 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-10 21:23:58,787 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-10 21:23:58,803 - RandomForestFaultDetector - INFO - Génération de la feature synthétique EQUIPMENT_AGE
2025-05-10 21:23:58,806 - RandomForestFaultDetector - INFO - Génération de la feature synthétique MAINTENANCE_FREQUENCY
2025-05-10 21:23:58,811 - RandomForestFaultDetector - INFO - Features disponibles: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 21:23:58,845 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 15 valeurs uniques
2025-05-10 21:23:58,846 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 27 valeurs uniques
2025-05-10 21:23:58,846 - RandomForestFaultDetector - INFO - Catégories pour Description: 94 valeurs uniques
2025-05-10 21:23:58,848 - RandomForestFaultDetector - INFO - Catégories pour location_description: 6 valeurs uniques
2025-05-10 21:23:58,848 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 24 valeurs uniques
2025-05-10 21:23:58,853 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 107, 1: 24}
2025-05-10 21:23:58,859 - RandomForestFaultDetector - INFO - Types de pannes: {'AUCUNE': 125, 'ARRET': 2, 'USURE': 1, 'SURCHAUFFE': 1, 'FUITE': 1, 'DYSFONCTIONNEMENT': 1}
2025-05-10 21:23:58,860 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-10 21:23:58,868 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 15 classes
2025-05-10 21:23:58,924 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 27 classes
2025-05-10 21:23:58,950 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 94 classes
2025-05-10 21:23:58,969 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-10 21:23:58,972 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 24 classes
2025-05-10 21:23:58,985 - RandomForestFaultDetector - INFO - Normalisation des features numériques: ['EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 21:23:59,005 - RandomForestFaultDetector - INFO - Données divisées: 91 échantillons d'entraînement, 40 échantillons de test
2025-05-10 21:23:59,007 - RandomForestFaultDetector - INFO - Application de SMOTE avec paramètres optimisés
2025-05-10 21:23:59,027 - RandomForestFaultDetector - INFO - Après SMOTE: 148 échantillons d'entraînement
2025-05-10 21:23:59,027 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-10 21:23:59,030 - RandomForestFaultDetector - INFO - Optimisation des hyperparamètres avec GridSearchCV
2025-05-10 21:24:15,718 - RandomForestFaultDetector - INFO - Meilleurs paramètres trouvés: {'max_depth': 10, 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 200}
2025-05-10 21:24:16,442 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-10 21:24:16,468 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.3595050902969028, 'LOCATION': 0.17579205801737746, 'EQUIPMENT_AGE': 0.16914087202649067, 'ASSETNUM': 0.14243299253098893, 'assetnum_description': 0.11464538306976778, 'location_description': 0.03848360405847224, 'MAINTENANCE_FREQUENCY': 0.0}}
2025-05-10 21:24:19,553 - RandomForestFaultDetector - INFO - Importance par permutation: {'Mean Importance': {'Description': 0.20135135135135132, 'LOCATION': 0.12432432432432428, 'EQUIPMENT_AGE': 0.10878378378378373, 'ASSETNUM': 0.079054054054054, 'assetnum_description': 0.04121621621621615, 'location_description': 0.00810810810810807, 'MAINTENANCE_FREQUENCY': 0.0}}
2025-05-10 21:24:19,553 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-10 21:24:19,597 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.675, 'Precision': 0.125, 'Recall': 0.14285714285714285, 'F1 Score': 0.13333333333333333, 'ROC AUC': np.float64(0.48051948051948057)}
2025-05-10 21:24:19,597 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.81      0.79      0.80        33
           1       0.12      0.14      0.13         7

    accuracy                           0.68        40
   macro avg       0.47      0.47      0.47        40
weighted avg       0.69      0.68      0.68        40

2025-05-10 21:26:21,205 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-10 21:26:21,207 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'WOPRIORITY', 'STATUS', 'EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 21:26:21,208 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-10 21:26:21,212 - RandomForestFaultDetector - INFO - Données chargées: 131 enregistrements
2025-05-10 21:26:21,212 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-10 21:26:21,224 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-10 21:26:21,230 - RandomForestFaultDetector - INFO - Génération de la feature synthétique EQUIPMENT_AGE
2025-05-10 21:26:21,232 - RandomForestFaultDetector - INFO - Génération de la feature synthétique MAINTENANCE_FREQUENCY
2025-05-10 21:26:21,237 - RandomForestFaultDetector - INFO - Features disponibles: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 21:26:21,278 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 15 valeurs uniques
2025-05-10 21:26:21,279 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 27 valeurs uniques
2025-05-10 21:26:21,280 - RandomForestFaultDetector - INFO - Catégories pour Description: 94 valeurs uniques
2025-05-10 21:26:21,281 - RandomForestFaultDetector - INFO - Catégories pour location_description: 6 valeurs uniques
2025-05-10 21:26:21,281 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 24 valeurs uniques
2025-05-10 21:26:21,290 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 107, 1: 24}
2025-05-10 21:26:21,295 - RandomForestFaultDetector - INFO - Types de pannes: {'AUCUNE': 125, 'ARRET': 2, 'USURE': 1, 'SURCHAUFFE': 1, 'FUITE': 1, 'DYSFONCTIONNEMENT': 1}
2025-05-10 21:26:21,296 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-10 21:26:21,298 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 15 classes
2025-05-10 21:26:21,305 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 27 classes
2025-05-10 21:26:21,309 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 94 classes
2025-05-10 21:26:21,314 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-10 21:26:21,320 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 24 classes
2025-05-10 21:26:21,330 - RandomForestFaultDetector - INFO - Normalisation des features numériques: ['EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 21:26:21,340 - RandomForestFaultDetector - INFO - Données divisées: 91 échantillons d'entraînement, 40 échantillons de test
2025-05-10 21:26:21,340 - RandomForestFaultDetector - INFO - Application de SMOTE avec paramètres optimisés
2025-05-10 21:26:21,360 - RandomForestFaultDetector - INFO - Après SMOTE: 148 échantillons d'entraînement
2025-05-10 21:26:21,362 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-10 21:26:21,363 - RandomForestFaultDetector - INFO - Optimisation des hyperparamètres avec GridSearchCV
2025-05-10 21:26:41,532 - RandomForestFaultDetector - INFO - Meilleurs paramètres trouvés: {'max_depth': None, 'min_samples_leaf': 1, 'min_samples_split': 2, 'n_estimators': 200}
2025-05-10 21:26:41,995 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-10 21:26:42,017 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.39380682261238154, 'LOCATION': 0.17647786423086062, 'ASSETNUM': 0.13526466819693958, 'EQUIPMENT_AGE': 0.12690989452592596, 'assetnum_description': 0.12470781187041854, 'location_description': 0.04283293856347381, 'MAINTENANCE_FREQUENCY': 0.0}}
2025-05-10 21:26:43,920 - RandomForestFaultDetector - INFO - Importance par permutation: {'Mean Importance': {'Description': 0.21756756756756754, 'LOCATION': 0.1493243243243243, 'EQUIPMENT_AGE': 0.10945945945945938, 'assetnum_description': 0.04797297297297293, 'ASSETNUM': 0.039864864864864825, 'location_description': 0.010135135135135087, 'MAINTENANCE_FREQUENCY': 0.0}}
2025-05-10 21:26:43,922 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-10 21:26:43,993 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.675, 'Precision': 0.125, 'Recall': 0.14285714285714285, 'F1 Score': 0.13333333333333333, 'ROC AUC': np.float64(0.5129870129870129)}
2025-05-10 21:26:44,005 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.81      0.79      0.80        33
           1       0.12      0.14      0.13         7

    accuracy                           0.68        40
   macro avg       0.47      0.47      0.47        40
weighted avg       0.69      0.68      0.68        40

2025-05-10 21:26:44,005 - RandomForestFaultDetector - INFO - Génération de la courbe ROC
2025-05-10 21:28:23,576 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-10 21:28:23,578 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'WOPRIORITY', 'STATUS', 'EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 21:28:23,579 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-10 21:28:23,584 - RandomForestFaultDetector - INFO - Données chargées: 131 enregistrements
2025-05-10 21:28:23,584 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-10 21:28:23,592 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-10 21:28:23,603 - RandomForestFaultDetector - INFO - Génération de la feature synthétique EQUIPMENT_AGE
2025-05-10 21:28:23,605 - RandomForestFaultDetector - INFO - Génération de la feature synthétique MAINTENANCE_FREQUENCY
2025-05-10 21:28:23,608 - RandomForestFaultDetector - INFO - Features disponibles: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 21:28:23,638 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 15 valeurs uniques
2025-05-10 21:28:23,639 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 27 valeurs uniques
2025-05-10 21:28:23,640 - RandomForestFaultDetector - INFO - Catégories pour Description: 94 valeurs uniques
2025-05-10 21:28:23,640 - RandomForestFaultDetector - INFO - Catégories pour location_description: 6 valeurs uniques
2025-05-10 21:28:23,640 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 24 valeurs uniques
2025-05-10 21:28:23,646 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 107, 1: 24}
2025-05-10 21:28:23,652 - RandomForestFaultDetector - INFO - Types de pannes: {'AUCUNE': 125, 'ARRET': 2, 'USURE': 1, 'SURCHAUFFE': 1, 'FUITE': 1, 'DYSFONCTIONNEMENT': 1}
2025-05-10 21:28:23,652 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-10 21:28:23,655 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 15 classes
2025-05-10 21:28:23,658 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 27 classes
2025-05-10 21:28:23,660 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 94 classes
2025-05-10 21:28:23,667 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-10 21:28:23,670 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 24 classes
2025-05-10 21:28:23,677 - RandomForestFaultDetector - INFO - Normalisation des features numériques: ['EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 21:28:23,685 - RandomForestFaultDetector - INFO - Données divisées: 91 échantillons d'entraînement, 40 échantillons de test
2025-05-10 21:28:23,686 - RandomForestFaultDetector - INFO - Application de SMOTE avec paramètres optimisés
2025-05-10 21:28:23,699 - RandomForestFaultDetector - INFO - Après SMOTE: 148 échantillons d'entraînement
2025-05-10 21:28:23,701 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-10 21:28:23,702 - RandomForestFaultDetector - INFO - Optimisation des hyperparamètres avec GridSearchCV
2025-05-10 21:28:45,282 - RandomForestFaultDetector - INFO - Meilleurs paramètres trouvés: {'max_depth': None, 'min_samples_leaf': 2, 'min_samples_split': 5, 'n_estimators': 200}
2025-05-10 21:28:46,589 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-10 21:28:47,094 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.2713158036763572, 'EQUIPMENT_AGE': 0.19747871242179738, 'LOCATION': 0.18960601360575813, 'ASSETNUM': 0.16292219122383172, 'assetnum_description': 0.13639108311537804, 'location_description': 0.04228619595687754, 'MAINTENANCE_FREQUENCY': 0.0}}
2025-05-10 21:28:50,799 - RandomForestFaultDetector - INFO - Importance par permutation: {'Mean Importance': {'Description': 0.12229729729729735, 'LOCATION': 0.11283783783783789, 'EQUIPMENT_AGE': 0.10878378378378384, 'ASSETNUM': 0.047972972972973024, 'location_description': 0.029054054054054125, 'assetnum_description': 0.008108108108108159, 'MAINTENANCE_FREQUENCY': 0.0}}
2025-05-10 21:28:50,800 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-10 21:28:50,844 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.7, 'Precision': 0.14285714285714285, 'Recall': 0.14285714285714285, 'F1 Score': 0.14285714285714285, 'ROC AUC': np.float64(0.40692640692640686)}
2025-05-10 21:28:50,851 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.82      0.82      0.82        33
           1       0.14      0.14      0.14         7

    accuracy                           0.70        40
   macro avg       0.48      0.48      0.48        40
weighted avg       0.70      0.70      0.70        40

2025-05-10 21:28:50,851 - RandomForestFaultDetector - INFO - Génération de la courbe ROC
2025-05-10 21:28:57,608 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-10 21:30:01,456 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-10 21:30:01,456 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'WOPRIORITY', 'STATUS', 'EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 21:30:01,458 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-10 21:30:01,462 - RandomForestFaultDetector - INFO - Données chargées: 131 enregistrements
2025-05-10 21:30:01,462 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-10 21:30:01,477 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-10 21:30:01,483 - RandomForestFaultDetector - INFO - Génération de la feature synthétique EQUIPMENT_AGE
2025-05-10 21:30:01,484 - RandomForestFaultDetector - INFO - Génération de la feature synthétique MAINTENANCE_FREQUENCY
2025-05-10 21:30:01,488 - RandomForestFaultDetector - INFO - Features disponibles: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 21:30:01,516 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 15 valeurs uniques
2025-05-10 21:30:01,516 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 27 valeurs uniques
2025-05-10 21:30:01,516 - RandomForestFaultDetector - INFO - Catégories pour Description: 94 valeurs uniques
2025-05-10 21:30:01,516 - RandomForestFaultDetector - INFO - Catégories pour location_description: 6 valeurs uniques
2025-05-10 21:30:01,516 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 24 valeurs uniques
2025-05-10 21:30:01,527 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 107, 1: 24}
2025-05-10 21:30:01,531 - RandomForestFaultDetector - INFO - Types de pannes: {'AUCUNE': 125, 'ARRET': 2, 'USURE': 1, 'SURCHAUFFE': 1, 'FUITE': 1, 'DYSFONCTIONNEMENT': 1}
2025-05-10 21:30:01,532 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-10 21:30:01,539 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 15 classes
2025-05-10 21:30:01,544 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 27 classes
2025-05-10 21:30:01,549 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 94 classes
2025-05-10 21:30:01,551 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-10 21:30:01,556 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 24 classes
2025-05-10 21:30:01,572 - RandomForestFaultDetector - INFO - Normalisation des features numériques: ['EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 21:30:01,580 - RandomForestFaultDetector - INFO - Données divisées: 91 échantillons d'entraînement, 40 échantillons de test
2025-05-10 21:30:01,580 - RandomForestFaultDetector - INFO - Application de SMOTE avec paramètres optimisés
2025-05-10 21:30:01,588 - RandomForestFaultDetector - INFO - Après SMOTE: 148 échantillons d'entraînement
2025-05-10 21:30:01,592 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-10 21:30:01,593 - RandomForestFaultDetector - INFO - Optimisation des hyperparamètres avec GridSearchCV
2025-05-10 21:30:17,906 - RandomForestFaultDetector - INFO - Meilleurs paramètres trouvés: {'max_depth': None, 'min_samples_leaf': 1, 'min_samples_split': 5, 'n_estimators': 100}
2025-05-10 21:30:18,280 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-10 21:30:18,299 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.30679271498684835, 'LOCATION': 0.18808369888585877, 'ASSETNUM': 0.16128388126271387, 'EQUIPMENT_AGE': 0.15093871203098053, 'assetnum_description': 0.13958031138266325, 'location_description': 0.05332068145093541, 'MAINTENANCE_FREQUENCY': 0.0}}
2025-05-10 21:30:20,387 - RandomForestFaultDetector - INFO - Importance par permutation: {'Mean Importance': {'Description': 0.1581081081081081, 'LOCATION': 0.1263513513513513, 'EQUIPMENT_AGE': 0.06756756756756752, 'ASSETNUM': 0.05270270270270265, 'assetnum_description': 0.05270270270270265, 'location_description': 0.024999999999999946, 'MAINTENANCE_FREQUENCY': 0.0}}
2025-05-10 21:30:20,388 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-10 21:30:20,588 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.65, 'Precision': 0.0, 'Recall': 0.0, 'F1 Score': 0.0, 'ROC AUC': np.float64(0.49783549783549785)}
2025-05-10 21:30:20,635 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.79      0.79      0.79        33
           1       0.00      0.00      0.00         7

    accuracy                           0.65        40
   macro avg       0.39      0.39      0.39        40
weighted avg       0.65      0.65      0.65        40

2025-05-10 21:30:20,636 - RandomForestFaultDetector - INFO - Génération de la courbe ROC
2025-05-10 21:30:26,176 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-10 23:03:23,478 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-10 23:03:23,481 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'WOPRIORITY', 'STATUS', 'EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 23:03:23,481 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-10 23:03:23,504 - RandomForestFaultDetector - INFO - Données chargées: 131 enregistrements
2025-05-10 23:03:23,506 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-10 23:03:23,549 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-10 23:03:23,566 - RandomForestFaultDetector - INFO - Génération de la feature synthétique EQUIPMENT_AGE
2025-05-10 23:03:23,568 - RandomForestFaultDetector - INFO - Génération de la feature synthétique MAINTENANCE_FREQUENCY
2025-05-10 23:03:23,573 - RandomForestFaultDetector - INFO - Features disponibles: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 23:03:23,618 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 15 valeurs uniques
2025-05-10 23:03:23,618 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 27 valeurs uniques
2025-05-10 23:03:23,624 - RandomForestFaultDetector - INFO - Catégories pour Description: 94 valeurs uniques
2025-05-10 23:03:23,625 - RandomForestFaultDetector - INFO - Catégories pour location_description: 6 valeurs uniques
2025-05-10 23:03:23,627 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 24 valeurs uniques
2025-05-10 23:03:23,636 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 107, 1: 24}
2025-05-10 23:03:23,641 - RandomForestFaultDetector - INFO - Types de pannes: {'AUCUNE': 125, 'ARRET': 2, 'USURE': 1, 'SURCHAUFFE': 1, 'FUITE': 1, 'DYSFONCTIONNEMENT': 1}
2025-05-10 23:03:23,644 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-10 23:03:23,649 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 15 classes
2025-05-10 23:03:23,651 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 27 classes
2025-05-10 23:03:23,654 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 94 classes
2025-05-10 23:03:23,660 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-10 23:03:23,664 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 24 classes
2025-05-10 23:03:23,676 - RandomForestFaultDetector - INFO - Normalisation des features numériques: ['EQUIPMENT_AGE', 'MAINTENANCE_FREQUENCY']
2025-05-10 23:03:23,685 - RandomForestFaultDetector - INFO - Données divisées: 91 échantillons d'entraînement, 40 échantillons de test
2025-05-10 23:03:23,685 - RandomForestFaultDetector - INFO - Application de SMOTE avec paramètres optimisés
2025-05-10 23:03:23,713 - RandomForestFaultDetector - INFO - Après SMOTE: 148 échantillons d'entraînement
2025-05-10 23:03:23,715 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-10 23:03:23,715 - RandomForestFaultDetector - INFO - Optimisation des hyperparamètres avec GridSearchCV
2025-05-10 23:03:44,234 - RandomForestFaultDetector - INFO - Meilleurs paramètres trouvés: {'max_depth': None, 'min_samples_leaf': 2, 'min_samples_split': 2, 'n_estimators': 100}
2025-05-10 23:03:44,875 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-10 23:03:44,973 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.3050165009151896, 'EQUIPMENT_AGE': 0.2177348053906657, 'LOCATION': 0.17745091579933256, 'ASSETNUM': 0.15119154508877106, 'assetnum_description': 0.10688745061727928, 'location_description': 0.04171878218876174, 'MAINTENANCE_FREQUENCY': 0.0}}
2025-05-10 23:03:47,708 - RandomForestFaultDetector - INFO - Importance par permutation: {'Mean Importance': {'Description': 0.16554054054054057, 'EQUIPMENT_AGE': 0.0871621621621622, 'LOCATION': 0.07567567567567572, 'ASSETNUM': 0.048648648648648686, 'location_description': 0.03378378378378384, 'MAINTENANCE_FREQUENCY': 0.0, 'assetnum_description': -0.0074324324324323895}}
2025-05-10 23:03:47,714 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-10 23:03:47,786 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.675, 'Precision': 0.125, 'Recall': 0.14285714285714285, 'F1 Score': 0.13333333333333333, 'ROC AUC': np.float64(0.5151515151515151)}
2025-05-10 23:03:47,807 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.81      0.79      0.80        33
           1       0.12      0.14      0.13         7

    accuracy                           0.68        40
   macro avg       0.47      0.47      0.47        40
weighted avg       0.69      0.68      0.68        40

2025-05-10 23:03:47,809 - RandomForestFaultDetector - INFO - Génération de la courbe ROC
2025-05-10 23:03:57,076 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-10 23:04:38,088 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-10 23:04:38,088 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-10 23:04:38,088 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-10 23:04:38,101 - RandomForestFaultDetector - INFO - Données chargées: 131 enregistrements
2025-05-10 23:04:38,101 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-10 23:04:38,114 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-10 23:04:38,114 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-10 23:04:38,114 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: You are trying to merge on int64 and object columns for key 'ASSETNUM'. If you wish to proceed you should use pd.concat
2025-05-10 23:04:38,126 - RandomForestFaultDetector - INFO - Après nettoyage: 131 enregistrements
2025-05-10 23:04:38,146 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 15 valeurs uniques
2025-05-10 23:04:38,146 - RandomForestFaultDetector - INFO - Catégories pour Description: 94 valeurs uniques
2025-05-10 23:04:38,149 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-10 23:04:38,149 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 2 valeurs uniques
2025-05-10 23:04:38,157 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 113, 1: 18}
2025-05-10 23:04:38,162 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-10 23:04:38,170 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 15 classes
2025-05-10 23:04:38,175 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 94 classes
2025-05-10 23:04:38,175 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-10 23:04:38,175 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-10 23:04:38,188 - RandomForestFaultDetector - INFO - Données divisées: 91 échantillons d'entraînement, 40 échantillons de test
2025-05-10 23:04:38,188 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-10 23:04:38,604 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-10 23:04:38,660 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.6050493021238749, 'ASSETNUM': 0.18619985402767725, 'LOCATION': 0.10837354889322856, 'location_description': 0.10037729495521928, 'assetnum_description': 0.0}}
2025-05-10 23:04:38,664 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-10 23:04:38,760 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.825, 'Precision': 0.0, 'Recall': 0.0, 'F1 Score': 0.0, 'ROC AUC': np.float64(0.7314285714285714)}
2025-05-10 23:04:38,763 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.87      0.94      0.90        35
           1       0.00      0.00      0.00         5

    accuracy                           0.82        40
   macro avg       0.43      0.47      0.45        40
weighted avg       0.76      0.82      0.79        40

2025-05-10 23:04:38,764 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-10 23:04:39,454 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-10 23:04:41,915 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-10 23:04:41,942 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 344.59 KB
2025-05-10 23:04:41,946 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.825
2025-05-10 23:04:41,946 - RandomForestFaultDetector - INFO - Données d'entrée pour la prédiction: {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}
2025-05-10 23:04:41,948 - RandomForestFaultDetector - INFO - Analyse de la description: machine stopped due to overheating
2025-05-10 23:04:41,949 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped, score actuel: 3.5
2025-05-10 23:04:41,949 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating, score actuel: 6.5
2025-05-10 23:04:41,949 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine, score actuel: 9.5
2025-05-10 23:04:41,951 - RandomForestFaultDetector - INFO - Bonus pour mots-clés multiples: +4.0, score total: 13.5
2025-05-10 23:04:41,957 - RandomForestFaultDetector - INFO - Features préparées pour la prédiction: {'LOCATION': 'BR300', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}
2025-05-10 23:04:41,961 - RandomForestFaultDetector - INFO - Score de risque très élevé (13.5), déclenchement direct de la panne
2025-05-10 23:04:41,962 - RandomForestFaultDetector - INFO - Décision directe: Panne avec probabilité 95.00%
2025-05-10 23:04:41,962 - RandomForestFaultDetector - INFO - Diagnostic final: En panne, avec confiance: 95.00%
2025-05-10 23:04:41,962 - RandomForestFaultDetector - INFO - Facteurs de risque identifiés: ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés (3): stopped, overheating, machine...']
2025-05-10 23:04:41,973 - RandomForestFaultDetector - INFO - Résultat final de la prédiction: En panne
2025-05-10 23:04:41,976 - RandomForestFaultDetector - INFO - Données d'entrée pour la prédiction: {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}
2025-05-10 23:04:41,979 - RandomForestFaultDetector - INFO - Analyse de la description: regular maintenance check
2025-05-10 23:04:41,980 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: maintenance, score actuel: 3.5
2025-05-10 23:04:41,985 - RandomForestFaultDetector - INFO - Features préparées pour la prédiction: {'LOCATION': 'NEW_LOC', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}
2025-05-10 23:04:41,990 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction avec le modèle: The feature names should match those that were passed during fit.
Feature names seen at fit time, yet now missing:
- ASSETNUM
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 404, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2919, in validate_data
    _check_feature_names(_estimator, X, reset=reset)
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2777, in _check_feature_names
    raise ValueError(message)
ValueError: The feature names should match those that were passed during fit.
Feature names seen at fit time, yet now missing:
- ASSETNUM

2025-05-10 23:04:42,006 - RandomForestFaultDetector - WARNING - Utilisation du score de risque comme probabilité: 35.00%
2025-05-10 23:04:42,007 - RandomForestFaultDetector - INFO - Diagnostic final: Fonctionnel, avec confiance: 65.00%
2025-05-10 23:04:42,009 - RandomForestFaultDetector - INFO - Facteurs de risque identifiés: ['Mot-clé détecté: maintenance']
2025-05-10 23:04:42,009 - RandomForestFaultDetector - INFO - Résultat final de la prédiction: Fonctionnel
2025-05-10 23:04:42,012 - RandomForestFaultDetector - INFO - Données d'entrée pour la prédiction: {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}
2025-05-10 23:04:42,014 - RandomForestFaultDetector - INFO - Analyse de la description: equipment malfunction detected
2025-05-10 23:04:42,015 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction, score actuel: 3.5
2025-05-10 23:04:42,015 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment, score actuel: 6.5
2025-05-10 23:04:42,015 - RandomForestFaultDetector - INFO - Bonus pour mots-clés multiples: +2.0, score total: 8.5
2025-05-10 23:04:42,017 - RandomForestFaultDetector - INFO - Features préparées pour la prédiction: {'LOCATION': 'LOC02', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected', 'location_description': 'UNKNOWN', 'assetnum_description': 'UNKNOWN'}
2025-05-10 23:04:42,017 - RandomForestFaultDetector - INFO - Score de risque très élevé (8.5), déclenchement direct de la panne
2025-05-10 23:04:42,017 - RandomForestFaultDetector - INFO - Décision directe: Panne avec probabilité 95.00%
2025-05-10 23:04:42,023 - RandomForestFaultDetector - INFO - Diagnostic final: En panne, avec confiance: 95.00%
2025-05-10 23:04:42,024 - RandomForestFaultDetector - INFO - Facteurs de risque identifiés: ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés (2): malfunction, equipment...']
2025-05-10 23:04:42,024 - RandomForestFaultDetector - INFO - Résultat final de la prédiction: En panne
2025-05-10 23:05:55,083 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-10 23:05:55,083 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-10 23:05:55,083 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-10 23:05:55,093 - RandomForestFaultDetector - INFO - Données chargées: 131 enregistrements
2025-05-10 23:05:55,093 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-10 23:05:55,106 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-10 23:05:55,106 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-10 23:05:55,118 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: You are trying to merge on int64 and object columns for key 'ASSETNUM'. If you wish to proceed you should use pd.concat
2025-05-10 23:05:55,125 - RandomForestFaultDetector - INFO - Après nettoyage: 131 enregistrements
2025-05-10 23:05:55,130 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 15 valeurs uniques
2025-05-10 23:05:55,134 - RandomForestFaultDetector - INFO - Catégories pour Description: 94 valeurs uniques
2025-05-10 23:05:55,134 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-10 23:05:55,134 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 2 valeurs uniques
2025-05-10 23:05:55,134 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 113, 1: 18}
2025-05-10 23:05:55,140 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-10 23:05:55,144 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 15 classes
2025-05-10 23:05:55,144 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 94 classes
2025-05-10 23:05:55,153 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-10 23:05:55,153 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-10 23:05:55,159 - RandomForestFaultDetector - INFO - Données divisées: 91 échantillons d'entraînement, 40 échantillons de test
2025-05-10 23:05:55,161 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-10 23:05:55,417 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-10 23:05:55,457 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.6050493021238749, 'ASSETNUM': 0.18619985402767725, 'LOCATION': 0.10837354889322856, 'location_description': 0.10037729495521928, 'assetnum_description': 0.0}}
2025-05-10 23:05:55,464 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-10 23:05:55,571 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.825, 'Precision': 0.0, 'Recall': 0.0, 'F1 Score': 0.0, 'ROC AUC': np.float64(0.7314285714285714)}
2025-05-10 23:05:55,572 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.87      0.94      0.90        35
           1       0.00      0.00      0.00         5

    accuracy                           0.82        40
   macro avg       0.43      0.47      0.45        40
weighted avg       0.76      0.82      0.79        40

2025-05-10 23:05:55,572 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-10 23:05:56,277 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-10 23:05:58,850 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-10 23:05:58,880 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 344.48 KB
2025-05-10 23:05:58,881 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.825
2025-05-10 23:05:58,886 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-10 23:05:58,887 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-10 23:05:58,888 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-10 23:05:58,904 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-10 23:05:58,916 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-10 23:05:58,928 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: could not convert string to float: 'EQP123'
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 396, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\pandas\core\generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: 'EQP123'
2025-05-10 23:05:58,958 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-10 23:05:58,960 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-10 23:05:58,969 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: could not convert string to float: 'NEW_EQP'
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 396, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\pandas\core\generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: 'NEW_EQP'
2025-05-10 23:05:58,979 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-10 23:05:58,980 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-10 23:05:58,986 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-10 23:05:58,991 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-10 23:05:58,997 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: could not convert string to float: 'EQP456'
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 396, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\pandas\core\generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: 'EQP456'
2025-05-10 23:08:04,333 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-10 23:08:04,336 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-10 23:08:04,336 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-10 23:08:04,437 - RandomForestFaultDetector - INFO - Données chargées: 67687 enregistrements
2025-05-10 23:08:04,437 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-10 23:08:04,483 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-10 23:08:04,483 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-10 23:08:04,533 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-10 23:08:04,591 - RandomForestFaultDetector - INFO - Après nettoyage: 693 enregistrements
2025-05-10 23:08:04,608 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 21 valeurs uniques
2025-05-10 23:08:04,609 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 64 valeurs uniques
2025-05-10 23:08:04,611 - RandomForestFaultDetector - INFO - Catégories pour Description: 158 valeurs uniques
2025-05-10 23:08:04,613 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-10 23:08:04,614 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 30 valeurs uniques
2025-05-10 23:08:04,622 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 597, 1: 96}
2025-05-10 23:08:04,623 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-10 23:08:04,633 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 21 classes
2025-05-10 23:08:04,635 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 64 classes
2025-05-10 23:08:04,645 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 158 classes
2025-05-10 23:08:04,649 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-10 23:08:04,653 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 29 classes
2025-05-10 23:08:04,665 - RandomForestFaultDetector - INFO - Données divisées: 485 échantillons d'entraînement, 208 échantillons de test
2025-05-10 23:08:04,665 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-10 23:08:05,085 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-10 23:08:05,109 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'ASSETNUM': 0.30429074087046903, 'LOCATION': 0.2946457365132293, 'Description': 0.28461524686048556, 'assetnum_description': 0.09338953386633327, 'location_description': 0.02305874188948284}}
2025-05-10 23:08:05,109 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-10 23:08:05,204 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9663461538461539, 'Precision': 0.84375, 'Recall': 0.9310344827586207, 'F1 Score': 0.8852459016393442, 'ROC AUC': np.float64(0.9577152764399921)}
2025-05-10 23:08:05,204 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.97      0.98       179
           1       0.84      0.93      0.89        29

    accuracy                           0.97       208
   macro avg       0.92      0.95      0.93       208
weighted avg       0.97      0.97      0.97       208

2025-05-10 23:08:05,209 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-10 23:08:05,697 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-10 23:08:11,789 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-10 23:08:11,823 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 528.49 KB
2025-05-10 23:08:11,825 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9663461538461539
2025-05-10 23:08:11,826 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-10 23:08:11,828 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-10 23:08:11,828 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-10 23:08:11,837 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-10 23:08:11,843 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-10 23:08:11,889 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-10 23:08:11,890 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-10 23:08:11,897 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-10 23:08:11,905 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-10T23:08:11.900614', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-10 23:08:11,916 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-10 23:08:11,922 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-10 23:08:11,956 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-10 23:08:11,958 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 40.00%, Score de risque: 0.2
2025-05-10 23:08:11,963 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-10 23:08:11,967 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '60.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '60.00%', 'panne': '40.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-10T23:08:11.966906', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-10 23:08:11,973 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-10 23:08:11,975 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-10 23:08:11,985 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-10 23:08:11,994 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-10 23:08:12,054 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-10 23:08:12,055 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-10 23:08:12,055 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-10 23:08:12,059 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-10T23:08:12.059125', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-10 23:15:00,593 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-10 23:15:00,593 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-10 23:15:00,594 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-10 23:15:00,602 - RandomForestFaultDetector - INFO - Données chargées: 131 enregistrements
2025-05-10 23:15:00,602 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-10 23:15:00,614 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-10 23:15:00,614 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-10 23:15:00,620 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: You are trying to merge on int64 and object columns for key 'ASSETNUM'. If you wish to proceed you should use pd.concat
2025-05-10 23:15:00,623 - RandomForestFaultDetector - INFO - Après nettoyage: 131 enregistrements
2025-05-10 23:15:00,632 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 15 valeurs uniques
2025-05-10 23:15:00,633 - RandomForestFaultDetector - INFO - Catégories pour Description: 93 valeurs uniques
2025-05-10 23:15:00,634 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-10 23:15:00,635 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 2 valeurs uniques
2025-05-10 23:15:00,638 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 113, 1: 18}
2025-05-10 23:15:00,639 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-10 23:15:00,644 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 15 classes
2025-05-10 23:15:00,650 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 93 classes
2025-05-10 23:15:00,654 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-10 23:15:00,658 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-10 23:15:00,666 - RandomForestFaultDetector - INFO - Données divisées: 91 échantillons d'entraînement, 40 échantillons de test
2025-05-10 23:15:00,667 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-10 23:15:00,926 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-10 23:15:00,946 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.6050493021238749, 'ASSETNUM': 0.18619985402767725, 'LOCATION': 0.10837354889322856, 'location_description': 0.10037729495521928, 'assetnum_description': 0.0}}
2025-05-10 23:15:00,948 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-10 23:15:00,995 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.825, 'Precision': 0.0, 'Recall': 0.0, 'F1 Score': 0.0, 'ROC AUC': np.float64(0.7314285714285714)}
2025-05-10 23:15:00,995 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.87      0.94      0.90        35
           1       0.00      0.00      0.00         5

    accuracy                           0.82        40
   macro avg       0.43      0.47      0.45        40
weighted avg       0.76      0.82      0.79        40

2025-05-10 23:15:00,995 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-10 23:15:01,450 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-10 23:15:08,096 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-10 23:15:08,114 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 344.25 KB
2025-05-10 23:15:08,115 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.825
2025-05-10 23:15:08,116 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-10 23:15:08,117 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-10 23:15:08,118 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-10 23:15:08,122 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-10 23:15:08,130 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-10 23:15:08,136 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: could not convert string to float: 'EQP123'
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 396, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\pandas\core\generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: 'EQP123'
2025-05-10 23:15:08,157 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-10 23:15:08,165 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-10 23:15:08,169 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: could not convert string to float: 'NEW_EQP'
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 396, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\pandas\core\generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: 'NEW_EQP'
2025-05-10 23:15:08,172 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-10 23:15:08,173 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-10 23:15:08,179 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-10 23:15:08,182 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-10 23:15:08,186 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: could not convert string to float: 'EQP456'
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 396, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\pandas\core\generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: 'EQP456'
2025-05-11 18:58:09,864 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-11 18:58:09,865 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-11 18:58:09,865 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-11 18:58:09,905 - RandomForestFaultDetector - INFO - Données chargées: 131 enregistrements
2025-05-11 18:58:09,906 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-11 18:58:09,959 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-11 18:58:09,960 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-11 18:58:09,970 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: You are trying to merge on int64 and object columns for key 'ASSETNUM'. If you wish to proceed you should use pd.concat
2025-05-11 18:58:09,974 - RandomForestFaultDetector - INFO - Après nettoyage: 131 enregistrements
2025-05-11 18:58:09,987 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 15 valeurs uniques
2025-05-11 18:58:09,988 - RandomForestFaultDetector - INFO - Catégories pour Description: 93 valeurs uniques
2025-05-11 18:58:09,989 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-11 18:58:09,990 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 2 valeurs uniques
2025-05-11 18:58:10,001 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 113, 1: 18}
2025-05-11 18:58:10,004 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-11 18:58:10,011 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 15 classes
2025-05-11 18:58:10,020 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 93 classes
2025-05-11 18:58:10,024 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-11 18:58:10,026 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-11 18:58:10,042 - RandomForestFaultDetector - INFO - Données divisées: 91 échantillons d'entraînement, 40 échantillons de test
2025-05-11 18:58:10,043 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-11 18:58:10,360 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-11 18:58:10,409 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.6050493021238749, 'ASSETNUM': 0.18619985402767725, 'LOCATION': 0.10837354889322856, 'location_description': 0.10037729495521928, 'assetnum_description': 0.0}}
2025-05-11 18:58:10,410 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-11 18:58:10,495 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.825, 'Precision': 0.0, 'Recall': 0.0, 'F1 Score': 0.0, 'ROC AUC': np.float64(0.7314285714285714)}
2025-05-11 18:58:10,497 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.87      0.94      0.90        35
           1       0.00      0.00      0.00         5

    accuracy                           0.82        40
   macro avg       0.43      0.47      0.45        40
weighted avg       0.76      0.82      0.79        40

2025-05-11 18:58:10,498 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-11 18:58:12,306 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-11 18:58:14,515 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-11 18:58:14,540 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 344.25 KB
2025-05-11 18:58:14,541 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.825
2025-05-11 18:58:14,541 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-11 18:58:14,543 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-11 18:58:14,543 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-11 18:58:14,549 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-11 18:58:14,555 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-11 18:58:14,559 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: could not convert string to float: 'EQP123'
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 396, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\pandas\core\generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: 'EQP123'
2025-05-11 18:58:14,767 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-11 18:58:14,773 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-11 18:58:14,782 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: could not convert string to float: 'NEW_EQP'
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 396, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\pandas\core\generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: 'NEW_EQP'
2025-05-11 18:58:14,786 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-11 18:58:14,786 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-11 18:58:14,790 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-11 18:58:14,798 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-11 18:58:14,805 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: could not convert string to float: 'EQP456'
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 396, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\pandas\core\generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: 'EQP456'
2025-05-11 19:06:17,527 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-11 19:06:17,529 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-11 19:06:17,529 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-11 19:06:17,544 - RandomForestFaultDetector - INFO - Données chargées: 131 enregistrements
2025-05-11 19:06:17,544 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-11 19:06:17,566 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-11 19:06:17,567 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-11 19:06:17,569 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: name 'columns_to_merge' is not defined
2025-05-11 19:06:17,572 - RandomForestFaultDetector - INFO - Après nettoyage: 131 enregistrements
2025-05-11 19:06:17,580 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 15 valeurs uniques
2025-05-11 19:06:17,581 - RandomForestFaultDetector - INFO - Catégories pour Description: 93 valeurs uniques
2025-05-11 19:06:17,581 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-11 19:06:17,582 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 2 valeurs uniques
2025-05-11 19:06:17,586 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 113, 1: 18}
2025-05-11 19:06:17,587 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-11 19:06:17,591 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 15 classes
2025-05-11 19:06:17,595 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 93 classes
2025-05-11 19:06:17,596 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-11 19:06:17,597 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-11 19:06:17,607 - RandomForestFaultDetector - INFO - Données divisées: 91 échantillons d'entraînement, 40 échantillons de test
2025-05-11 19:06:17,608 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-11 19:06:17,726 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-11 19:06:17,744 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.6050493021238749, 'ASSETNUM': 0.18619985402767725, 'LOCATION': 0.10837354889322856, 'location_description': 0.10037729495521928, 'assetnum_description': 0.0}}
2025-05-11 19:06:17,745 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-11 19:06:17,790 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.825, 'Precision': 0.0, 'Recall': 0.0, 'F1 Score': 0.0, 'ROC AUC': np.float64(0.7314285714285714)}
2025-05-11 19:06:17,791 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.87      0.94      0.90        35
           1       0.00      0.00      0.00         5

    accuracy                           0.82        40
   macro avg       0.43      0.47      0.45        40
weighted avg       0.76      0.82      0.79        40

2025-05-11 19:06:17,791 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-11 19:06:18,248 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-11 19:06:22,919 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-11 19:06:22,948 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 344.25 KB
2025-05-11 19:06:22,948 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.825
2025-05-11 19:06:22,949 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-11 19:06:22,949 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-11 19:06:22,950 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-11 19:06:22,960 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-11 19:06:22,968 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-11 19:06:22,977 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: The feature names should match those that were passed during fit.
Feature names unseen at fit time:
- downtime
- maintenance_frequency
- oil_level
- power_alimentation
- seniority
- ...
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 419, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2919, in validate_data
    _check_feature_names(_estimator, X, reset=reset)
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2777, in _check_feature_names
    raise ValueError(message)
ValueError: The feature names should match those that were passed during fit.
Feature names unseen at fit time:
- downtime
- maintenance_frequency
- oil_level
- power_alimentation
- seniority
- ...

2025-05-11 19:06:22,996 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-11 19:06:23,002 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-11 19:06:23,013 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: The feature names should match those that were passed during fit.
Feature names unseen at fit time:
- downtime
- maintenance_frequency
- oil_level
- power_alimentation
- seniority
- ...
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 419, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2919, in validate_data
    _check_feature_names(_estimator, X, reset=reset)
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2777, in _check_feature_names
    raise ValueError(message)
ValueError: The feature names should match those that were passed during fit.
Feature names unseen at fit time:
- downtime
- maintenance_frequency
- oil_level
- power_alimentation
- seniority
- ...

2025-05-11 19:06:23,019 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-11 19:06:23,030 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-11 19:06:23,037 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-11 19:06:23,052 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-11 19:06:23,064 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: The feature names should match those that were passed during fit.
Feature names unseen at fit time:
- downtime
- maintenance_frequency
- oil_level
- power_alimentation
- seniority
- ...
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 419, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2919, in validate_data
    _check_feature_names(_estimator, X, reset=reset)
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2777, in _check_feature_names
    raise ValueError(message)
ValueError: The feature names should match those that were passed during fit.
Feature names unseen at fit time:
- downtime
- maintenance_frequency
- oil_level
- power_alimentation
- seniority
- ...

2025-05-11 19:09:35,911 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-11 19:09:35,911 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-11 19:09:35,911 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-11 19:09:35,916 - RandomForestFaultDetector - INFO - Données chargées: 131 enregistrements
2025-05-11 19:09:35,917 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-11 19:09:35,920 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-11 19:09:35,921 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-11 19:09:35,924 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: You are trying to merge on int64 and object columns for key 'ASSETNUM'. If you wish to proceed you should use pd.concat
2025-05-11 19:09:35,928 - RandomForestFaultDetector - INFO - Après nettoyage: 131 enregistrements
2025-05-11 19:09:35,932 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 15 valeurs uniques
2025-05-11 19:09:35,932 - RandomForestFaultDetector - INFO - Catégories pour Description: 93 valeurs uniques
2025-05-11 19:09:35,934 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-11 19:09:35,934 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 2 valeurs uniques
2025-05-11 19:09:35,936 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 113, 1: 18}
2025-05-11 19:09:35,936 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-11 19:09:35,939 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 15 classes
2025-05-11 19:09:35,942 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 93 classes
2025-05-11 19:09:35,945 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-11 19:09:35,948 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-11 19:09:35,951 - RandomForestFaultDetector - INFO - Données divisées: 91 échantillons d'entraînement, 40 échantillons de test
2025-05-11 19:09:35,952 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-11 19:09:36,079 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-11 19:09:36,092 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.6050493021238749, 'ASSETNUM': 0.18619985402767725, 'LOCATION': 0.10837354889322856, 'location_description': 0.10037729495521928, 'assetnum_description': 0.0}}
2025-05-11 19:09:36,093 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-11 19:09:36,128 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.825, 'Precision': 0.0, 'Recall': 0.0, 'F1 Score': 0.0, 'ROC AUC': np.float64(0.7314285714285714)}
2025-05-11 19:09:36,128 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.87      0.94      0.90        35
           1       0.00      0.00      0.00         5

    accuracy                           0.82        40
   macro avg       0.43      0.47      0.45        40
weighted avg       0.76      0.82      0.79        40

2025-05-11 19:09:36,129 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-11 19:09:36,452 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-11 19:09:39,273 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-11 19:09:39,291 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 344.25 KB
2025-05-11 19:09:39,291 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.825
2025-05-11 19:09:39,293 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-11 19:09:39,293 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-11 19:09:39,295 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-11 19:09:39,301 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-11 19:09:39,307 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-11 19:09:39,319 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: could not convert string to float: 'EQP123'
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 428, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\pandas\core\generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: 'EQP123'
2025-05-11 19:09:39,341 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-11 19:09:39,349 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-11 19:09:39,359 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: could not convert string to float: 'NEW_EQP'
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 428, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\pandas\core\generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: 'NEW_EQP'
2025-05-11 19:09:39,371 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-11 19:09:39,373 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-11 19:09:39,385 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-11 19:09:39,400 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-11 19:09:39,418 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: could not convert string to float: 'EQP456'
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 428, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\pandas\core\generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: 'EQP456'
2025-05-11 19:20:30,785 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-11 19:20:30,786 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-11 19:20:30,786 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-11 19:20:30,804 - RandomForestFaultDetector - INFO - Données chargées: 131 enregistrements
2025-05-11 19:20:30,805 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-11 19:20:30,827 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-11 19:20:30,827 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-11 19:20:30,834 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: You are trying to merge on int64 and object columns for key 'ASSETNUM'. If you wish to proceed you should use pd.concat
2025-05-11 19:20:30,837 - RandomForestFaultDetector - INFO - Après nettoyage: 131 enregistrements
2025-05-11 19:20:30,844 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 15 valeurs uniques
2025-05-11 19:20:30,849 - RandomForestFaultDetector - INFO - Catégories pour Description: 93 valeurs uniques
2025-05-11 19:20:30,850 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-11 19:20:30,850 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 2 valeurs uniques
2025-05-11 19:20:30,856 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 113, 1: 18}
2025-05-11 19:20:30,857 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-11 19:20:30,862 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 15 classes
2025-05-11 19:20:30,868 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 93 classes
2025-05-11 19:20:30,872 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 6 classes
2025-05-11 19:20:30,873 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-11 19:20:30,882 - RandomForestFaultDetector - INFO - Données divisées: 91 échantillons d'entraînement, 40 échantillons de test
2025-05-11 19:20:30,883 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-11 19:20:31,072 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-11 19:20:31,087 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.6050493021238749, 'ASSETNUM': 0.18619985402767725, 'LOCATION': 0.10837354889322856, 'location_description': 0.10037729495521928, 'assetnum_description': 0.0}}
2025-05-11 19:20:31,087 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-11 19:20:31,139 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.825, 'Precision': 0.0, 'Recall': 0.0, 'F1 Score': 0.0, 'ROC AUC': np.float64(0.7314285714285714)}
2025-05-11 19:20:31,139 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.87      0.94      0.90        35
           1       0.00      0.00      0.00         5

    accuracy                           0.82        40
   macro avg       0.43      0.47      0.45        40
weighted avg       0.76      0.82      0.79        40

2025-05-11 19:20:31,141 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-11 19:20:31,609 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-11 19:20:34,644 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-11 19:20:34,662 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 344.25 KB
2025-05-11 19:20:34,662 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.825
2025-05-11 19:20:34,664 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-11 19:20:34,665 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-11 19:20:34,666 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-11 19:20:34,672 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-11 19:20:34,678 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-11 19:20:34,684 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: could not convert string to float: 'EQP123'
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 428, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\pandas\core\generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: 'EQP123'
2025-05-11 19:20:34,702 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-11 19:20:34,707 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-11 19:20:34,709 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: could not convert string to float: 'NEW_EQP'
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 428, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\pandas\core\generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: 'NEW_EQP'
2025-05-11 19:20:34,711 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-11 19:20:34,712 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-11 19:20:34,716 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-11 19:20:34,720 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-11 19:20:34,722 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: could not convert string to float: 'EQP456'
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 428, in predict_fault
    base_proba = self.model.predict_proba(X_input)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 946, in predict_proba
    X = self._validate_X_predict(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 638, in _validate_X_predict
    X = validate_data(
        ^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 2944, in validate_data
    out = check_array(X, input_name="X", **check_params)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\validation.py", line 1055, in check_array
    array = _asarray_with_order(array, order=order, dtype=dtype, xp=xp)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\sklearn\utils\_array_api.py", line 839, in _asarray_with_order
    array = numpy.asarray(array, order=order, dtype=dtype)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\omaim\backend_ia\.venv\Lib\site-packages\pandas\core\generic.py", line 2153, in __array__
    arr = np.asarray(values, dtype=dtype)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: 'EQP456'
2025-05-12 00:03:54,933 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 00:03:54,934 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 00:03:54,934 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 00:03:54,956 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 00:03:54,957 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 00:03:54,984 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 00:03:54,984 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 00:03:54,993 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 00:03:54,996 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 00:06:05,957 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 00:06:05,957 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 00:06:05,957 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 00:06:05,966 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 00:06:05,966 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 00:06:05,975 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 00:06:05,975 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 00:06:05,981 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 00:06:05,983 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 00:07:17,730 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 00:07:17,730 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 00:07:17,731 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 00:07:17,739 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 00:07:17,739 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 00:07:17,747 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 00:07:17,748 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 00:07:17,757 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 00:07:17,762 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 00:09:05,714 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 00:09:05,715 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 00:09:05,716 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 00:09:05,722 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 00:09:05,722 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 00:09:05,728 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 00:09:05,728 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 00:09:05,733 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 00:09:05,734 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 00:10:21,459 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 00:10:21,459 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 00:10:21,460 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 00:10:21,466 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 00:10:21,466 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 00:10:21,471 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 00:10:21,473 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 00:10:21,478 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 00:10:21,480 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 00:11:41,153 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 00:11:41,153 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 00:11:41,154 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 00:11:41,158 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 00:11:41,158 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 00:11:41,166 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 00:11:41,166 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 00:11:41,171 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 00:11:41,172 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 00:11:41,177 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 00:12:51,454 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 00:12:51,454 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 00:12:51,455 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 00:12:51,470 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 00:12:51,472 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 00:12:51,480 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 00:12:51,480 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 00:12:51,491 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 00:12:51,494 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 00:12:51,505 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 00:14:20,306 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 00:14:20,307 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 00:14:20,309 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 00:14:20,324 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 00:14:20,325 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 00:14:20,339 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 00:14:20,340 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 00:14:20,351 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 00:14:20,354 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 00:14:20,364 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 00:15:51,024 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 00:15:51,025 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 00:15:51,026 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 00:15:51,035 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 00:15:51,035 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 00:15:51,051 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 00:15:51,051 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 00:15:51,062 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 00:15:51,066 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 00:15:51,071 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 15:56:04,398 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 15:56:04,398 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 15:56:04,398 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 15:56:04,432 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 15:56:04,432 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 15:56:04,454 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 15:56:04,454 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 15:56:04,474 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 15:56:04,474 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 15:56:04,485 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 15:57:33,489 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 15:57:33,489 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 15:57:33,489 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 15:57:33,498 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 15:57:33,498 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 15:57:33,512 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 15:57:33,513 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 15:57:33,520 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 15:57:33,522 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 16:06:30,315 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 16:06:30,315 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'type_lubrification', 'oil_level', 'downtime', 'vibration', 'power_alimentation', 'maintenance_frequency', 'seniority']
2025-05-12 16:06:30,316 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 16:06:30,324 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 16:06:30,325 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 16:06:30,328 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 16:06:30,328 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 16:06:30,334 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 16:06:30,336 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 16:06:30,349 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 16:06:30,351 - RandomForestFaultDetector - ERROR - Column 'Description' not found in the dataset
2025-05-12 16:07:10,164 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 16:07:10,164 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'type_lubrification', 'oil_level', 'downtime', 'vibration', 'power_alimentation', 'maintenance_frequency', 'seniority']
2025-05-12 16:07:10,165 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 16:07:10,175 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 16:07:10,176 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 16:07:10,183 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 16:07:10,184 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 16:07:10,194 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 16:07:10,196 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 16:07:10,215 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 16:07:10,220 - RandomForestFaultDetector - ERROR - Column 'Description' not found in the dataset
2025-05-12 16:08:50,663 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 16:08:50,663 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 16:08:50,663 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 16:08:50,672 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 16:08:50,672 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 16:08:50,680 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 16:08:50,681 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 16:08:50,687 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 16:08:50,690 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 16:24:41,157 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 16:24:41,157 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 16:24:41,157 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 16:24:41,189 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 16:24:41,190 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 16:24:41,228 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 16:24:41,229 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 16:24:41,235 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 16:24:41,238 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 16:32:02,941 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 16:32:02,941 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 16:32:02,941 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 16:32:02,950 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 16:32:02,950 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 16:32:02,958 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 16:32:02,959 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 16:32:02,965 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 16:32:02,967 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 16:32:02,979 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 16:32:02,983 - RandomForestFaultDetector - ERROR - Column 'Description' not found in the dataset
2025-05-12 16:37:42,677 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 16:37:42,677 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 16:37:42,677 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 16:37:42,687 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 16:37:42,687 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 16:37:42,701 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 16:37:42,702 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 16:37:42,707 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 16:37:42,709 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 16:37:42,722 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 16:37:42,725 - RandomForestFaultDetector - ERROR - Column 'Description' not found in the dataset
2025-05-12 16:40:51,115 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 16:40:51,115 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 16:40:51,115 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 16:40:51,128 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 16:40:51,130 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 16:40:51,141 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 16:40:51,141 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 16:40:51,155 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 16:40:51,161 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 16:40:51,186 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 16:40:51,193 - RandomForestFaultDetector - ERROR - Column 'Description' not found in the dataset
2025-05-12 16:40:57,307 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 16:40:57,307 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 16:40:57,307 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 16:40:57,326 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 16:40:57,327 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 16:40:57,328 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 16:40:57,328 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 16:40:57,343 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 16:40:57,345 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 16:40:57,374 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 16:40:57,378 - RandomForestFaultDetector - ERROR - Column 'Description' not found in the dataset
2025-05-12 16:41:55,841 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 16:41:55,841 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 16:41:55,841 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 16:41:55,857 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 16:41:55,857 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 16:41:55,868 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 16:41:55,869 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 16:41:55,878 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 16:41:55,881 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 16:41:55,887 - RandomForestFaultDetector - ERROR - Column 'Description' not found in the dataset
2025-05-12 16:43:09,347 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 16:43:09,363 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 16:43:09,363 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 16:43:09,363 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 16:43:09,375 - RandomForestFaultDetector - ERROR - Column 'Description' not found in the dataset
2025-05-12 16:49:36,759 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 16:49:36,759 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 16:49:36,763 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 16:49:36,775 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 16:49:36,781 - RandomForestFaultDetector - ERROR - Column 'Description' not found in the dataset
2025-05-12 16:51:56,871 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 16:51:56,874 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 16:51:56,874 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 16:51:56,886 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 16:51:56,887 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 16:51:56,912 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 16:51:56,913 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 16:51:56,925 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 16:51:56,928 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 16:51:56,949 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 89 valeurs uniques
2025-05-12 16:51:56,955 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 70 valeurs uniques
2025-05-12 16:51:56,956 - RandomForestFaultDetector - INFO - Catégories pour Description: 12 valeurs uniques
2025-05-12 16:51:56,958 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-12 16:51:56,958 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 70 valeurs uniques
2025-05-12 16:51:56,965 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 362, 1: 138}
2025-05-12 16:51:56,965 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 16:51:56,973 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 16:51:56,977 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 16:51:56,980 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 16:51:56,985 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 16:51:56,995 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 70 classes
2025-05-12 16:51:57,007 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 16:51:57,008 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 16:51:57,386 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 16:51:57,414 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.7410766115928138, 'LOCATION': 0.09684595072757167, 'assetnum_description': 0.07281871156457094, 'ASSETNUM': 0.05941079120767748, 'location_description': 0.02984793490736621}}
2025-05-12 16:51:57,415 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 16:51:57,469 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9866666666666667, 'Precision': 0.975609756097561, 'Recall': 0.975609756097561, 'F1 Score': 0.975609756097561, 'ROC AUC': np.float64(0.9995524725889461)}
2025-05-12 16:51:57,470 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.99      0.99      0.99       109
           1       0.98      0.98      0.98        41

    accuracy                           0.99       150
   macro avg       0.98      0.98      0.98       150
weighted avg       0.99      0.99      0.99       150

2025-05-12 16:51:57,470 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-12 16:51:59,387 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-12 16:52:05,288 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-12 16:52:05,321 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 567.29 KB
2025-05-12 16:52:05,322 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9866666666666667
2025-05-12 16:52:05,323 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-12 16:52:05,323 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-12 16:52:05,324 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-12 16:52:05,333 - RandomForestFaultDetector - INFO - Description de location trouvée: High risk of mechanical stress and vibrations impacting equipment lifespan
2025-05-12 16:52:05,340 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP123
2025-05-12 16:52:05,366 - RandomForestFaultDetector - INFO - Probabilités de base: [0.98 0.02]
2025-05-12 16:52:05,367 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 4.800000000000001
2025-05-12 16:52:05,368 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-12 16:52:05,372 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: stopped', 'Mot-clé détecté: overheating', 'Mot-clé détecté: machine', 'Multiple mots-clés détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe détectée', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-12T16:52:05.369577', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-12 16:52:05,378 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: NEW_LOC
2025-05-12 16:52:05,383 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: NEW_EQP
2025-05-12 16:52:05,408 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-12 16:52:05,410 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 40.00%, Score de risque: 0.2
2025-05-12 16:52:05,411 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-12 16:52:05,411 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '60.00%', 'risk_level': 'Moyen', 'probabilities': {'fonctionnel': '60.00%', 'panne': '40.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-12T16:52:05.411319', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-12 16:52:05,414 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-12 16:52:05,414 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-12 16:52:05,417 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour la location: LOC02
2025-05-12 16:52:05,424 - RandomForestFaultDetector - WARNING - Aucune description trouvée pour l'assetnum: EQP456
2025-05-12 16:52:05,449 - RandomForestFaultDetector - INFO - Probabilités de base: [1. 0.]
2025-05-12 16:52:05,452 - RandomForestFaultDetector - INFO - Probabilité finale de panne: 95.00%, Score de risque: 3.0
2025-05-12 16:52:05,458 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-12 16:52:05,458 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '95.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '5.00%', 'panne': '95.00%'}, 'risk_factors': ['Mot-clé détecté: malfunction', 'Mot-clé détecté: equipment', 'Multiple mots-clés détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement général', 'influencing_factors': []}, 'message': 'Analyse complétée avec succès', 'timestamp': '2025-05-12T16:52:05.458130', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-12 17:24:38,437 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 17:24:38,438 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 17:24:38,439 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 17:24:38,465 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 17:24:38,465 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 17:24:38,492 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 17:24:38,492 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 17:24:38,500 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 17:24:38,502 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 17:24:38,519 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 89 valeurs uniques
2025-05-12 17:24:38,520 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 70 valeurs uniques
2025-05-12 17:24:38,521 - RandomForestFaultDetector - INFO - Catégories pour Description: 12 valeurs uniques
2025-05-12 17:24:38,522 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-12 17:24:38,522 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 70 valeurs uniques
2025-05-12 17:24:38,529 - RandomForestFaultDetector - INFO - Distribution des pannes: {1: 266, 0: 234}
2025-05-12 17:24:38,531 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 17:24:38,536 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 17:24:38,541 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 17:24:38,548 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 17:24:38,552 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 17:24:38,557 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 70 classes
2025-05-12 17:24:38,572 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 17:24:38,572 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 17:24:38,786 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 17:24:38,809 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.7171710982347839, 'LOCATION': 0.0875884725111295, 'assetnum_description': 0.07797367413787643, 'ASSETNUM': 0.07208041671506543, 'location_description': 0.04518633840114471}}
2025-05-12 17:24:38,809 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 17:24:38,855 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 1.0, 'Precision': 1.0, 'Recall': 1.0, 'F1 Score': 1.0, 'ROC AUC': np.float64(1.0)}
2025-05-12 17:24:38,855 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       1.00      1.00      1.00        70
           1       1.00      1.00      1.00        80

    accuracy                           1.00       150
   macro avg       1.00      1.00      1.00       150
weighted avg       1.00      1.00      1.00       150

2025-05-12 17:24:38,856 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-12 17:24:39,442 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-12 17:24:46,823 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-12 17:24:46,846 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 668.65 KB
2025-05-12 17:24:46,847 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 1.0
2025-05-12 17:24:46,848 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-12 17:24:46,848 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-12 17:24:46,849 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-12 17:24:46,852 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-12 17:24:46,860 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '90.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '10.00%', 'panne': '90.00%'}, 'risk_factors': ['Mot-clé critique détecté: stopped', 'Mot-clé critique détecté: overheating', 'Mot-clé critique détecté: machine', 'Mots-clés multiples détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe critique du moteur', 'influencing_factors': []}, 'message': 'Analyse terminée avec succès', 'timestamp': '2025-05-12T17:24:46.853148', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-12 17:24:46,866 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-12 17:24:46,867 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '90.00%', 'risk_level': 'Faible', 'probabilities': {'fonctionnel': '90.00%', 'panne': '10.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse terminée avec succès', 'timestamp': '2025-05-12T17:24:46.867099', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-12 17:24:46,872 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-12 17:24:46,873 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-12 17:24:46,876 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-12 17:24:46,877 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '90.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '10.00%', 'panne': '90.00%'}, 'risk_factors': ['Mot-clé critique détecté: malfunction', 'Mot-clé critique détecté: equipment', 'Mots-clés multiples détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement majeur du système', 'influencing_factors': []}, 'message': 'Analyse terminée avec succès', 'timestamp': '2025-05-12T17:24:46.877088', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-12 17:31:19,785 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 17:31:19,785 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 17:31:19,801 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 17:31:19,821 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 17:31:19,821 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 17:31:19,840 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 17:31:19,840 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 17:31:19,850 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 17:31:19,852 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 17:31:19,857 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 89 valeurs uniques
2025-05-12 17:31:19,857 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 70 valeurs uniques
2025-05-12 17:31:19,857 - RandomForestFaultDetector - INFO - Catégories pour Description: 12 valeurs uniques
2025-05-12 17:31:19,871 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-12 17:31:19,871 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 70 valeurs uniques
2025-05-12 17:31:19,876 - RandomForestFaultDetector - INFO - Distribution des pannes: {1: 266, 0: 234}
2025-05-12 17:31:19,876 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 17:31:19,883 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 17:31:19,886 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 17:31:19,887 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 17:31:19,892 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 17:31:19,897 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 70 classes
2025-05-12 17:31:19,903 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 17:31:19,903 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 17:31:20,093 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 17:31:20,121 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.7171710982347839, 'LOCATION': 0.0875884725111295, 'assetnum_description': 0.07797367413787643, 'ASSETNUM': 0.07208041671506543, 'location_description': 0.04518633840114471}}
2025-05-12 17:31:20,121 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 17:31:20,169 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 1.0, 'Precision': 1.0, 'Recall': 1.0, 'F1 Score': 1.0, 'ROC AUC': np.float64(1.0)}
2025-05-12 17:31:20,169 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       1.00      1.00      1.00        70
           1       1.00      1.00      1.00        80

    accuracy                           1.00       150
   macro avg       1.00      1.00      1.00       150
weighted avg       1.00      1.00      1.00       150

2025-05-12 17:31:20,169 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-12 17:31:20,603 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-12 17:31:22,945 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-12 17:31:22,984 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 668.65 KB
2025-05-12 17:31:22,984 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 1.0
2025-05-12 17:31:22,985 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-12 17:31:22,986 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-12 17:31:22,987 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-12 17:31:22,989 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-12 17:31:22,992 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '90.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '10.00%', 'panne': '90.00%'}, 'risk_factors': ['Mot-clé critique détecté: stopped', 'Mot-clé critique détecté: overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mot-clé critique détecté: machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe critique du moteur', 'influencing_factors': []}, 'message': 'Analyse terminée avec succès', 'timestamp': '2025-05-12T17:31:22.990415', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-12 17:31:22,999 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-12 17:31:23,000 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '93.33%', 'risk_level': 'Faible', 'probabilities': {'fonctionnel': '93.33%', 'panne': '6.67%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse terminée avec succès', 'timestamp': '2025-05-12T17:31:23.000392', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-12 17:31:23,002 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-12 17:31:23,003 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-12 17:31:23,004 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-12 17:31:23,005 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '90.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '10.00%', 'panne': '90.00%'}, 'risk_factors': ['Mot-clé critique détecté: malfunction', 'Mot-clé critique détecté: equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement majeur du système', 'influencing_factors': []}, 'message': 'Analyse terminée avec succès', 'timestamp': '2025-05-12T17:31:23.005619', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-12 18:44:22,750 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 18:44:22,752 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 18:44:22,752 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 18:44:22,801 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 18:44:22,801 - RandomForestFaultDetector - INFO - Chargement des données de location depuis: C:\Users\omaim\backend_ia\data\table_location.csv
2025-05-12 18:44:22,839 - RandomForestFaultDetector - INFO - Données de location fusionnées avec succès
2025-05-12 18:44:22,839 - RandomForestFaultDetector - INFO - Chargement des données d'assetnum depuis: C:\Users\omaim\backend_ia\data\table_assetnum.csv
2025-05-12 18:44:22,852 - RandomForestFaultDetector - INFO - Données d'assetnum fusionnées avec succès
2025-05-12 18:44:22,856 - RandomForestFaultDetector - INFO - Après nettoyage: 500 enregistrements
2025-05-12 18:44:22,880 - RandomForestFaultDetector - INFO - Catégories pour LOCATION: 89 valeurs uniques
2025-05-12 18:44:22,880 - RandomForestFaultDetector - INFO - Catégories pour ASSETNUM: 70 valeurs uniques
2025-05-12 18:44:22,885 - RandomForestFaultDetector - INFO - Catégories pour Description: 12 valeurs uniques
2025-05-12 18:44:22,887 - RandomForestFaultDetector - INFO - Catégories pour location_description: 7 valeurs uniques
2025-05-12 18:44:22,888 - RandomForestFaultDetector - INFO - Catégories pour assetnum_description: 70 valeurs uniques
2025-05-12 18:44:22,894 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 409, 1: 91}
2025-05-12 18:44:22,894 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 18:44:22,905 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 18:44:22,911 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 18:44:22,917 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 18:44:22,923 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 18:44:22,929 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 70 classes
2025-05-12 18:44:22,950 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 18:44:22,950 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 18:44:23,369 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 18:44:23,402 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.7122195301772645, 'LOCATION': 0.09315624860764915, 'assetnum_description': 0.06697307582157276, 'ASSETNUM': 0.06624026440331797, 'location_description': 0.06141088099019565}}
2025-05-12 18:44:23,402 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 18:44:23,478 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9866666666666667, 'Precision': 1.0, 'Recall': 0.9259259259259259, 'F1 Score': 0.9615384615384616, 'ROC AUC': np.float64(0.9993977717554954)}
2025-05-12 18:44:23,480 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      1.00      0.99       123
           1       1.00      0.93      0.96        27

    accuracy                           0.99       150
   macro avg       0.99      0.96      0.98       150
weighted avg       0.99      0.99      0.99       150

2025-05-12 18:44:23,483 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-12 18:44:24,355 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-12 18:44:28,717 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-12 18:44:28,743 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 295.25 KB
2025-05-12 18:44:28,747 - RandomForestFaultDetector - INFO - Précision du modèle sauvegardée: 0.9866666666666667
2025-05-12 18:44:28,751 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: stopped
2025-05-12 18:44:28,753 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: overheating
2025-05-12 18:44:28,755 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: machine
2025-05-12 18:44:28,759 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-12 18:44:28,769 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '90.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '10.00%', 'panne': '90.00%'}, 'risk_factors': ['Mot-clé critique détecté: stopped', 'Mot-clé critique détecté: overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mots-clés multiples détectés: stopped, overheating', 'Mot-clé critique détecté: machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine', 'Mots-clés multiples détectés: stopped, overheating, machine'], 'fault_diagnosis': 'Surchauffe critique du moteur', 'influencing_factors': []}, 'message': 'Analyse terminée avec succès', 'timestamp': '2025-05-12T18:44:28.761212', 'input_data': {'LOCATION': 'BR300', 'STATUS': 'OPEN', 'WOPRIORITY': '2', 'ASSETNUM': 'EQP123', 'Description': 'Machine stopped due to overheating'}}}
2025-05-12 18:44:28,775 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-12 18:44:28,775 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '93.33%', 'risk_level': 'Faible', 'probabilities': {'fonctionnel': '93.33%', 'panne': '6.67%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse terminée avec succès', 'timestamp': '2025-05-12T18:44:28.775253', 'input_data': {'LOCATION': 'NEW_LOC', 'STATUS': 'INPRG', 'WOPRIORITY': '3', 'ASSETNUM': 'NEW_EQP', 'Description': 'Regular maintenance check'}}}
2025-05-12 18:44:28,775 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: malfunction
2025-05-12 18:44:28,775 - RandomForestFaultDetector - INFO - Mot-clé de panne détecté: equipment
2025-05-12 18:44:28,781 - RandomForestFaultDetector - WARNING - Impossible de récupérer les facteurs influents: No module named 'ia_model'
2025-05-12 18:44:28,781 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '90.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '10.00%', 'panne': '90.00%'}, 'risk_factors': ['Mot-clé critique détecté: malfunction', 'Mot-clé critique détecté: equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment', 'Mots-clés multiples détectés: malfunction, equipment'], 'fault_diagnosis': 'Dysfonctionnement majeur du système', 'influencing_factors': []}, 'message': 'Analyse terminée avec succès', 'timestamp': '2025-05-12T18:44:28.781360', 'input_data': {'LOCATION': 'LOC02', 'STATUS': 'WAPPR', 'WOPRIORITY': '1', 'ASSETNUM': 'EQP456', 'Description': 'Equipment malfunction detected'}}}
2025-05-12 18:47:07,670 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 18:47:07,674 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 19:00:02,682 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 19:00:02,684 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 19:00:02,685 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 19:00:02,712 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 19:00:02,743 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: 'utf-8' codec can't decode byte 0xc9 in position 0: invalid continuation byte
2025-05-12 19:00:02,775 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 427, 1: 73}
2025-05-12 19:00:02,775 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 19:00:02,784 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 19:00:02,793 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 19:00:02,799 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 19:00:02,806 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 19:00:02,810 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-12 19:00:02,824 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 19:00:02,825 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 19:00:03,154 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 19:00:03,182 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.7124550193511253, 'ASSETNUM': 0.1324627306548277, 'LOCATION': 0.10180602232367524, 'location_description': 0.05327622767037175, 'assetnum_description': 0.0}}
2025-05-12 19:00:03,183 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 19:00:03,240 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9866666666666667, 'Precision': 1.0, 'Recall': 0.9090909090909091, 'F1 Score': 0.9523809523809523, 'ROC AUC': np.float64(1.0)}
2025-05-12 19:00:03,240 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      1.00      0.99       128
           1       1.00      0.91      0.95        22

    accuracy                           0.99       150
   macro avg       0.99      0.95      0.97       150
weighted avg       0.99      0.99      0.99       150

2025-05-12 19:00:03,241 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-12 19:00:03,926 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-12 19:00:07,715 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-12 19:00:07,737 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 418.77 KB
2025-05-12 19:00:07,747 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '99.00%', 'risk_level': 'Critique', 'probabilities': {'fonctionnel': '1.00%', 'panne': '99.00%'}, 'risk_factors': ["Mot-clé de panne détecté: arrêt d'urgence", 'Mot-clé critique détecté: majeure', 'Problème technique détecté: surchauffe', 'Mot-clé de panne détecté: arrêt', 'Mot-clé de panne détecté: moteur', 'Mots-clés multiples détectés (5)'], 'fault_diagnosis': 'SURCHAUFFE+ARRÊT', 'influencing_factors': []}, 'message': 'Analyse terminée avec succès', 'timestamp': '2025-05-12T19:00:07.740911'}}
2025-05-12 19:00:07,751 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '100.00%', 'risk_level': 'Faible', 'probabilities': {'fonctionnel': '100.00%', 'panne': '0.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse terminée avec succès', 'timestamp': '2025-05-12T19:00:07.751971'}}
2025-05-12 19:00:07,756 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '99.00%', 'risk_level': 'Critique', 'probabilities': {'fonctionnel': '1.00%', 'panne': '99.00%'}, 'risk_factors': ['Mot-clé de panne détecté: important', 'Problème technique détecté: fuite', 'Mots-clés multiples détectés (2)'], 'fault_diagnosis': 'FUITE', 'influencing_factors': ['Usure des joints', 'Pression excessive', 'Corrosion']}, 'message': 'Analyse terminée avec succès', 'timestamp': '2025-05-12T19:00:07.755209'}}
2025-05-12 19:04:56,184 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 19:04:56,186 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 19:04:56,186 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 19:04:56,195 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 19:04:56,206 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: 'utf-8' codec can't decode byte 0xc9 in position 0: invalid continuation byte
2025-05-12 19:04:56,234 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 427, 1: 73}
2025-05-12 19:04:56,235 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 19:04:56,241 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 19:04:56,247 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 19:04:56,249 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 19:04:56,252 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 19:04:56,253 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-12 19:04:56,262 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 19:04:56,264 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 19:04:56,480 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 19:04:56,497 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.7124550193511253, 'ASSETNUM': 0.1324627306548277, 'LOCATION': 0.10180602232367524, 'location_description': 0.05327622767037175, 'assetnum_description': 0.0}}
2025-05-12 19:04:56,498 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 19:04:56,553 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9866666666666667, 'Precision': 1.0, 'Recall': 0.9090909090909091, 'F1 Score': 0.9523809523809523, 'ROC AUC': np.float64(1.0)}
2025-05-12 19:04:56,554 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      1.00      0.99       128
           1       1.00      0.91      0.95        22

    accuracy                           0.99       150
   macro avg       0.99      0.95      0.97       150
weighted avg       0.99      0.99      0.99       150

2025-05-12 19:04:56,554 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-12 19:04:57,088 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-12 19:04:59,663 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-12 19:04:59,676 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 418.77 KB
2025-05-12 19:04:59,677 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '99.00%', 'risk_level': 'Critique', 'probabilities': {'fonctionnel': '1.00%', 'panne': '99.00%'}, 'risk_factors': ['Situation critique détectée', "Arrêt d'urgence détecté", "Mot-clé critique détecté: arrêt d'urgence", 'Mot-clé critique détecté: majeure', 'Mot-clé critique détecté: surchauffe', 'Mot-clé critique détecté: arrêt', 'Mot-clé critique détecté: moteur', 'Combinaison de 5 problèmes détectés'], 'fault_diagnosis': 'SURCHAUFFE+ARRÊT', 'influencing_factors': []}, 'message': 'Analyse terminée avec succès', 'timestamp': '2025-05-12T19:04:59.677034'}}
2025-05-12 19:04:59,680 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '100.00%', 'risk_level': 'Faible', 'probabilities': {'fonctionnel': '100.00%', 'panne': '0.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse terminée avec succès', 'timestamp': '2025-05-12T19:04:59.680024'}}
2025-05-12 19:04:59,685 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '99.00%', 'risk_level': 'Critique', 'probabilities': {'fonctionnel': '1.00%', 'panne': '99.00%'}, 'risk_factors': ['Mot-clé critique détecté: important', 'Mot-clé critique détecté: fuite', 'Combinaison de 2 problèmes détectés'], 'fault_diagnosis': 'FUITE', 'influencing_factors': ['Usure des joints', 'Pression excessive', 'Corrosion']}, 'message': 'Analyse terminée avec succès', 'timestamp': '2025-05-12T19:04:59.685007'}}
2025-05-12 19:06:44,328 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 19:06:44,329 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 19:06:44,329 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 19:06:44,334 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 19:06:44,340 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: 'utf-8' codec can't decode byte 0xc9 in position 0: invalid continuation byte
2025-05-12 19:06:44,355 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 427, 1: 73}
2025-05-12 19:06:44,356 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 19:06:44,360 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 19:06:44,364 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 19:06:44,367 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 19:06:44,370 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 19:06:44,373 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-12 19:06:44,377 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 19:06:44,377 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 19:06:44,514 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 19:06:44,528 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.7124550193511253, 'ASSETNUM': 0.1324627306548277, 'LOCATION': 0.10180602232367524, 'location_description': 0.05327622767037175, 'assetnum_description': 0.0}}
2025-05-12 19:06:44,529 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 19:06:44,562 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9866666666666667, 'Precision': 1.0, 'Recall': 0.9090909090909091, 'F1 Score': 0.9523809523809523, 'ROC AUC': np.float64(1.0)}
2025-05-12 19:06:44,563 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      1.00      0.99       128
           1       1.00      0.91      0.95        22

    accuracy                           0.99       150
   macro avg       0.99      0.95      0.97       150
weighted avg       0.99      0.99      0.99       150

2025-05-12 19:06:44,563 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-12 19:06:45,115 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-12 19:06:48,961 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-12 19:06:48,978 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 418.77 KB
2025-05-12 19:06:48,980 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '99.00%', 'risk_level': 'Critique', 'probabilities': {'fonctionnel': '1.00%', 'panne': '99.00%'}, 'risk_factors': ["Condition critique détectée: arrêt d'urgence", 'Condition critique détectée: critique', 'Condition critique détectée: majeure', 'Problème technique détecté: surchauffe'], 'fault_diagnosis': 'SURCHAUFFE+ARRÊT', 'influencing_factors': []}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 19:06:48,984 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '100.00%', 'risk_level': 'Faible', 'probabilities': {'fonctionnel': '100.00%', 'panne': '0.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 19:06:48,988 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '70.00%', 'risk_level': 'Élevé', 'probabilities': {'fonctionnel': '30.00%', 'panne': '70.00%'}, 'risk_factors': ['Problème technique détecté: fuite'], 'fault_diagnosis': 'FUITE', 'influencing_factors': ['Usure des joints', 'Pression excessive', 'Corrosion']}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 19:09:31,789 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 19:09:31,789 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 19:09:31,790 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 19:09:31,801 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 19:09:31,811 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: 'utf-8' codec can't decode byte 0xc9 in position 0: invalid continuation byte
2025-05-12 19:09:31,830 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 427, 1: 73}
2025-05-12 19:09:31,831 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 19:09:31,837 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 19:09:31,842 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 19:09:31,845 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 19:09:31,849 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 19:09:31,853 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-12 19:09:31,857 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 19:09:31,857 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 19:09:32,142 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 19:09:32,184 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.7124550193511253, 'ASSETNUM': 0.1324627306548277, 'LOCATION': 0.10180602232367524, 'location_description': 0.05327622767037175, 'assetnum_description': 0.0}}
2025-05-12 19:09:32,187 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 19:09:32,253 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9866666666666667, 'Precision': 1.0, 'Recall': 0.9090909090909091, 'F1 Score': 0.9523809523809523, 'ROC AUC': np.float64(1.0)}
2025-05-12 19:09:32,253 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      1.00      0.99       128
           1       1.00      0.91      0.95        22

    accuracy                           0.99       150
   macro avg       0.99      0.95      0.97       150
weighted avg       0.99      0.99      0.99       150

2025-05-12 19:09:32,253 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-12 19:09:32,791 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-12 19:09:36,184 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-12 19:09:36,201 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 418.77 KB
2025-05-12 19:09:36,206 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '99.00%', 'risk_level': 'Critique', 'probabilities': {'fonctionnel': '1.00%', 'panne': '99.00%'}, 'risk_factors': ["Condition critique détectée: arrêt d'urgence", 'Condition critique détectée: critique', 'Condition critique détectée: majeure', 'Problème technique détecté: surchauffe', 'Problème technique détecté: moteur principal', 'Multiple problèmes critiques détectés (2)'], 'fault_diagnosis': 'SURCHAUFFE+ARRÊT', 'influencing_factors': []}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 19:09:36,209 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '100.00%', 'risk_level': 'Faible', 'probabilities': {'fonctionnel': '100.00%', 'panne': '0.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 19:09:36,215 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '99.00%', 'risk_level': 'Critique', 'probabilities': {'fonctionnel': '1.00%', 'panne': '99.00%'}, 'risk_factors': ['Problème technique détecté: fuite'], 'fault_diagnosis': 'FUITE', 'influencing_factors': ['Usure des joints', 'Pression excessive', 'Corrosion']}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 19:26:57,965 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 19:26:57,967 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 19:26:57,968 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 19:26:57,985 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 19:26:58,005 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: 'utf-8' codec can't decode byte 0xc9 in position 0: invalid continuation byte
2025-05-12 19:26:58,037 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 427, 1: 73}
2025-05-12 19:26:58,041 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 19:26:58,049 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 19:26:58,054 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 19:26:58,058 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 19:26:58,061 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 19:26:58,063 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-12 19:26:58,076 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 19:26:58,076 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 19:26:58,262 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 19:26:58,283 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.7124550193511253, 'ASSETNUM': 0.1324627306548277, 'LOCATION': 0.10180602232367524, 'location_description': 0.05327622767037175, 'assetnum_description': 0.0}}
2025-05-12 19:26:58,284 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 19:26:58,345 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9866666666666667, 'Precision': 1.0, 'Recall': 0.9090909090909091, 'F1 Score': 0.9523809523809523, 'ROC AUC': np.float64(1.0)}
2025-05-12 19:26:58,346 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      1.00      0.99       128
           1       1.00      0.91      0.95        22

    accuracy                           0.99       150
   macro avg       0.99      0.95      0.97       150
weighted avg       0.99      0.99      0.99       150

2025-05-12 19:26:58,346 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-12 19:26:58,934 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-12 19:27:01,629 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-12 19:27:01,647 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 418.77 KB
2025-05-12 19:27:01,652 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '99.00%', 'risk_level': 'Critique', 'probabilities': {'fonctionnel': '1.00%', 'panne': '99.00%'}, 'risk_factors': ["Condition critique détectée: arrêt d'urgence", 'Condition critique détectée: critique', 'Condition critique détectée: majeure', 'Problème technique détecté: surchauffe', 'Problème technique détecté: moteur principal', 'Combinaison critique de 2 problèmes détectés'], 'fault_diagnosis': 'SURCHAUFFE+ARRÊT', 'influencing_factors': []}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 19:27:01,659 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '100.00%', 'risk_level': 'Faible', 'probabilities': {'fonctionnel': '100.00%', 'panne': '0.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 19:27:01,663 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '99.00%', 'risk_level': 'Critique', 'probabilities': {'fonctionnel': '1.00%', 'panne': '99.00%'}, 'risk_factors': ['Condition critique détectée: important', 'Problème technique détecté: fuite'], 'fault_diagnosis': 'FUITE', 'influencing_factors': ['Usure des joints', 'Pression excessive', 'Corrosion']}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 19:33:51,070 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 19:33:51,071 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 19:33:51,071 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 19:33:51,088 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 19:33:51,107 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: 'utf-8' codec can't decode byte 0xc9 in position 0: invalid continuation byte
2025-05-12 19:33:51,133 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 427, 1: 73}
2025-05-12 19:33:51,133 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 19:33:51,140 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 19:33:51,145 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 19:33:51,148 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 19:33:51,150 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 19:33:51,153 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-12 19:33:51,162 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 19:33:51,163 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 19:33:51,300 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 19:33:51,314 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.7124550193511253, 'ASSETNUM': 0.1324627306548277, 'LOCATION': 0.10180602232367524, 'location_description': 0.05327622767037175, 'assetnum_description': 0.0}}
2025-05-12 19:33:51,316 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 19:33:51,351 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9866666666666667, 'Precision': 1.0, 'Recall': 0.9090909090909091, 'F1 Score': 0.9523809523809523, 'ROC AUC': np.float64(1.0)}
2025-05-12 19:33:51,351 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      1.00      0.99       128
           1       1.00      0.91      0.95        22

    accuracy                           0.99       150
   macro avg       0.99      0.95      0.97       150
weighted avg       0.99      0.99      0.99       150

2025-05-12 19:33:51,351 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-12 19:33:52,064 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-12 19:33:54,612 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-12 19:33:54,634 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 418.77 KB
2025-05-12 19:33:54,639 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '99.00%', 'risk_level': 'Critique', 'probabilities': {'fonctionnel': '1.00%', 'panne': '99.00%'}, 'risk_factors': ["Condition critique détectée: arrêt d'urgence", 'Condition critique détectée: critique', 'Condition critique détectée: majeure', 'Problème technique détecté: surchauffe', 'Problème technique détecté: moteur principal', 'Combinaison critique de 2 problèmes détectés'], 'fault_diagnosis': 'SURCHAUFFE+ARRÊT', 'influencing_factors': []}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 19:33:54,643 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '100.00%', 'risk_level': 'Faible', 'probabilities': {'fonctionnel': '100.00%', 'panne': '0.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 19:33:54,646 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '99.00%', 'risk_level': 'Critique', 'probabilities': {'fonctionnel': '1.00%', 'panne': '99.00%'}, 'risk_factors': ['Condition critique détectée: important', 'Condition critique détectée: importante', 'Problème technique détecté: fuite'], 'fault_diagnosis': 'FUITE', 'influencing_factors': ['Usure des joints', 'Pression excessive', 'Corrosion']}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 19:37:56,817 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 19:37:56,818 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 19:37:56,819 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 19:37:56,863 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 19:37:56,893 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: 'utf-8' codec can't decode byte 0xc9 in position 0: invalid continuation byte
2025-05-12 19:37:56,928 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 427, 1: 73}
2025-05-12 19:37:56,928 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 19:37:56,937 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 19:37:56,942 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 19:37:56,945 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 19:37:56,949 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 19:37:56,955 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-12 19:37:56,973 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 19:37:56,974 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 19:37:57,261 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 19:37:57,284 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.7124550193511253, 'ASSETNUM': 0.1324627306548277, 'LOCATION': 0.10180602232367524, 'location_description': 0.05327622767037175, 'assetnum_description': 0.0}}
2025-05-12 19:37:57,286 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 19:37:57,362 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9866666666666667, 'Precision': 1.0, 'Recall': 0.9090909090909091, 'F1 Score': 0.9523809523809523, 'ROC AUC': np.float64(1.0)}
2025-05-12 19:37:57,363 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      1.00      0.99       128
           1       1.00      0.91      0.95        22

    accuracy                           0.99       150
   macro avg       0.99      0.95      0.97       150
weighted avg       0.99      0.99      0.99       150

2025-05-12 19:37:57,363 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-12 19:37:57,932 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-12 19:37:59,926 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-12 19:37:59,968 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 418.77 KB
2025-05-12 19:37:59,969 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '99.00%', 'risk_level': 'Critique', 'probabilities': {'fonctionnel': '1.00%', 'panne': '99.00%'}, 'risk_factors': ["Condition critique détectée: arrêt d'urgence", 'Condition critique détectée: critique', 'Condition critique détectée: majeure', 'Problème technique détecté: surchauffe', 'Problème technique détecté: moteur principal', 'Combinaison critique de 2 problèmes détectés'], 'fault_diagnosis': 'SURCHAUFFE+ARRÊT', 'influencing_factors': []}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 19:37:59,972 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '100.00%', 'risk_level': 'Faible', 'probabilities': {'fonctionnel': '100.00%', 'panne': '0.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 19:37:59,973 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '99.00%', 'risk_level': 'Critique', 'probabilities': {'fonctionnel': '1.00%', 'panne': '99.00%'}, 'risk_factors': ['Condition critique détectée: important', 'Problème technique détecté: fuite'], 'fault_diagnosis': 'FUITE', 'influencing_factors': ['Usure des joints', 'Pression excessive', 'Corrosion']}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 19:44:18,543 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 19:44:18,543 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 19:44:18,543 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 19:44:18,548 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 19:44:18,554 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: 'utf-8' codec can't decode byte 0xc9 in position 0: invalid continuation byte
2025-05-12 19:44:18,567 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 427, 1: 73}
2025-05-12 19:44:18,568 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 19:44:18,575 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 19:44:18,578 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 19:44:18,583 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 19:44:18,587 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 19:44:18,590 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-12 19:44:18,594 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 19:44:18,595 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 19:44:18,732 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 19:44:18,744 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.7124550193511253, 'ASSETNUM': 0.1324627306548277, 'LOCATION': 0.10180602232367524, 'location_description': 0.05327622767037175, 'assetnum_description': 0.0}}
2025-05-12 19:44:18,745 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 19:44:18,784 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9866666666666667, 'Precision': 1.0, 'Recall': 0.9090909090909091, 'F1 Score': 0.9523809523809523, 'ROC AUC': np.float64(1.0)}
2025-05-12 19:44:18,784 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      1.00      0.99       128
           1       1.00      0.91      0.95        22

    accuracy                           0.99       150
   macro avg       0.99      0.95      0.97       150
weighted avg       0.99      0.99      0.99       150

2025-05-12 19:44:18,784 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-12 19:44:19,122 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-12 19:44:21,780 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-12 19:44:21,801 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 418.77 KB
2025-05-12 19:44:21,802 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: name 'final_fault_prob' is not defined
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 427, in predict_fault
    "Critique" if final_fault_prob > 0.4 else  # Seuils abaissés
                  ^^^^^^^^^^^^^^^^
NameError: name 'final_fault_prob' is not defined. Did you mean: 'base_fault_prob'?
2025-05-12 19:44:21,826 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: name 'final_fault_prob' is not defined
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 427, in predict_fault
    "Critique" if final_fault_prob > 0.4 else  # Seuils abaissés
                  ^^^^^^^^^^^^^^^^
NameError: name 'final_fault_prob' is not defined. Did you mean: 'base_fault_prob'?
2025-05-12 19:44:21,833 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: name 'final_fault_prob' is not defined
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 427, in predict_fault
    "Critique" if final_fault_prob > 0.4 else  # Seuils abaissés
                  ^^^^^^^^^^^^^^^^
NameError: name 'final_fault_prob' is not defined. Did you mean: 'base_fault_prob'?
2025-05-12 19:44:55,923 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 19:44:55,924 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 19:44:55,924 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 19:44:55,935 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 19:44:55,946 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: 'utf-8' codec can't decode byte 0xc9 in position 0: invalid continuation byte
2025-05-12 19:44:55,967 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 427, 1: 73}
2025-05-12 19:44:55,968 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 19:44:55,975 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 19:44:55,980 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 19:44:55,984 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 19:44:55,986 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 19:44:55,993 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-12 19:44:55,998 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 19:44:55,998 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 19:44:56,407 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 19:44:56,436 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.7124550193511253, 'ASSETNUM': 0.1324627306548277, 'LOCATION': 0.10180602232367524, 'location_description': 0.05327622767037175, 'assetnum_description': 0.0}}
2025-05-12 19:44:56,437 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 19:44:56,496 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9866666666666667, 'Precision': 1.0, 'Recall': 0.9090909090909091, 'F1 Score': 0.9523809523809523, 'ROC AUC': np.float64(1.0)}
2025-05-12 19:44:56,496 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      1.00      0.99       128
           1       1.00      0.91      0.95        22

    accuracy                           0.99       150
   macro avg       0.99      0.95      0.97       150
weighted avg       0.99      0.99      0.99       150

2025-05-12 19:44:56,497 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-12 19:44:57,049 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-12 19:45:00,485 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-12 19:45:00,540 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 418.77 KB
2025-05-12 19:45:00,543 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: name 'final_fault_prob' is not defined
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 427, in predict_fault
    "Critique" if final_fault_prob > 0.4 else  # Seuils abaissés
                  ^^^^^^^^^^^^^^^^
NameError: name 'final_fault_prob' is not defined. Did you mean: 'base_fault_prob'?
2025-05-12 19:45:00,567 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: name 'final_fault_prob' is not defined
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 427, in predict_fault
    "Critique" if final_fault_prob > 0.4 else  # Seuils abaissés
                  ^^^^^^^^^^^^^^^^
NameError: name 'final_fault_prob' is not defined. Did you mean: 'base_fault_prob'?
2025-05-12 19:45:00,644 - RandomForestFaultDetector - ERROR - Erreur lors de la prédiction: name 'final_fault_prob' is not defined
Traceback (most recent call last):
  File "C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest.py", line 427, in predict_fault
    "Critique" if final_fault_prob > 0.4 else  # Seuils abaissés
                  ^^^^^^^^^^^^^^^^
NameError: name 'final_fault_prob' is not defined. Did you mean: 'base_fault_prob'?
2025-05-12 19:46:53,569 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 19:46:53,569 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 19:46:53,569 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 19:46:53,600 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 19:46:53,637 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: 'utf-8' codec can't decode byte 0xc9 in position 0: invalid continuation byte
2025-05-12 19:46:53,685 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 427, 1: 73}
2025-05-12 19:46:53,687 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 19:46:53,691 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 19:46:53,697 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 19:46:53,699 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 19:46:53,708 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 19:46:53,709 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-12 19:46:53,720 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 19:46:53,723 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 19:46:54,104 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 19:46:54,128 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.7124550193511253, 'ASSETNUM': 0.1324627306548277, 'LOCATION': 0.10180602232367524, 'location_description': 0.05327622767037175, 'assetnum_description': 0.0}}
2025-05-12 19:46:54,129 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 19:46:54,209 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9866666666666667, 'Precision': 1.0, 'Recall': 0.9090909090909091, 'F1 Score': 0.9523809523809523, 'ROC AUC': np.float64(1.0)}
2025-05-12 19:46:54,215 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      1.00      0.99       128
           1       1.00      0.91      0.95        22

    accuracy                           0.99       150
   macro avg       0.99      0.95      0.97       150
weighted avg       0.99      0.99      0.99       150

2025-05-12 19:46:54,215 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-12 19:46:55,158 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-12 19:46:57,669 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-12 19:46:57,706 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 418.77 KB
2025-05-12 19:46:57,708 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '99.00%', 'risk_level': 'Critique', 'probabilities': {'fonctionnel': '1.00%', 'panne': '99.00%'}, 'risk_factors': ["Condition critique détectée: arrêt d'urgence", 'Condition critique détectée: critique', 'Condition critique détectée: majeure', 'Problème technique détecté: surchauffe', 'Problème technique détecté: moteur principal', 'Combinaison critique de 2 problèmes détectés'], 'fault_diagnosis': 'SURCHAUFFE+ARRÊT', 'influencing_factors': []}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 19:46:57,709 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '100.00%', 'risk_level': 'Faible', 'probabilities': {'fonctionnel': '100.00%', 'panne': '0.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 19:46:57,715 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '99.00%', 'risk_level': 'Critique', 'probabilities': {'fonctionnel': '1.00%', 'panne': '99.00%'}, 'risk_factors': ['Condition critique détectée: important', 'Condition critique détectée: importante', 'Problème technique détecté: fuite'], 'fault_diagnosis': 'FUITE', 'influencing_factors': ['Usure des joints', 'Pression excessive', 'Corrosion']}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 20:02:53,032 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 20:02:53,032 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 20:02:53,034 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 20:02:53,067 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 20:02:53,118 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: 'utf-8' codec can't decode byte 0xc9 in position 0: invalid continuation byte
2025-05-12 20:02:53,162 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 427, 1: 73}
2025-05-12 20:02:53,162 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 20:02:53,175 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 20:02:53,180 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 20:02:53,186 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 20:02:53,192 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 20:02:53,196 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-12 20:02:53,211 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 20:02:53,211 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 20:02:53,608 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 20:02:53,648 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.7124550193511253, 'ASSETNUM': 0.1324627306548277, 'LOCATION': 0.10180602232367524, 'location_description': 0.05327622767037175, 'assetnum_description': 0.0}}
2025-05-12 20:02:53,655 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 20:02:53,744 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9866666666666667, 'Precision': 1.0, 'Recall': 0.9090909090909091, 'F1 Score': 0.9523809523809523, 'ROC AUC': np.float64(1.0)}
2025-05-12 20:02:53,746 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      1.00      0.99       128
           1       1.00      0.91      0.95        22

    accuracy                           0.99       150
   macro avg       0.99      0.95      0.97       150
weighted avg       0.99      0.99      0.99       150

2025-05-12 20:02:53,746 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-12 20:02:54,628 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-12 20:02:57,848 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-12 20:02:57,898 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 418.77 KB
2025-05-12 20:02:57,899 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '99.00%', 'risk_level': 'Critique', 'probabilities': {'fonctionnel': '1.00%', 'panne': '99.00%'}, 'risk_factors': ["Condition critique détectée: arrêt d'urgence", 'Condition critique détectée: critique', 'Condition critique détectée: majeure', 'Problème technique détecté: surchauffe', 'Problème technique détecté: moteur principal', 'Combinaison critique de 2 problèmes détectés'], 'fault_diagnosis': 'SURCHAUFFE+ARRÊT', 'influencing_factors': []}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 20:02:57,905 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '100.00%', 'risk_level': 'Faible', 'probabilities': {'fonctionnel': '100.00%', 'panne': '0.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 20:02:57,909 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '99.00%', 'risk_level': 'Critique', 'probabilities': {'fonctionnel': '1.00%', 'panne': '99.00%'}, 'risk_factors': ['Condition critique détectée: important', 'Condition critique détectée: importante', 'Problème technique détecté: fuite'], 'fault_diagnosis': 'FUITE', 'influencing_factors': ['Usure des joints', 'Pression excessive', 'Corrosion']}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 20:12:49,081 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 20:12:49,082 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description']
2025-05-12 20:12:49,082 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 20:12:49,101 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 20:12:49,121 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: 'utf-8' codec can't decode byte 0xc9 in position 0: invalid continuation byte
2025-05-12 20:12:49,144 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 427, 1: 73}
2025-05-12 20:12:49,144 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 20:12:49,151 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 20:12:49,154 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 20:12:49,154 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 20:12:49,159 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 20:12:49,162 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-12 20:12:49,172 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 20:12:49,172 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 20:12:49,317 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 20:12:49,332 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.7124550193511253, 'ASSETNUM': 0.1324627306548277, 'LOCATION': 0.10180602232367524, 'location_description': 0.05327622767037175, 'assetnum_description': 0.0}}
2025-05-12 20:12:49,333 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 20:12:49,368 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.9866666666666667, 'Precision': 1.0, 'Recall': 0.9090909090909091, 'F1 Score': 0.9523809523809523, 'ROC AUC': np.float64(1.0)}
2025-05-12 20:12:49,369 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.98      1.00      0.99       128
           1       1.00      0.91      0.95        22

    accuracy                           0.99       150
   macro avg       0.99      0.95      0.97       150
weighted avg       0.99      0.99      0.99       150

2025-05-12 20:12:49,370 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-12 20:12:50,123 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-12 20:12:52,224 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-12 20:12:52,240 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 418.77 KB
2025-05-12 20:12:52,241 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '99.00%', 'risk_level': 'Critique', 'probabilities': {'fonctionnel': '1.00%', 'panne': '99.00%'}, 'risk_factors': ["Condition critique détectée: arrêt d'urgence", 'Condition critique détectée: critique', 'Condition critique détectée: majeure', 'Problème technique détecté: surchauffe', 'Problème technique détecté: moteur principal', 'Combinaison critique de 2 problèmes détectés'], 'fault_diagnosis': 'SURCHAUFFE+ARRÊT', 'influencing_factors': []}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 20:12:52,245 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'Fonctionnel', 'details': {'confidence': '100.00%', 'risk_level': 'Faible', 'probabilities': {'fonctionnel': '100.00%', 'panne': '0.00%'}, 'risk_factors': [], 'fault_diagnosis': None, 'influencing_factors': []}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 20:12:52,248 - RandomForestFaultDetector - INFO - Résultat de la prédiction: {'success': True, 'prediction': {'etat': 'En panne', 'details': {'confidence': '99.00%', 'risk_level': 'Critique', 'probabilities': {'fonctionnel': '1.00%', 'panne': '99.00%'}, 'risk_factors': ['Condition critique détectée: important', 'Condition critique détectée: importante', 'Problème technique détecté: fuite'], 'fault_diagnosis': 'FUITE', 'influencing_factors': ['Usure des joints', 'Pression excessive', 'Corrosion']}, 'message': 'Analyse terminée avec succès'}}
2025-05-12 20:31:44,462 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 20:31:44,464 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'FC', 'PB', 'type_lubrification', 'oil_level', 'downtime', 'vibration', 'power_alimentation', 'maintenance_frequency', 'seniority']
2025-05-12 20:31:44,464 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 20:31:44,481 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 20:31:44,502 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: 'utf-8' codec can't decode byte 0xc9 in position 0: invalid continuation byte
2025-05-12 20:31:44,525 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 427, 1: 73}
2025-05-12 20:31:44,526 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 20:31:44,532 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 20:31:44,535 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 20:31:44,538 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 20:31:44,541 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 20:31:44,544 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-12 20:31:44,546 - RandomForestFaultDetector - INFO - Encodage de FC terminé avec 11 classes
2025-05-12 20:31:44,547 - RandomForestFaultDetector - INFO - Encodage de PB terminé avec 12 classes
2025-05-12 20:31:44,551 - RandomForestFaultDetector - INFO - Encodage de type_lubrification terminé avec 5 classes
2025-05-12 20:31:44,553 - RandomForestFaultDetector - INFO - Encodage de power_alimentation terminé avec 4 classes
2025-05-12 20:31:44,555 - RandomForestFaultDetector - INFO - Encodage de maintenance_frequency terminé avec 5 classes
2025-05-12 20:31:44,557 - RandomForestFaultDetector - INFO - Features disponibles pour l'entraînement: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'FC', 'PB', 'type_lubrification', 'oil_level', 'downtime', 'vibration', 'power_alimentation', 'maintenance_frequency', 'seniority']
2025-05-12 20:31:44,567 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 20:31:44,568 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 20:31:44,721 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 20:31:45,156 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'PB': 0.2973364808775224, 'FC': 0.291184518895418, 'Description': 0.27970441077076313, 'LOCATION': 0.025618376030199227, 'ASSETNUM': 0.02439622105758731, 'downtime': 0.024235020195220135, 'seniority': 0.014030818266220263, 'power_alimentation': 0.013339867886235366, 'location_description': 0.009752290587165004, 'oil_level': 0.008183430704597669, 'type_lubrification': 0.006518464034798763, 'maintenance_frequency': 0.005700100694272485, 'assetnum_description': 0.0, 'vibration': 0.0}}
2025-05-12 20:31:45,156 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 20:31:45,197 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 1.0, 'Precision': 1.0, 'Recall': 1.0, 'F1 Score': 1.0, 'ROC AUC': np.float64(1.0)}
2025-05-12 20:31:45,197 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       1.00      1.00      1.00       128
           1       1.00      1.00      1.00        22

    accuracy                           1.00       150
   macro avg       1.00      1.00      1.00       150
weighted avg       1.00      1.00      1.00       150

2025-05-12 20:32:20,262 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 20:32:20,263 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'FC', 'PB', 'type_lubrification', 'oil_level', 'downtime', 'vibration', 'power_alimentation', 'maintenance_frequency', 'seniority']
2025-05-12 20:32:20,264 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 20:32:20,275 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 20:32:20,286 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: 'utf-8' codec can't decode byte 0xc9 in position 0: invalid continuation byte
2025-05-12 20:32:20,316 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 427, 1: 73}
2025-05-12 20:32:20,316 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 20:32:20,328 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 20:32:20,334 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 20:32:20,341 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 20:32:20,345 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 20:32:20,349 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-12 20:32:20,352 - RandomForestFaultDetector - INFO - Encodage de FC terminé avec 11 classes
2025-05-12 20:32:20,357 - RandomForestFaultDetector - INFO - Encodage de PB terminé avec 12 classes
2025-05-12 20:32:20,361 - RandomForestFaultDetector - INFO - Encodage de type_lubrification terminé avec 5 classes
2025-05-12 20:32:20,364 - RandomForestFaultDetector - INFO - Encodage de power_alimentation terminé avec 4 classes
2025-05-12 20:32:20,369 - RandomForestFaultDetector - INFO - Encodage de maintenance_frequency terminé avec 5 classes
2025-05-12 20:32:20,369 - RandomForestFaultDetector - INFO - Features disponibles pour l'entraînement: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'FC', 'PB', 'type_lubrification', 'oil_level', 'downtime', 'vibration', 'power_alimentation', 'maintenance_frequency', 'seniority']
2025-05-12 20:32:20,378 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 20:32:20,379 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 20:32:20,832 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 20:32:21,479 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'PB': 0.2973364808775224, 'FC': 0.291184518895418, 'Description': 0.27970441077076313, 'LOCATION': 0.025618376030199227, 'ASSETNUM': 0.02439622105758731, 'downtime': 0.024235020195220135, 'seniority': 0.014030818266220263, 'power_alimentation': 0.013339867886235366, 'location_description': 0.009752290587165004, 'oil_level': 0.008183430704597669, 'type_lubrification': 0.006518464034798763, 'maintenance_frequency': 0.005700100694272485, 'assetnum_description': 0.0, 'vibration': 0.0}}
2025-05-12 20:32:21,481 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 20:32:21,540 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 1.0, 'Precision': 1.0, 'Recall': 1.0, 'F1 Score': 1.0, 'ROC AUC': np.float64(1.0)}
2025-05-12 20:32:21,540 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       1.00      1.00      1.00       128
           1       1.00      1.00      1.00        22

    accuracy                           1.00       150
   macro avg       1.00      1.00      1.00       150
weighted avg       1.00      1.00      1.00       150

2025-05-12 20:33:26,570 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 20:33:26,570 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'FC', 'PB', 'type_lubrification', 'oil_level', 'downtime', 'vibration', 'power_alimentation', 'maintenance_frequency', 'seniority']
2025-05-12 20:33:26,571 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 20:33:26,577 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 20:33:26,582 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: 'utf-8' codec can't decode byte 0xc9 in position 0: invalid continuation byte
2025-05-12 20:33:26,600 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 427, 1: 73}
2025-05-12 20:33:26,601 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 20:33:26,607 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 20:33:26,611 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 20:33:26,613 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 20:33:26,615 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 20:33:26,618 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-12 20:33:26,621 - RandomForestFaultDetector - INFO - Encodage de FC terminé avec 11 classes
2025-05-12 20:33:26,623 - RandomForestFaultDetector - INFO - Encodage de PB terminé avec 12 classes
2025-05-12 20:33:26,624 - RandomForestFaultDetector - INFO - Encodage de type_lubrification terminé avec 5 classes
2025-05-12 20:33:26,626 - RandomForestFaultDetector - INFO - Encodage de power_alimentation terminé avec 4 classes
2025-05-12 20:33:26,628 - RandomForestFaultDetector - INFO - Encodage de maintenance_frequency terminé avec 5 classes
2025-05-12 20:33:26,628 - RandomForestFaultDetector - INFO - Features disponibles pour l'entraînement: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'FC', 'PB', 'type_lubrification', 'oil_level', 'downtime', 'vibration', 'power_alimentation', 'maintenance_frequency', 'seniority']
2025-05-12 20:33:26,631 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 20:33:26,632 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 20:33:26,940 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 20:33:27,597 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'PB': 0.2973364808775224, 'FC': 0.291184518895418, 'Description': 0.27970441077076313, 'LOCATION': 0.025618376030199227, 'ASSETNUM': 0.02439622105758731, 'downtime': 0.024235020195220135, 'seniority': 0.014030818266220263, 'power_alimentation': 0.013339867886235366, 'location_description': 0.009752290587165004, 'oil_level': 0.008183430704597669, 'type_lubrification': 0.006518464034798763, 'maintenance_frequency': 0.005700100694272485, 'assetnum_description': 0.0, 'vibration': 0.0}}
2025-05-12 20:33:27,598 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 20:33:27,665 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 1.0, 'Precision': 1.0, 'Recall': 1.0, 'F1 Score': 1.0, 'ROC AUC': np.float64(1.0)}
2025-05-12 20:33:27,666 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       1.00      1.00      1.00       128
           1       1.00      1.00      1.00        22

    accuracy                           1.00       150
   macro avg       1.00      1.00      1.00       150
weighted avg       1.00      1.00      1.00       150

2025-05-12 20:33:27,666 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-12 20:33:28,022 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-12 20:34:18,621 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-12 20:34:18,633 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 277.56 KB
2025-05-12 20:35:57,475 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 20:35:57,475 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'type_lubrification', 'oil_level', 'downtime', 'vibration', 'power_alimentation', 'maintenance_frequency', 'seniority']
2025-05-12 20:35:57,475 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 20:35:57,486 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 20:35:57,504 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: 'utf-8' codec can't decode byte 0xc9 in position 0: invalid continuation byte
2025-05-12 20:35:57,550 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 427, 1: 73}
2025-05-12 20:35:57,551 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 20:35:57,554 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 20:35:57,559 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 20:35:57,564 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 20:35:57,568 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 20:35:57,572 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-12 20:35:57,576 - RandomForestFaultDetector - INFO - Encodage de type_lubrification terminé avec 5 classes
2025-05-12 20:35:57,581 - RandomForestFaultDetector - INFO - Encodage de power_alimentation terminé avec 4 classes
2025-05-12 20:35:57,588 - RandomForestFaultDetector - INFO - Encodage de maintenance_frequency terminé avec 5 classes
2025-05-12 20:35:57,588 - RandomForestFaultDetector - INFO - Features disponibles pour l'entraînement: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'type_lubrification', 'oil_level', 'downtime', 'vibration', 'power_alimentation', 'maintenance_frequency', 'seniority']
2025-05-12 20:35:57,602 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 20:35:57,603 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 20:35:57,896 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 20:35:58,495 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.5090332978240387, 'ASSETNUM': 0.11281327967020982, 'LOCATION': 0.08660870549507527, 'downtime': 0.06593702969471898, 'seniority': 0.06204191304204149, 'location_description': 0.04707725043838203, 'oil_level': 0.035211899345537305, 'power_alimentation': 0.03065835974301814, 'maintenance_frequency': 0.025531564214645856, 'type_lubrification': 0.02508670053233222, 'assetnum_description': 0.0, 'vibration': 0.0}}
2025-05-12 20:35:58,496 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 20:35:58,557 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.94, 'Precision': 1.0, 'Recall': 0.5909090909090909, 'F1 Score': 0.7428571428571429, 'ROC AUC': np.float64(0.9989346590909091)}
2025-05-12 20:35:58,557 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.93      1.00      0.97       128
           1       1.00      0.59      0.74        22

    accuracy                           0.94       150
   macro avg       0.97      0.80      0.85       150
weighted avg       0.94      0.94      0.93       150

2025-05-12 20:35:58,558 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-12 20:35:58,935 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-12 20:36:20,205 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-12 20:36:20,224 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 589.15 KB
2025-05-12 22:55:30,369 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 22:55:30,370 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'type_lubrification', 'oil_level', 'downtime', 'vibration', 'power_alimentation', 'maintenance_frequency', 'seniority']
2025-05-12 22:55:30,370 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 22:55:30,384 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 22:55:30,402 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: 'utf-8' codec can't decode byte 0xc9 in position 0: invalid continuation byte
2025-05-12 22:55:30,423 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 427, 1: 73}
2025-05-12 22:55:30,423 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 22:55:30,427 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 22:55:30,431 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 22:55:30,433 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 22:55:30,434 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 22:55:30,435 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-12 22:55:30,439 - RandomForestFaultDetector - INFO - Encodage de type_lubrification terminé avec 5 classes
2025-05-12 22:55:30,441 - RandomForestFaultDetector - INFO - Encodage de power_alimentation terminé avec 4 classes
2025-05-12 22:55:30,443 - RandomForestFaultDetector - INFO - Encodage de maintenance_frequency terminé avec 5 classes
2025-05-12 22:55:30,443 - RandomForestFaultDetector - INFO - Features disponibles pour l'entraînement: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'type_lubrification', 'oil_level', 'downtime', 'vibration', 'power_alimentation', 'maintenance_frequency', 'seniority']
2025-05-12 22:55:30,452 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 22:55:30,452 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 22:55:30,732 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 22:55:31,364 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.5090332978240387, 'ASSETNUM': 0.11281327967020982, 'LOCATION': 0.08660870549507527, 'downtime': 0.06593702969471898, 'seniority': 0.06204191304204149, 'location_description': 0.04707725043838203, 'oil_level': 0.035211899345537305, 'power_alimentation': 0.03065835974301814, 'maintenance_frequency': 0.025531564214645856, 'type_lubrification': 0.02508670053233222, 'assetnum_description': 0.0, 'vibration': 0.0}}
2025-05-12 22:55:31,365 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 22:55:31,420 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.94, 'Precision': 1.0, 'Recall': 0.5909090909090909, 'F1 Score': 0.7428571428571429, 'ROC AUC': np.float64(0.9989346590909091)}
2025-05-12 22:55:31,420 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.93      1.00      0.97       128
           1       1.00      0.59      0.74        22

    accuracy                           0.94       150
   macro avg       0.97      0.80      0.85       150
weighted avg       0.94      0.94      0.93       150

2025-05-12 22:56:14,695 - RandomForestFaultDetector - INFO - Initialisation du détecteur de pannes avec Random Forest
2025-05-12 22:56:14,696 - RandomForestFaultDetector - INFO - Features utilisées: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'type_lubrification', 'oil_level', 'downtime', 'vibration', 'power_alimentation', 'maintenance_frequency', 'seniority']
2025-05-12 22:56:14,700 - RandomForestFaultDetector - INFO - Chargement des données depuis: C:\Users\omaim\backend_ia\data\clean_workorders.csv
2025-05-12 22:56:14,720 - RandomForestFaultDetector - INFO - Données chargées: 500 enregistrements
2025-05-12 22:56:14,735 - RandomForestFaultDetector - WARNING - Impossible de charger table_assetnum.csv: 'utf-8' codec can't decode byte 0xc9 in position 0: invalid continuation byte
2025-05-12 22:56:14,785 - RandomForestFaultDetector - INFO - Distribution des pannes: {0: 427, 1: 73}
2025-05-12 22:56:14,786 - RandomForestFaultDetector - INFO - Début du prétraitement des données
2025-05-12 22:56:14,793 - RandomForestFaultDetector - INFO - Encodage de LOCATION terminé avec 89 classes
2025-05-12 22:56:14,801 - RandomForestFaultDetector - INFO - Encodage de ASSETNUM terminé avec 70 classes
2025-05-12 22:56:14,805 - RandomForestFaultDetector - INFO - Encodage de Description terminé avec 12 classes
2025-05-12 22:56:14,810 - RandomForestFaultDetector - INFO - Encodage de location_description terminé avec 7 classes
2025-05-12 22:56:14,815 - RandomForestFaultDetector - INFO - Encodage de assetnum_description terminé avec 1 classes
2025-05-12 22:56:14,818 - RandomForestFaultDetector - INFO - Encodage de type_lubrification terminé avec 5 classes
2025-05-12 22:56:14,822 - RandomForestFaultDetector - INFO - Encodage de power_alimentation terminé avec 4 classes
2025-05-12 22:56:14,826 - RandomForestFaultDetector - INFO - Encodage de maintenance_frequency terminé avec 5 classes
2025-05-12 22:56:14,827 - RandomForestFaultDetector - INFO - Features disponibles pour l'entraînement: ['LOCATION', 'ASSETNUM', 'Description', 'location_description', 'assetnum_description', 'type_lubrification', 'oil_level', 'downtime', 'vibration', 'power_alimentation', 'maintenance_frequency', 'seniority']
2025-05-12 22:56:14,835 - RandomForestFaultDetector - INFO - Données divisées: 350 échantillons d'entraînement, 150 échantillons de test
2025-05-12 22:56:14,835 - RandomForestFaultDetector - INFO - Début de l'entraînement du modèle
2025-05-12 22:56:15,289 - RandomForestFaultDetector - INFO - Modèle entraîné avec succès
2025-05-12 22:56:16,116 - RandomForestFaultDetector - INFO - Importance des features: {'importance': {'Description': 0.5090332978240387, 'ASSETNUM': 0.11281327967020982, 'LOCATION': 0.08660870549507527, 'downtime': 0.06593702969471898, 'seniority': 0.06204191304204149, 'location_description': 0.04707725043838203, 'oil_level': 0.035211899345537305, 'power_alimentation': 0.03065835974301814, 'maintenance_frequency': 0.025531564214645856, 'type_lubrification': 0.02508670053233222, 'assetnum_description': 0.0, 'vibration': 0.0}}
2025-05-12 22:56:16,117 - RandomForestFaultDetector - INFO - Début de l'évaluation du modèle
2025-05-12 22:56:16,188 - RandomForestFaultDetector - INFO - Métriques d'évaluation: {'Accuracy': 0.94, 'Precision': 1.0, 'Recall': 0.5909090909090909, 'F1 Score': 0.7428571428571429, 'ROC AUC': np.float64(0.9989346590909091)}
2025-05-12 22:56:16,188 - RandomForestFaultDetector - INFO - Rapport de classification:
              precision    recall  f1-score   support

           0       0.93      1.00      0.97       128
           1       1.00      0.59      0.74        22

    accuracy                           0.94       150
   macro avg       0.97      0.80      0.85       150
weighted avg       0.94      0.94      0.93       150

2025-05-12 22:56:16,189 - RandomForestFaultDetector - INFO - Génération de la matrice de confusion
2025-05-12 22:56:16,724 - RandomForestFaultDetector - INFO - Matrice de confusion sauvegardée dans 'confusion_matrix.png'
2025-05-12 22:56:35,947 - RandomForestFaultDetector - INFO - Sauvegarde du modèle dans: C:\Users\omaim\backend_ia\ia_model\core\fault_detection\supervised\random_forest_model.pkl
2025-05-12 22:56:35,968 - RandomForestFaultDetector - INFO - Modèle sauvegardé avec succès. Taille: 589.28 KB
